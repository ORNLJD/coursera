!function(definition){if("function"==typeof bootstrap)bootstrap("promise",definition);else if("object"==typeof exports)module.exports=definition();else if("function"==typeof define&&define.amd)define("q",definition);else if("undefined"!=typeof ses)if(!ses.ok())return;else ses.makeQ=definition;else Q=definition()}(function(){function uncurryThis(f){return function(){return call.apply(f,arguments)}}function isObject(value){return value===Object(value)}function isStopIteration(exception){return"[object StopIteration]"===object_toString(exception)||exception instanceof QReturnValue}function makeStackTraceLong(error,promise){if(hasStacks&&promise.stack&&"object"==typeof error&&null!==error&&error.stack&&-1===error.stack.indexOf(STACK_JUMP_SEPARATOR)){for(var stacks=[],p=promise;p;p=p.source)if(p.stack)stacks.unshift(p.stack);stacks.unshift(error.stack);var concatedStacks=stacks.join("\n"+STACK_JUMP_SEPARATOR+"\n");error.stack=filterStackString(concatedStacks)}}function filterStackString(stackString){for(var lines=stackString.split("\n"),desiredLines=[],i=0;i<lines.length;++i){var line=lines[i];if(!isInternalFrame(line)&&!isNodeFrame(line)&&line)desiredLines.push(line)}return desiredLines.join("\n")}function isNodeFrame(stackLine){return-1!==stackLine.indexOf("(module.js:")||-1!==stackLine.indexOf("(node.js:")}function getFileNameAndLineNumber(stackLine){var attempt1=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(stackLine);if(attempt1)return[attempt1[1],Number(attempt1[2])];var attempt2=/at ([^ ]+):(\d+):(?:\d+)$/.exec(stackLine);if(attempt2)return[attempt2[1],Number(attempt2[2])];var attempt3=/.*@(.+):(\d+)$/.exec(stackLine);if(attempt3)return[attempt3[1],Number(attempt3[2])]}function isInternalFrame(stackLine){var fileNameAndLineNumber=getFileNameAndLineNumber(stackLine);if(!fileNameAndLineNumber)return!1;var fileName=fileNameAndLineNumber[0],lineNumber=fileNameAndLineNumber[1];return fileName===qFileName&&lineNumber>=qStartingLine&&qEndingLine>=lineNumber}function captureLine(){if(!hasStacks)return;try{throw new Error}catch(e){var lines=e.stack.split("\n"),firstLine=lines[0].indexOf("@")>0?lines[1]:lines[2],fileNameAndLineNumber=getFileNameAndLineNumber(firstLine);if(!fileNameAndLineNumber)return;return qFileName=fileNameAndLineNumber[0],fileNameAndLineNumber[1]}}function deprecate(callback,name,alternative){return function(){if("undefined"!=typeof console&&"function"==typeof console.warn)console.warn(name+" is deprecated, use "+alternative+" instead.",new Error("").stack);return callback.apply(callback,arguments)}}function Q(value){if(isPromise(value))return value;if(isPromiseAlike(value))return coerce(value);else return fulfill(value)}function defer(){function become(newPromise){resolvedPromise=newPromise,promise.source=newPromise,array_reduce(messages,function(undefined,message){nextTick(function(){newPromise.promiseDispatch.apply(newPromise,message)})},void 0),messages=void 0,progressListeners=void 0}var messages=[],progressListeners=[],resolvedPromise,deferred=object_create(defer.prototype),promise=object_create(Promise.prototype);if(promise.promiseDispatch=function(resolve,op,operands){var args=array_slice(arguments);if(messages){if(messages.push(args),"when"===op&&operands[1])progressListeners.push(operands[1])}else nextTick(function(){resolvedPromise.promiseDispatch.apply(resolvedPromise,args)})},promise.valueOf=function(){if(messages)return promise;var nearerValue=nearer(resolvedPromise);if(isPromise(nearerValue))resolvedPromise=nearerValue;return nearerValue},promise.inspect=function(){if(!resolvedPromise)return{state:"pending"};return resolvedPromise.inspect()},Q.longStackSupport&&hasStacks)try{throw new Error}catch(e){promise.stack=e.stack.substring(e.stack.indexOf("\n")+1)}return deferred.promise=promise,deferred.resolve=function(value){if(resolvedPromise)return;become(Q(value))},deferred.fulfill=function(value){if(resolvedPromise)return;become(fulfill(value))},deferred.reject=function(reason){if(resolvedPromise)return;become(reject(reason))},deferred.notify=function(progress){if(resolvedPromise)return;array_reduce(progressListeners,function(undefined,progressListener){nextTick(function(){progressListener(progress)})},void 0)},deferred}function promise(resolver){if("function"!=typeof resolver)throw new TypeError("resolver must be a function.");var deferred=defer();try{resolver(deferred.resolve,deferred.reject,deferred.notify)}catch(reason){deferred.reject(reason)}return deferred.promise}function race(answerPs){return promise(function(resolve,reject){for(var i=0,len=answerPs.length;len>i;i++)Q(answerPs[i]).then(resolve,reject)})}function Promise(descriptor,fallback,inspect){if(void 0===fallback)fallback=function(op){return reject(new Error("Promise does not support operation: "+op))};if(void 0===inspect)inspect=function(){return{state:"unknown"}};var promise=object_create(Promise.prototype);if(promise.promiseDispatch=function(resolve,op,args){var result;try{if(descriptor[op])result=descriptor[op].apply(promise,args);else result=fallback.call(promise,op,args)}catch(exception){result=reject(exception)}if(resolve)resolve(result)},promise.inspect=inspect,inspect){var inspected=inspect();if("rejected"===inspected.state)promise.exception=inspected.reason;promise.valueOf=function(){var inspected=inspect();if("pending"===inspected.state||"rejected"===inspected.state)return promise;return inspected.value}}return promise}function when(value,fulfilled,rejected,progressed){return Q(value).then(fulfilled,rejected,progressed)}function nearer(value){if(isPromise(value)){var inspected=value.inspect();if("fulfilled"===inspected.state)return inspected.value}return value}function isPromise(object){return isObject(object)&&"function"==typeof object.promiseDispatch&&"function"==typeof object.inspect}function isPromiseAlike(object){return isObject(object)&&"function"==typeof object.then}function isPending(object){return isPromise(object)&&"pending"===object.inspect().state}function isFulfilled(object){return!isPromise(object)||"fulfilled"===object.inspect().state}function isRejected(object){return isPromise(object)&&"rejected"===object.inspect().state}function resetUnhandledRejections(){if(unhandledReasons.length=0,unhandledRejections.length=0,!trackUnhandledRejections)trackUnhandledRejections=!0}function trackRejection(promise,reason){if(!trackUnhandledRejections)return;if(unhandledRejections.push(promise),reason&&"undefined"!=typeof reason.stack)unhandledReasons.push(reason.stack);else unhandledReasons.push("(no stack) "+reason)}function untrackRejection(promise){if(!trackUnhandledRejections)return;var at=array_indexOf(unhandledRejections,promise);if(-1!==at)unhandledRejections.splice(at,1),unhandledReasons.splice(at,1)}function reject(reason){var rejection=Promise({when:function(rejected){if(rejected)untrackRejection(this);return rejected?rejected(reason):this}},function fallback(){return this},function inspect(){return{state:"rejected",reason:reason}});return trackRejection(rejection,reason),rejection}function fulfill(value){return Promise({when:function(){return value},get:function(name){return value[name]},set:function(name,rhs){value[name]=rhs},"delete":function(name){delete value[name]},post:function(name,args){if(null===name||void 0===name)return value.apply(void 0,args);else return value[name].apply(value,args)},apply:function(thisp,args){return value.apply(thisp,args)},keys:function(){return object_keys(value)}},void 0,function inspect(){return{state:"fulfilled",value:value}})}function coerce(promise){var deferred=defer();return nextTick(function(){try{promise.then(deferred.resolve,deferred.reject,deferred.notify)}catch(exception){deferred.reject(exception)}}),deferred.promise}function master(object){return Promise({isDef:function(){}},function fallback(op,args){return dispatch(object,op,args)},function(){return Q(object).inspect()})}function spread(value,fulfilled,rejected){return Q(value).spread(fulfilled,rejected)}function async(makeGenerator){return function(){function continuer(verb,arg){var result;if("undefined"==typeof StopIteration){try{result=generator[verb](arg)}catch(exception){return reject(exception)}if(result.done)return result.value;else return when(result.value,callback,errback)}else{try{result=generator[verb](arg)}catch(exception){if(isStopIteration(exception))return exception.value;else return reject(exception)}return when(result,callback,errback)}}var generator=makeGenerator.apply(this,arguments),callback=continuer.bind(continuer,"next"),errback=continuer.bind(continuer,"throw");return callback()}}function spawn(makeGenerator){Q.done(Q.async(makeGenerator)())}function _return(value){throw new QReturnValue(value)}function promised(callback){return function(){return spread([this,all(arguments)],function(self,args){return callback.apply(self,args)})}}function dispatch(object,op,args){return Q(object).dispatch(op,args)}function all(promises){return when(promises,function(promises){var countDown=0,deferred=defer();if(array_reduce(promises,function(undefined,promise,index){var snapshot;if(isPromise(promise)&&"fulfilled"===(snapshot=promise.inspect()).state)promises[index]=snapshot.value;else++countDown,when(promise,function(value){if(promises[index]=value,0===--countDown)deferred.resolve(promises)},deferred.reject,function(progress){deferred.notify({index:index,value:progress})})},void 0),0===countDown)deferred.resolve(promises);return deferred.promise})}function allResolved(promises){return when(promises,function(promises){return promises=array_map(promises,Q),when(all(array_map(promises,function(promise){return when(promise,noop,noop)})),function(){return promises})})}function allSettled(promises){return Q(promises).allSettled()}function progress(object,progressed){return Q(object).then(void 0,void 0,progressed)}function nodeify(object,nodeback){return Q(object).nodeify(nodeback)}var hasStacks=!1;try{throw new Error}catch(e){hasStacks=!!e.stack}var qStartingLine=captureLine(),qFileName,noop=function(){},nextTick=function(){function flush(){for(;head.next;){head=head.next;var task=head.task;head.task=void 0;var domain=head.domain;if(domain)head.domain=void 0,domain.enter();try{task()}catch(e){if(isNodeJS){if(domain)domain.exit();if(setTimeout(flush,0),domain)domain.enter();throw e}else setTimeout(function(){throw e},0)}if(domain)domain.exit()}flushing=!1}var head={task:void 0,next:null},tail=head,flushing=!1,requestTick=void 0,isNodeJS=!1;if(nextTick=function(task){if(tail=tail.next={task:task,domain:isNodeJS&&process.domain,next:null},!flushing)flushing=!0,requestTick()},"undefined"!=typeof process&&process.nextTick)isNodeJS=!0,requestTick=function(){process.nextTick(flush)};else if("function"==typeof setImmediate)if("undefined"!=typeof window)requestTick=setImmediate.bind(window,flush);else requestTick=function(){setImmediate(flush)};else if("undefined"!=typeof MessageChannel){var channel=new MessageChannel;channel.port1.onmessage=function(){requestTick=requestPortTick,channel.port1.onmessage=flush,flush()};var requestPortTick=function(){channel.port2.postMessage(0)};requestTick=function(){setTimeout(flush,0),requestPortTick()}}else requestTick=function(){setTimeout(flush,0)};return nextTick}(),call=Function.call,array_slice=uncurryThis(Array.prototype.slice),array_reduce=uncurryThis(Array.prototype.reduce||function(callback,basis){var index=0,length=this.length;if(1===arguments.length)for(;;){if(index in this){basis=this[index++];break}if(++index>=length)throw new TypeError}for(;length>index;index++)if(index in this)basis=callback(basis,this[index],index);return basis}),array_indexOf=uncurryThis(Array.prototype.indexOf||function(value){for(var i=0;i<this.length;i++)if(this[i]===value)return i;return-1}),array_map=uncurryThis(Array.prototype.map||function(callback,thisp){var self=this,collect=[];return array_reduce(self,function(undefined,value,index){collect.push(callback.call(thisp,value,index,self))},void 0),collect}),object_create=Object.create||function(prototype){function Type(){}return Type.prototype=prototype,new Type},object_hasOwnProperty=uncurryThis(Object.prototype.hasOwnProperty),object_keys=Object.keys||function(object){var keys=[];for(var key in object)if(object_hasOwnProperty(object,key))keys.push(key);return keys},object_toString=uncurryThis(Object.prototype.toString),QReturnValue;if("undefined"!=typeof ReturnValue)QReturnValue=ReturnValue;else QReturnValue=function(value){this.value=value};var STACK_JUMP_SEPARATOR="From previous event:";Q.resolve=Q,Q.nextTick=nextTick,Q.longStackSupport=!1,Q.defer=defer,defer.prototype.makeNodeResolver=function(){var self=this;return function(error,value){if(error)self.reject(error);else if(arguments.length>2)self.resolve(array_slice(arguments,1));else self.resolve(value)}},Q.Promise=promise,Q.promise=promise,promise.race=race,promise.all=all,promise.reject=reject,promise.resolve=Q,Q.passByCopy=function(object){return object},Promise.prototype.passByCopy=function(){return this},Q.join=function(x,y){return Q(x).join(y)},Promise.prototype.join=function(that){return Q([this,that]).spread(function(x,y){if(x===y)return x;else throw new Error("Can't join: not the same: "+x+" "+y)})},Q.race=race,Promise.prototype.race=function(){return this.then(Q.race)},Q.makePromise=Promise,Promise.prototype.toString=function(){return"[object Promise]"},Promise.prototype.then=function(fulfilled,rejected,progressed){function _fulfilled(value){try{return"function"==typeof fulfilled?fulfilled(value):value}catch(exception){return reject(exception)}}function _rejected(exception){if("function"==typeof rejected){makeStackTraceLong(exception,self);try{return rejected(exception)}catch(newException){return reject(newException)}}return reject(exception)}function _progressed(value){return"function"==typeof progressed?progressed(value):value}var self=this,deferred=defer(),done=!1;return nextTick(function(){self.promiseDispatch(function(value){if(done)return;done=!0,deferred.resolve(_fulfilled(value))},"when",[function(exception){if(done)return;done=!0,deferred.resolve(_rejected(exception))}])}),self.promiseDispatch(void 0,"when",[void 0,function(value){var newValue,threw=!1;try{newValue=_progressed(value)}catch(e){if(threw=!0,Q.onerror)Q.onerror(e);else throw e}if(!threw)deferred.notify(newValue)}]),deferred.promise},Q.when=when,Promise.prototype.thenResolve=function(value){return this.then(function(){return value})},Q.thenResolve=function(promise,value){return Q(promise).thenResolve(value)},Promise.prototype.thenReject=function(reason){return this.then(function(){throw reason})},Q.thenReject=function(promise,reason){return Q(promise).thenReject(reason)},Q.nearer=nearer,Q.isPromise=isPromise,Q.isPromiseAlike=isPromiseAlike,Q.isPending=isPending,Promise.prototype.isPending=function(){return"pending"===this.inspect().state},Q.isFulfilled=isFulfilled,Promise.prototype.isFulfilled=function(){return"fulfilled"===this.inspect().state},Q.isRejected=isRejected,Promise.prototype.isRejected=function(){return"rejected"===this.inspect().state};var unhandledReasons=[],unhandledRejections=[],trackUnhandledRejections=!0;Q.resetUnhandledRejections=resetUnhandledRejections,Q.getUnhandledReasons=function(){return unhandledReasons.slice()},Q.stopUnhandledRejectionTracking=function(){resetUnhandledRejections(),trackUnhandledRejections=!1},resetUnhandledRejections(),Q.reject=reject,Q.fulfill=fulfill,Q.master=master,Q.spread=spread,Promise.prototype.spread=function(fulfilled,rejected){return this.all().then(function(array){return fulfilled.apply(void 0,array)},rejected)},Q.async=async,Q.spawn=spawn,Q["return"]=_return,Q.promised=promised,Q.dispatch=dispatch,Promise.prototype.dispatch=function(op,args){var self=this,deferred=defer();return nextTick(function(){self.promiseDispatch(deferred.resolve,op,args)}),deferred.promise},Q.get=function(object,key){return Q(object).dispatch("get",[key])},Promise.prototype.get=function(key){return this.dispatch("get",[key])},Q.set=function(object,key,value){return Q(object).dispatch("set",[key,value])},Promise.prototype.set=function(key,value){return this.dispatch("set",[key,value])},Q.del=Q["delete"]=function(object,key){return Q(object).dispatch("delete",[key])},Promise.prototype.del=Promise.prototype["delete"]=function(key){return this.dispatch("delete",[key])},Q.mapply=Q.post=function(object,name,args){return Q(object).dispatch("post",[name,args])},Promise.prototype.mapply=Promise.prototype.post=function(name,args){return this.dispatch("post",[name,args])},Q.send=Q.mcall=Q.invoke=function(object,name){return Q(object).dispatch("post",[name,array_slice(arguments,2)])},Promise.prototype.send=Promise.prototype.mcall=Promise.prototype.invoke=function(name){return this.dispatch("post",[name,array_slice(arguments,1)])},Q.fapply=function(object,args){return Q(object).dispatch("apply",[void 0,args])},Promise.prototype.fapply=function(args){return this.dispatch("apply",[void 0,args])},Q["try"]=Q.fcall=function(object){return Q(object).dispatch("apply",[void 0,array_slice(arguments,1)])},Promise.prototype.fcall=function(){return this.dispatch("apply",[void 0,array_slice(arguments)])},Q.fbind=function(object){var promise=Q(object),args=array_slice(arguments,1);return function fbound(){return promise.dispatch("apply",[this,args.concat(array_slice(arguments))])}},Promise.prototype.fbind=function(){var promise=this,args=array_slice(arguments);return function fbound(){return promise.dispatch("apply",[this,args.concat(array_slice(arguments))])}},Q.keys=function(object){return Q(object).dispatch("keys",[])},Promise.prototype.keys=function(){return this.dispatch("keys",[])},Q.all=all,Promise.prototype.all=function(){return all(this)},Q.allResolved=deprecate(allResolved,"allResolved","allSettled"),Promise.prototype.allResolved=function(){return allResolved(this)},Q.allSettled=allSettled,Promise.prototype.allSettled=function(){return this.then(function(promises){return all(array_map(promises,function(promise){function regardless(){return promise.inspect()}return promise=Q(promise),promise.then(regardless,regardless)}))})},Q.fail=Q["catch"]=function(object,rejected){return Q(object).then(void 0,rejected)},Promise.prototype.fail=Promise.prototype["catch"]=function(rejected){return this.then(void 0,rejected)},Q.progress=progress,Promise.prototype.progress=function(progressed){return this.then(void 0,void 0,progressed)},Q.fin=Q["finally"]=function(object,callback){return Q(object)["finally"](callback)},Promise.prototype.fin=Promise.prototype["finally"]=function(callback){return callback=Q(callback),this.then(function(value){return callback.fcall().then(function(){return value})},function(reason){return callback.fcall().then(function(){throw reason})})},Q.done=function(object,fulfilled,rejected,progress){return Q(object).done(fulfilled,rejected,progress)},Promise.prototype.done=function(fulfilled,rejected,progress){var onUnhandledError=function(error){nextTick(function(){if(makeStackTraceLong(error,promise),Q.onerror)Q.onerror(error);else throw error})},promise=fulfilled||rejected||progress?this.then(fulfilled,rejected,progress):this;if("object"==typeof process&&process&&process.domain)onUnhandledError=process.domain.bind(onUnhandledError);promise.then(void 0,onUnhandledError)},Q.timeout=function(object,ms,message){return Q(object).timeout(ms,message)},Promise.prototype.timeout=function(ms,message){var deferred=defer(),timeoutId=setTimeout(function(){deferred.reject(new Error(message||"Timed out after "+ms+" ms"))},ms);return this.then(function(value){clearTimeout(timeoutId),deferred.resolve(value)},function(exception){clearTimeout(timeoutId),deferred.reject(exception)},deferred.notify),deferred.promise},Q.delay=function(object,timeout){if(void 0===timeout)timeout=object,object=void 0;return Q(object).delay(timeout)},Promise.prototype.delay=function(timeout){return this.then(function(value){var deferred=defer();return setTimeout(function(){deferred.resolve(value)},timeout),deferred.promise})},Q.nfapply=function(callback,args){return Q(callback).nfapply(args)},Promise.prototype.nfapply=function(args){var deferred=defer(),nodeArgs=array_slice(args);return nodeArgs.push(deferred.makeNodeResolver()),this.fapply(nodeArgs).fail(deferred.reject),deferred.promise},Q.nfcall=function(callback){var args=array_slice(arguments,1);return Q(callback).nfapply(args)},Promise.prototype.nfcall=function(){var nodeArgs=array_slice(arguments),deferred=defer();return nodeArgs.push(deferred.makeNodeResolver()),this.fapply(nodeArgs).fail(deferred.reject),deferred.promise},Q.nfbind=Q.denodeify=function(callback){var baseArgs=array_slice(arguments,1);return function(){var nodeArgs=baseArgs.concat(array_slice(arguments)),deferred=defer();return nodeArgs.push(deferred.makeNodeResolver()),Q(callback).fapply(nodeArgs).fail(deferred.reject),deferred.promise}},Promise.prototype.nfbind=Promise.prototype.denodeify=function(){var args=array_slice(arguments);return args.unshift(this),Q.denodeify.apply(void 0,args)},Q.nbind=function(callback,thisp){var baseArgs=array_slice(arguments,2);return function(){function bound(){return callback.apply(thisp,arguments)}var nodeArgs=baseArgs.concat(array_slice(arguments)),deferred=defer();return nodeArgs.push(deferred.makeNodeResolver()),Q(bound).fapply(nodeArgs).fail(deferred.reject),deferred.promise}},Promise.prototype.nbind=function(){var args=array_slice(arguments,0);return args.unshift(this),Q.nbind.apply(void 0,args)},Q.nmapply=Q.npost=function(object,name,args){return Q(object).npost(name,args)},Promise.prototype.nmapply=Promise.prototype.npost=function(name,args){var nodeArgs=array_slice(args||[]),deferred=defer();return nodeArgs.push(deferred.makeNodeResolver()),this.dispatch("post",[name,nodeArgs]).fail(deferred.reject),deferred.promise},Q.nsend=Q.nmcall=Q.ninvoke=function(object,name){var nodeArgs=array_slice(arguments,2),deferred=defer();return nodeArgs.push(deferred.makeNodeResolver()),Q(object).dispatch("post",[name,nodeArgs]).fail(deferred.reject),deferred.promise},Promise.prototype.nsend=Promise.prototype.nmcall=Promise.prototype.ninvoke=function(name){var nodeArgs=array_slice(arguments,1),deferred=defer();return nodeArgs.push(deferred.makeNodeResolver()),this.dispatch("post",[name,nodeArgs]).fail(deferred.reject),deferred.promise},Q.nodeify=nodeify,Promise.prototype.nodeify=function(nodeback){if(nodeback)this.then(function(value){nextTick(function(){nodeback(null,value)})},function(error){nextTick(function(){nodeback(error)})});else return this};var qEndingLine=captureLine();return Q}),!function(wndw){function nulls(val){return null!=val&&""!==val}function joinClasses(val){return Array.isArray(val)?val.map(joinClasses).filter(nulls).join(" "):val}var exports={};if(!Array.isArray)Array.isArray=function(arr){return"[object Array]"==Object.prototype.toString.call(arr)};if(!Object.keys)Object.keys=function(obj){var arr=[];for(var key in obj)if(obj.hasOwnProperty(key))arr.push(key);return arr};if(exports.merge=function merge(a,b){if(1===arguments.length){for(var attrs=a[0],i=1;i<a.length;i++)attrs=merge(attrs,a[i]);return attrs}var ac=a["class"],bc=b["class"];if(ac||bc){if(ac=ac||[],bc=bc||[],!Array.isArray(ac))ac=[ac];if(!Array.isArray(bc))bc=[bc];a["class"]=ac.concat(bc).filter(nulls)}for(var key in b)if("class"!=key)a[key]=b[key];return a},exports.joinClasses=joinClasses,exports.cls=function cls(classes,escaped){for(var buf=[],i=0;i<classes.length;i++)if(escaped&&escaped[i])buf.push(exports.escape(joinClasses([classes[i]])));else buf.push(joinClasses(classes[i]));var text=joinClasses(buf);if(text.length)return' class="'+text+'"';else return""},exports.attr=function attr(key,val,escaped,terse){if("boolean"==typeof val||null==val)if(val)return" "+(terse?key:key+'="'+key+'"');else return"";else if(0===key.indexOf("data")&&"string"!=typeof val)return" "+key+"='"+JSON.stringify(val).replace(/'/g,"&apos;")+"'";else if(escaped)return" "+key+'="'+exports.escape(val)+'"';else return" "+key+'="'+val+'"'},exports.attrs=function attrs(obj,terse){var buf=[],keys=Object.keys(obj);if(keys.length)for(var i=0;i<keys.length;++i){var key=keys[i],val=obj[key];if("class"==key){if(val=joinClasses(val))buf.push(" "+key+'="'+val+'"')}else buf.push(exports.attr(key,val,!1,terse))}return buf.join("")},exports.escape=function escape(html){var result=String(html).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;");if(result===""+html)return html;else return result},exports.rethrow=function rethrow(err,filename,lineno,str){if(!(err instanceof Error))throw err;if(!("undefined"==typeof window&&filename||str))throw err.message+=" on line "+lineno,err;try{str=str||require("fs").readFileSync(filename,"utf8")}catch(ex){rethrow(err,null,lineno)}var context=3,lines=str.split("\n"),start=Math.max(lineno-context,0),end=Math.min(lines.length,lineno+context);throw context=lines.slice(start,end).map(function(line,i){var curr=i+start+1;return(curr==lineno?"  > ":"    ")+curr+"| "+line}).join("\n"),err.path=filename,err.message=(filename||"Jade")+":"+lineno+"\n"+context+"\n\n"+err.message,err},"function"==typeof define&&define.amd)define("js/vendor/jade",[],function(){return exports});else wndw.jade={helpers:exports,templates:{}}}(window),!function(){function addPart(locale,master,needed,toLoad,prefix,suffix){for(;"[object String]"==Object.prototype.toString.call(master[locale]);)locale=master[locale];if(master[locale])if(needed.push(locale),master[locale]===!0||1===master[locale])toLoad.push(prefix+locale+"/"+suffix)}function addIfExists(req,locale,toLoad,prefix,suffix){var fullName=prefix+locale+"/"+suffix;if(require._fileExists(req.toUrl(fullName+".js")))toLoad.push(fullName)}function mixin(target,source,force){var prop;for(prop in source)if(source.hasOwnProperty(prop)&&(!target.hasOwnProperty(prop)||force))target[prop]=source[prop];else if("object"==typeof source[prop]){if(!target[prop])target[prop]={};mixin(target[prop],source[prop],force)}}function generateTranslationFunction(dictionary){dictionary=dictionary||{};var f=function(key,interpolationHash){var value=dictionary[key]||key;if("object"==typeof interpolationHash&&interpolationHash)return value.replace(interpolationRegex,function(match,interpKey){var interpolation=interpolationHash[interpKey],fallback=void 0===interpolation?interpKey:interpolation;return dictionary[interpolation]||fallback});else return value};return f.dictionary=dictionary,f.merge=function(){var _ts=Array.prototype.slice.call(arguments,0),i,source,key;for(i=0;i<_ts.length;i++)if(source=_ts[i]&&_ts[i].dictionary)for(key in source)if(!(key in dictionary))dictionary[key]=source[key];return f},f}var nlsRegExp=/(^.*(^|\/)nls(\/|$))([^\/]*)\/?([^\/]*)/,interpolationRegex=/[#!]\{([^}]+?)\}/g;define("i18n",["module"],function(module){var masterConfig=module.config?module.config():{};return{version:"2.0.3",load:function(name,req,onLoad,config){if(config=config||{},config.locale)masterConfig.locale=config.locale;masterConfig.locale=(masterConfig.locale||"").toLowerCase().replace(/_/g,"-"),masterConfig.locale=masterConfig.locale.split(/[;=,]/)[0];var masterName,match=nlsRegExp.exec(name),prefix=match[1],locale=match[4],suffix=match[5],parts=locale.split("-"),toLoad=[],value={},i,part,current="";if(match[5])prefix=match[1],masterName=prefix+suffix;else{if(masterName=name,suffix=match[4],locale=masterConfig.locale,!locale)locale=masterConfig.locale="undefined"==typeof navigator?"root":(navigator.language||navigator.userLanguage||"root").toLowerCase();parts=locale.split("-")}if(config.isBuild){for(toLoad.push(masterName),addIfExists(req,"root",toLoad,prefix,suffix),i=0;i<parts.length;i++)part=parts[i],current+=(current?"-":"")+part,addIfExists(req,current,toLoad,prefix,suffix);req(toLoad,function(){onLoad()})}else req([masterName],function(master){var needed=[],part;for(addPart("root",master,needed,toLoad,prefix,suffix),i=0;i<parts.length;i++)part=parts[i],current+=(current?"-":"")+part,addPart(current,master,needed,toLoad,prefix,suffix);req(toLoad,function(){var i,partBundle,part;for(i=needed.length-1;i>-1&&needed[i];i--){if(part=needed[i],partBundle=master[part],partBundle===!0||1===partBundle)partBundle=req(prefix+part+"/"+suffix);mixin(value,partBundle)}onLoad(generateTranslationFunction(value))})})}}})}(),define("bundles/confirmNavigation/nls/confirmNavigation",{es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}),!function(wndw){var jadify=function(jade,_t,_h){var yudify=function template(locals){var buf=[],jade_mixins={},jade_interp,locals_for_with=locals||{};return function(_t){buf.push('<div class="hide confirm-navigation modal"><div class="modal-header"><h3>'+jade.escape(null==(jade_interp=_t("Confirm Navigation"))?"":jade_interp)+'</h3></div><div class="modal-body"><div class="confirm-navigation-message"></div><div>'+jade.escape(null==(jade_interp=_t("Are you sure you want to leave this page?"))?"":jade_interp)+'</div></div><div class="modal-footer"><button data-modal-close="data-modal-close" class="btn confirm-navigation-stay">'+jade.escape(null==(jade_interp=_t("Stay on this Page"))?"":jade_interp)+'</button><button data-modal-close="data-modal-close" class="btn btn-danger confirm-navigation-leave">'+jade.escape(null==(jade_interp=_t("Leave this Page"))?"":jade_interp)+"</button></div></div>")}.call(this,"_t"in locals_for_with?locals_for_with._t:"undefined"!=typeof _t?_t:void 0),buf.join("")};return function(locals){if(locals)if(locals._t)_t=locals._t.merge(_t);return yudify(locals)}};if("function"==typeof define&&define.amd)define("bundles/confirmNavigation/confirmNavigation.html",["js/vendor/jade","i18n!bundles/confirmNavigation/nls/confirmNavigation"],function(jade,_t){var _h;return jadify(jade,_t,_h)});else wndw.jade.templates["bundles.confirmNavigation.confirmNavigation"]=jadify(wndw.jade.helpers)}(window),!function(){var DataAttributes=function($){var parse=function(el,defaults,_prefix){var settings={},prefix=_prefix||"";for(var key in defaults){var pkey=prefix+key.replace(/\./g,"-"),attr=$(el).attr(pkey);if(void 0===attr)settings[key]=defaults[key];else if("string"==typeof attr&&0===attr.length||/^\s*true\s*$/.test(attr)||pkey==attr)settings[key]=!0;else if(/^\s*false\s*$/.test(attr))settings[key]=!1;else settings[key]=attr}return settings},exports={parse:parse};return exports};if("function"==typeof define&&define.amd)define("js/lib/data.attributes.v0-0-1",["require","js/vendor/jquery.v2-1"],function(require){var $=require("js/vendor/jquery.v2-1");return DataAttributes($)});else if("undefined"!=typeof window&&"undefined"==typeof ender)window.DataAttributes=DataAttributes(window.$)}(),!function(factory){if("function"==typeof define&&define.amd)define("js/vendor/lucid.v2-7-0",factory);else if(("object"==typeof module||"function"==typeof module)&&module.exports)module.exports=factory();else window.LucidJS=factory()}(function(){function EventEmitter(object){function on(event){function clear(){if(!listeners[event])return;for(aI=0;aI<args.length;aI+=1)listeners[event].splice(listeners[event].indexOf(args[aI]),1);if(listeners[event].length<1)delete listeners[event]}function batchOn(events,args){function clear(){var bI;for(bI=0;bI<bindings.length;bI+=1)bindings[bI].clear()}var eI,binding={},bindings=[];for(eI=0;eI<events.length;eI+=1)args.unshift(events[eI]),bindings.push(on.apply(this,args)),args.shift();return binding.clear=clear,binding}var args,binding={},aI,sI;if(args=Array.prototype.slice.apply(arguments,[1]),"object"==typeof event&&"function"==typeof event.push)return batchOn(event,args);if("emitter"!==event.slice(0,7)&&(listeners.emitter||listeners["emitter.listener"]))for(aI=0;aI<args.length;aI+=1)trigger("emitter.listener",event,args[aI]);if(!listeners[event])listeners[event]=[];for(aI=0;aI<args.length;aI+=1){if("function"!=typeof args[aI])throw new Error("Cannot bind event. All callbacks must be functions.");listeners[event].push(args[aI])}return binding.clear=clear,binding}function off(event){var args=Array.prototype.slice.apply(arguments,[1]),aI,sI;
if("object"==typeof event&&"function"==typeof event.push){for(sI=0;sI<event.length;sI+=1)off.apply(null,[event[sI]].concat(args));return}if(!listeners[event])throw new Error('Tried to remove an event from a non-existant event of type "'+event+'".');for(aI=0;aI<args.length;aI+=1){if("function"!=typeof args[aI])throw new Error("Tried to remove a non-function.");var listenerIndex=listeners[event].indexOf(args[aI]);listeners[event].splice(listenerIndex,1)}}function once(event){var binding,args=Array.prototype.slice.apply(arguments,[1]),result=!0,cleared=!1;return binding=on(event,function(){var aI,eventArgs=Array.prototype.slice.apply(arguments);if(!binding){if(cleared)return;cleared=!0,setTimeout(function(){binding.clear()},0)}else binding.clear();for(aI=0;aI<args.length;aI+=1)if(args[aI].apply(this,eventArgs)===!1)result=!1;return result})}function trigger(event,a1,a2,a3,a4,a5,a6,a7,a8,a9,la){var longArgs,lI,eventListeners,result=!0;if("undefined"!=typeof la)longArgs=Array.prototype.slice.apply(arguments,[1]);if("object"==typeof event&&"function"==typeof event.push)if(longArgs)return batchTrigger.apply(null,arguments);else return batchTrigger(event,a1,a2,a3,a4,a5,a6,a7,a8,a9);for(event=event.split(".");event.length;){if(longArgs){if(triggerOnly.apply(this,[event.join(".")].concat(longArgs))===!1)result=!1}else if(triggerOnly(event.join("."),a1,a2,a3,a4,a5,a6,a7,a8,a9)===!1)result=!1;event.pop()}return result}function triggerOnly(event,a1,a2,a3,a4,a5,a6,a7,a8,a9,la){var longArgs,lI,eventListeners=listeners[event],result=!0;if("undefined"!=typeof la)longArgs=Array.prototype.slice.apply(arguments,[1]);if("emitter"!==event.substr(0,7)&&(listeners.emitter||listeners["emitter.event"]))if(longArgs)trigger.apply(this,[].concat("emitter.event",event,longArgs));else trigger("emitter.event",event,a1,a2,a3,a4,a5,a6,a7,a8,a9);if(eventListeners)for(eventListeners=[].concat(eventListeners),lI=0;lI<eventListeners.length;lI+=1)if(longArgs){if(eventListeners[lI].apply(this,longArgs)===!1)result=!1}else if(eventListeners[lI](a1,a2,a3,a4,a5,a6,a7,a8,a9)===!1)result=!1;return result}function batchTrigger(events,a1,a2,a3,a4,a5,a6,a7,a8,a9,la){var longArgs,eI,result=!0;if("undefined"!=typeof la)longArgs=Array.prototype.slice.apply(arguments,[1]);for(eI=0;eI<events.length;eI+=1)if(longArgs){if(args.unshift(events[eI]),trigger.apply(this,args)===!1)result=!1;args.shift()}else if(trigger(events[eI],a1,a2,a3,a4,a5,a6,a7,a8,a9)===!1)result=!1;return result}function set(event,a1,a2,a3,a4,a5,a6,a7,a8,a9,la){function clear(){trigger("emitter.unset",event),setEvents[event].splice(setEvents[event].indexOf(binding),1),_clear()}var args,binding,_clear;if(la)args=Array.prototype.slice.apply(arguments,[1]);if("object"==typeof event&&event.push)if(args)return batchSet.apply(null,args);else return batchSet(event,a1,a2,a3,a4,a5,a6,a7,a8,a9);if(binding=on(["emitter.listener","pipe.listener"],function(_event,listener){var lI;if(event===_event)if(args)listener.apply(null,args);else listener(a1,a2,a3,a4,a5,a6,a7,a8,a9)}),args)trigger.apply(null,arguments);else trigger(event,a1,a2,a3,a4,a5,a6,a7,a8,a9);if(!setEvents[event])setEvents[event]=[];return setEvents[event].push(binding),_clear=binding.clear,binding.clear=clear,binding}function batchSet(events,a1,a2,a3,a4,a5,a6,a7,a8,a9,la){function clear(){var bI;for(bI=0;bI<bindings.length;bI+=1)bindings[bI].clear()}var binding={},args,eI,bindings=[];if(la)args=Array.prototype.slice.apply(arguments,[1]);for(eI=0;eI<events.length;eI+=1)if(args)bindings.push(set.apply(null,[events[eI]].concat(args)));else bindings.push(set(events[eI],a1,a2,a3,a4,a5,a6,a7,a8,a9));return binding.clear=clear,binding}function clearSet(event){var bI;if(event&&setEvents[event]){for(bI=0;bI<setEvents[event].length;bI+=1)setEvents[event][bI].clear();delete setEvents[event]}else if(!event)for(event in setEvents){if(!setEvents.hasOwnProperty(event))continue;clearSet(event)}}function pipe(event){function captureEvent(event){var setEvent=!1,args;if(args=Array.prototype.slice.apply(arguments,[1]),emitter.once(event,function(){setEvent=!0}),"pipe"!==event.substr(0,4)&&(listeners.pipe||listeners["pipe.event"]))trigger("pipe.event",event,args);if(setEvent)setEvents.push(set.apply(null,[event].concat(args)));else triggerOnly.apply(null,[event].concat(args))}function sendListener(event,listener){emitter.trigger("pipe.listener",event,listener)}function clear(){var bI,sI,eI,sII;for(bI=0;bI<bindings.length;bI+=1)bindings[bI].clear();for(sI=0;sI<bindings.length;sI+=1)setEvents[sI].clear();for(eI=0;eI<eventListeners.length;eI+=1)bindings[eI].clear();for(sII=0;sII<sendListeners.length;sII+=1)setEvents[sII].clear()}var binding={},emitters,eI,emitter,bindings=[],setEvents=[],eventCaptures=[],sendListeners=[];if(emitters=Array.prototype.slice.apply(arguments,[1]),"object"==typeof event)if(event.on)emitters.unshift(event),event=!1;else return batchPipe.apply(null,arguments);for(eI=0;eI<emitters.length;eI+=1)emitter=emitters[eI],eventCaptures.push(emitter.on("emitter.event",captureEvent)),sendListeners.push(on("emitter.listener",sendListener));return binding.clear=clear,binding}function batchPipe(events){function clear(){var bI;for(bI=0;bI<bindings.length;bI+=1)bindings[bI].clear()}var binding={},eI,bindings=[],emitters;for(emitters=Array.prototype.slice.apply(arguments,[1]),eI=0;eI<events.length;eI+=1)bindings.push(pipe.apply(null,[events[eI]].concat(emitters)));return binding.clear=clear,binding}function clearPipes(event){var pI,bI,binding;for(pI=0;pI<pipes.length;pI+=1){if(event){if(2===pipes[pI].type)continue;if(-1===pipes[pI].events.indexOf(event))continue;pipes[pI].events.splice(pipes[pI].events.indexOf(event),1)}if(2===pipes[pI].type)pipes[pI].listenerBinding.clear();for(bI=0;bI<pipes[pI].bindings.length;bI+=1){if(event&&pipes[pI].bindings[bI].event!==event)continue;pipes[pI].bindings[bI].clear(),pipes[pI].bindings.splice(bI,1),bI-=1}if(pipes[pI].bindings.length<1)pipes.splice(pI,1),pI-=1}}function getListeners(event){if(event)return listeners[event];else return listeners}function clearListeners(event){if(event)delete listeners[event];else listeners={}}function clear(){if(listeners.emitter||listeners["emitter.clear"])trigger("emitter.clear");listeners={},clearSet(),clearPipes(),delete emitter.on,delete emitter.once,delete emitter.trigger,delete emitter.set,delete emitter.pipe,delete emitter.listeners,delete emitter.clear}function handleNode(node){function clearNodeEmitter(){var DI;for(DI=0;DI<DOMEventListeners.length;DI+=1)try{if(node.removeEventListener)node.removeEventListener(DOMEventListeners[DI].event,DOMEventListeners[DI].listener,!1);else if(node.detachEvent)node.detachEvent("on"+DOMEventListeners[DI].event,DOMEventListeners[DI].listener)}catch(e){console.error(e)}handledEvents=[],listenerBinding.clear()}var handledEvents=[],listenerBinding,DOMEventListeners=[];listenerBinding=on("emitter.listener",function(event){function nodeListener(eventObj){var args=Array.prototype.slice.apply(arguments);if(args.unshift([event,"dom."+event]),trigger.apply(this,args)===!1)eventObj.preventDefault(),eventObj.stopPropagation()}if(handledEvents.indexOf(event)>-1)return;handledEvents.push(event);try{if(node.addEventListener)node.addEventListener(event,nodeListener,!1),DOMEventListeners.push({event:event,listener:nodeListener});else if(node.attachEvent)node.attachEvent("on"+event,nodeListener),DOMEventListeners.push({event:event,listener:nodeListener})}catch(e){console.error(e)}}),emitter.clearNodeEmitter=clearNodeEmitter}var emitter=object||{},listeners={},setEvents={},pipes=[];if(!(emitter.on||emitter.once||emitter.trigger||emitter.set||emitter.pipe||emitter.listeners))emitter.on=on,emitter.off=off,emitter.once=once,emitter.trigger=trigger,emitter.set=set,emitter.set.clear=clearSet,emitter.pipe=pipe,emitter.pipe.clear=clearPipes,emitter.listeners=getListeners,emitter.listeners.clear=clearListeners;else return emitter;if(emitter.addEventListener||emitter.attachEvent)handleNode(emitter);return emitter}var api;return api={emitter:EventEmitter},[].indexOf||(Array.prototype.indexOf=function(a,b,c){for(c=this.length,b=(c+~~b)%c;c>b&&(!(b in this)||this[b]!==a);b++);return b^c?b:-1}),api}),!function(){var Modals=function($,LucidJS,_,DataAttributes){var CLOSED=0,OPEN=1,_private={defaults:{autofocus:!0,"bind.open":"click","bind.close":"click","bind.action":"click","attribute.open":"data-modal","attribute.close":"data-modal-close","attribute.iframe":"data-modal-iframe","attribute.action":"data-modal-action","attribute.focus":"data-modal-focus","attribute.focus.index":1e4,"animate.modal.open":null,"animate.modal.close":null,"animate.modal.duration":250,"animate.overlay.open":null,"animate.overlay.close":null,"animate.overlay.duration":250,"overlay.show":!0,"overlay.class":"overlay","overlay.close":!0,"z.index":9999,"position.top":"50%","position.left":"50%",position:"fixed","iframe.autoclose":!0},$overlay:null,count:0,prevScroll:null,prevModal:null,getModal:function(el,options){var modal=$(el).data("modal.me");if(modal&&modal.constructor==Modal.prototype.constructor)if(options)return modal.customize(options);else return modal;else return null},makeModal:function(el,options){var $el=$(el),modal=_private.getModal($el);if(!modal)modal=new Modal($el,options),$el.data("modal.me",modal);return modal},setOverlayHeight:function(){if($(window).height()<$(document).height())_private.$overlay.css({height:$(document).height()+"px"});else _private.$overlay.css({height:"100%"})},observeKeyPress:function(e){if(this.options["overlay.close"])if(27==e.keyCode||27==e.DOM_VK_ESCAPE&&0===e.which)this.emitter.trigger("action",!1,this),this.close();this.emitter.trigger("key",e)},cycleTabs:function(e){var $tabbable=this.$el.find("a,input,select,textarea,button").filter(":visible");if(9==e.keyCode&&$(e.target).is($tabbable.last()))window.setTimeout(function(){$tabbable.first().focus()},0)},actionTrigger:function(e){var $el=$(e.currentTarget),action=$el.attr(this.options["attribute.action"]);this.emitter.trigger("action",action,this)},open:function(){if("fixed"!=this.options.position)_private.prevScroll={top:$(document).scrollTop(),left:$(document).scrollLeft()},window.scrollTo(0,0);if(this.$iframe){var iframeUrl=this.options["iframe.url"]||$(this.anchor).attr(this.options["attribute.iframe"]);this.$iframe.attr("src",iframeUrl),this.$iframe.focus()}else{for(var $focus=this.$el.find("["+this.options["attribute.focus"]+"]"),$focusable_elements=this.$el.find("a,input,select,textarea,button"),i=0;i<$focusable_elements.length;i++)$focusable_elements.eq(i).attr("tabindex",this.options["attribute.focus.index"]+1+i);if(this.options.autofocus)if($focus.size()>0)$focus.filter(":visible").eq(0).attr("tabindex",this.options["attribute.focus.index"]),$focus.filter(":visible").eq(0).focus();else if($focusable_elements.size()>0)$focusable_elements.filter(":visible").eq(0).attr("tabindex",this.options["attribute.focus.index"]),$focusable_elements.filter(":visible").eq(0).focus()}this.state=OPEN,this.$el.on(this.options["bind.action"],"["+this.options["attribute.action"]+"]",_.bind(_private.actionTrigger,this)),this.emitter.trigger("open")},close:function(){var $iframe=this.$el.find("iframe");if(this.$el.off(".modal").hide(),this.options["iframe.autoclose"]&&$iframe.size())$iframe.attr({src:"about:blank"});if(_private.prevScroll)window.scrollTo(_private.prevScroll.left,_private.prevScroll.top),_private.prevScroll=null;this.anchor=null,this.$parent.append(this.$el),this.state=CLOSED,this.emitter.trigger("close")}},Modal=function(el,settings){var that=this;this.$el=$(el),this.state=CLOSED,this.$parent=this.$el.parent(),this.customize(settings),this.emitter=LucidJS.emitter(this)};Modal.prototype.customize=function(settings){return this.options=_.extend({},DataAttributes.parse(this.$el,_private.defaults,"data-modal-"),settings),this},Modal.prototype.open=function(){var that=this,iframeUrl;if(this.anchor)iframeUrl=$(this.anchor).attr(this.options["attribute.iframe"]);if(this.options["iframe.url"])iframeUrl=this.options["iframe.url"];if(iframeUrl)if(this.$iframe=this.$el.find("iframe"),/^https?:\/\/|^\/|^\.\.\//.test(iframeUrl))if(!this.$iframe.size()||this.$iframe.attr("src")!=iframeUrl)if(this.$iframe.attr("src","about:blank").remove(),this.$iframe=$("<iframe>").css({height:"100%",width:"100%"}).attr({scrolling:"no",frameborder:0}),this.$el.append(this.$iframe),this.state!=CLOSED)this.$iframe.attr("src",iframeUrl);if(this.state!=CLOSED)return;if(this.options["overlay.show"]){if(_private.$overlay&&"none"!=_private.$overlay.css("display")&&_private.$overlay.hasClass(this.options["overlay.class"]))this.$overlay=_private.$overlay;else{if(_private.$overlay)_private.$overlay.off(".modal").hide().remove();this.$overlay=_private.$overlay=$("<div>").addClass(this.options["overlay.class"]).hide(),this.$overlay.css({position:"fixed",width:"100%",top:0,left:0,right:0,bottom:0,zIndex:this.options["z.index"]++}),$("body").append(this.$overlay)}if(_private.setOverlayHeight(),this.reposition(),this.options["animate.overlay.open"])this.$overlay.animate(this.options["animate.overlay.open"],{duration:this.options["animate.overlay.duration"]});else this.$overlay.show();_private.count++,this.$overlay.data("modal",this)}if(this.emitter.trigger("opening"),"fixed"!=this.options.position||0===this.$el.closest("html").length)this.$el.appendTo("body");if(this.reposition(),this.$el.show(),this.options["animate.modal.open"])this.$el.animate(this.options["animate.modal.open"],{duration:this.options["animate.modal.duration"],complete:function(){_private.open.call(that)}});else _private.open.call(this);if($(window).on("resize.modal",_.bind(_private.setOverlayHeight,that)).on("resize.modal",_.bind(that.reposition,that)).on("scroll.modal",_.bind(that.reposition,that)),this.$el.on("keydown.modal",_.bind(_private.cycleTabs,that)),$(window).on("keyup.modal",_.bind(_private.observeKeyPress,that)),this.options["overlay.close"])this.$overlay.on(this.options["bind.close"]+".modal",function(e){that.emitter.trigger("action",!1,that),that.close()});if(this.options["attribute.close"])this.$el.on(this.options["bind.close"]+".modal","["+this.options["attribute.close"]+"]",function(e){var $target=$(e.currentTarget);if("disabled"!=$target.attr("disabled")){if(void 0===$target.attr(that.options["attribute.action"]))that.emitter.trigger("action",!1,that);that.close()}});return this},Modal.prototype.reposition=function(){var left=this.options["position.left"],top=this.options["position.top"];if(left)this.$el.css({position:this.options.position,left:left,marginLeft:/%/.test(left)?this.$el.outerWidth()/2*-1:0,zIndex:this.options["z.index"]++});if(top)this.$el.css({position:this.options.position,top:top,marginTop:/%/.test(top)?this.$el.outerHeight()/2*-1:0,zIndex:this.options["z.index"]++});return this},Modal.prototype.close=function(){var that=this;if(this.state!=OPEN)return;if(this.trigger("closeRequest")===!1)return;if(this.$el.off(".modal"),$(window).off(".modal"),this.emitter.trigger("closing"),this.options["animate.modal.close"])this.$el.animate(this.options["animate.modal.close"],{duration:this.options["animate.modal.duration"],complete:function(){_private.close.call(that)}});else _private.close.call(this);if(0===--_private.count)if(this.options["overlay.show"]&&this.$overlay)if(this.$overlay.off(".modal"),this.options["animate.overlay.close"])this.$overlay.animate(this.options["animate.overlay.close"],{duration:this.options["animate.overlay.duration"],complete:function(){this.$overlay.hide().remove()}});else this.$overlay.hide().remove();return this};var external=function(){return _private.getModal.apply(null,arguments)||_private.makeModal.apply(this,arguments)};return external.start=function(view,_options){var $view=$(view),options=_.extend({},_private.defaults,_options);if($view.data("modals-initialized"))return;else $view.data("modals-initialized",1);$view.on(options["bind.open"]+".modal","["+options["attribute.open"]+"]",function(e){var $anchor=$(this),selector=$anchor.attr(options["attribute.open"]),$modal=$view.find(selector);options=_.extend({},options,DataAttributes.parse($modal,_private.defaults,"data-modal-"));var modal=_private.getModal($modal,options)||_private.makeModal($modal,options);if(/^https?:\/\/|^\/|^\.\.\//.test($anchor.attr("href"))&&!e.ctrlKey&&!e.metaKey)e.preventDefault();modal.anchor=this,_private.prevModal=$modal[0],modal.open()})},external.stop=function(view){var $view=$(view);if($view.unbind(".modal"),$view.data("modals-initialized",0),_private.prevModal)Modal(_private.prevModal).close()},external.start("body"),external};if("function"==typeof define&&define.amd)define("js/lib/modals.v0-0-1",["require","js/lib/data.attributes.v0-0-1","js/vendor/jquery.v2-1","js/vendor/lucid.v2-7-0","js/vendor/underscore.v1-6"],function(require){var DataAttributes=require("js/lib/data.attributes.v0-0-1"),$=require("js/vendor/jquery.v2-1"),LucidJS=require("js/vendor/lucid.v2-7-0"),_=require("js/vendor/underscore.v1-6");return Modals($,LucidJS,_,DataAttributes)});else if("undefined"!=typeof window&&"undefined"==typeof ender)window.Modal=Modals(window.$,window.LucidJS,window._,window.DataAttributes)}(),define("js/lib/origami.v0-0-2",["require","q","bundles/confirmNavigation/confirmNavigation.html","js/lib/modals.v0-0-1","js/vendor/backbone.v1-1-2","js/vendor/jquery.v2-1","js/vendor/underscore.v1-6"],function(require){var Q=require("q"),confirmNavigationTemplate=require("bundles/confirmNavigation/confirmNavigation.html"),Modal=require("js/lib/modals.v0-0-1"),Backbone=require("js/vendor/backbone.v1-1-2"),$=require("js/vendor/jquery.v2-1"),_=require("js/vendor/underscore.v1-6");Backbone.View.prototype._super=function(funcName){return this.constructor.__super__[funcName].apply(this,_.rest(arguments))};var _singleton=null,_private={current:null,body:"#origami",views:{},openDepth:0,beforeUnloadMessage:"There are unsaved changes that will be lost if you reload or leave this page.",regionHasUnsavedModel:function(region){if(!region)return!1;var viewHasUnsavedModel=region.view&&region.view.hasUnsavedModel?region.view.hasUnsavedModel():!1;if(viewHasUnsavedModel)return!0;else{for(var name in region.regions){var subRegion=region.regions[name];if(_private.regionHasUnsavedModel(subRegion))return!0}return!1}}},router=Backbone.Router.extend({initialize:function(){var self=this;self.routePrefix="",this.$confirmNavigation=$(confirmNavigationTemplate({})),$("body").append(this.$confirmNavigation),$(window).on("beforeunload.origami",function(){if(_private.regionHasUnsavedModel(_private.current))return _private.beforeUnloadMessage})},setupLinks:function(routePrefix,linkSelector){var self=this;this.routePrefix=routePrefix,this.linkSelector=linkSelector,$("body").on("click","a"+this.linkSelector,function(e){if(!e.ctrlKey&&!e.metaKey)e.preventDefault(),self.navigateTo($(e.currentTarget).attr("href"),!0)})},addFragmentToVisited:function(fragment){if(this.visitedFragments)this.visitedFragments.push(fragment);else this.visitedFragments=[fragment]},navigateTo:function(href,options){if(!href)console.error("router.navigateTo received no href");this.navigate(href.replace(this.routePrefix,""),options)},navigate:function(fragment,options){if(_private.current&&_private.regionHasUnsavedModel(_private.current)){var $message=$(".confirm-navigation-message");$message.text(_private.beforeUnloadMessage);var $leave=$(".confirm-navigation-leave");$leave.one("click",function(e){this.addFragmentToVisited(fragment),Backbone.Router.prototype.navigate.call(e.currentTarget,fragment,options)}.bind(this));var modalOptions={"overlay.class":"coursera-overlay"};Modal(".confirm-navigation",modalOptions).open()}else this.addFragmentToVisited(fragment),Backbone.Router.prototype.navigate.call(this,fragment,options)},addRoutes:function(routes,routeCallbackWrapper){var self=this;for(var route in routes){var routeCallback=routes[route];if(routeCallbackWrapper)routeCallback=routeCallbackWrapper(routeCallback);self.route(route,route,routeCallback),self.route(route+"/",route+"/",function(){var url=Backbone.history.getFragment(),rewrite=url.replace(/\/(?:\?.*)*$/,"");self.navigate(rewrite,{trigger:!0,replace:!0})})}}}),region=function(type,_options){var self=this,options=_options||{};self.type=type,self.regions=options.regions||{},self.initialize=options.initialize||{},self.to=options.to,self.options={},self.id=options.id||type.prototype.name,self.name=type.prototype.name,self.view=null,self.regions=$.extend({},type.prototype.subregions,options.regions||{})};region.prototype.close=function(keep){var self=this;if(_.each(self.regions,function(_region,key){delete self.regions[key],_region.close(keep)}),self.view.trigger("view:closed"),!keep)self.view.remove();self.view.undelegateEvents(),self.view.off("view")},region.prototype.closing=function(){this.view.trigger("view:closing"),delete _private.views[this.view.cid]},region.prototype.render=function(origami){var self=this,regions=_.compact(_.values(self.regions));if(_.each(regions,function(subregion){subregion.render(),subregion.parent=self}),self.view=new self.type(self.initialize),self.view.region=self,self.view.render(self.render),_.each(regions,function(subregion){var $el=subregion.view&&subregion.view.$el,to=subregion.to||subregion.view&&subregion.view.to;if(_.isFunction(to))to=to();if(to&&!$.contains(document,$el))self.view.$(to).append($el),subregion.appended()}),origami)self.view.on("view:appended",function(){origami.trigger("region:appended",{name:self.name})});return self},region.prototype.appended=function(){var that=this;if(that.view)setTimeout(function(){that.view.trigger("view:appended")},0)},region.prototype.append=function(view,options){var that=this,appended=Q.defer();if(!this.regions)this.regions={};var render_and_append=function(_region){for(var key=view,count=0,$el;that.regions[key];)key+=++count;if(that.regions[key]=_region,_region.render(_singleton),options.to)$el=_.isElement(options.to)?that.view.$(options.to):options.to;else $el=that.view.$el;if(_(options).has("position")){var wasInPosition=$el.children().eq(options.position);if(wasInPosition.length>0)$(wasInPosition[0]).before(_region.view.el);else $el.append(_region.view.el)}else $el.append(_region.view.el);_region.appended(),_singleton.trigger("region:rendered",{name:_region}),appended.resolve(_region)};if("string"==typeof view)_singleton.region.fetch(view,options,render_and_append);else render_and_append(new region(view,options));return appended.promise},region.prototype.is=function(_region){return _region.type==this.type&&_region.id==this.id},region.prototype.replace=function(incoming,callback){if(this.view.$el.replaceWith(incoming.view.el),callback)callback()},region.prototype.merge=function(incoming,origami){var self=this;if(self.is(incoming))_.each(incoming.regions,function(_region,view){self.regions[view].view.trigger("view:merging",_region.initialize),self.regions[view].merge(_region,origami),self.regions[view].view.trigger("view:merged",_region.initialize)});else if(self.name==incoming.name)self.closing(),incoming.render(origami),self.replace(incoming,function(){if(self.parent)self.parent.regions[incoming.name]=incoming,incoming.parent=self.parent,self.parent.appended();self.close(),incoming.appended()})};var Origami=function(body,current){if(_singleton)return _singleton;_singleton=this,_private.body=body,_private.current=current,$(window).on("resize",function(){for(var cid in _private.views)_private.views[cid].trigger("view:resize")}),this.region={make:function(type,options){return new region(type,options)},fetch:function(_region,conf,callback){var uid=_.uniqueId();_singleton.trigger("region:fetching",{name:_region,uid:uid}),require([_region],function(view){_singleton.trigger("region:fetched",{name:_region,uid:uid}),callback(new region(view,conf))})},append:function(parent,view,options,callback){if(!parent)parent={regions:{}};var render_and_append=function(_region){for(var key=view,count=0;parent.regions[key];)key+=++count;if(parent.regions[key]=_region,_region.render(_singleton),callback)callback(_region);return _region.appended(),_singleton.trigger("region:rendered",{name:_region}),_region};if("string"==typeof view)_singleton.region.fetch(view,options,render_and_append);else return render_and_append(new region(view,options))},open:function(name,callback){var view=name,conf={};if(0===_private.openDepth)_singleton.trigger("open");_private.openDepth++;var onFetch=function(parent){var subregionPromises=[];_.each(parent.regions,function(subregion,name){if(!subregion)return;var q=Q.defer();_singleton.region.open(subregion,function(_region){if(name!=_region.name)console.error("Region configured with name "+name+" but has name "+_region.name);parent.regions[name]=_region,q.resolve(_region)}),subregionPromises.push(q.promise)}),Q.allSettled(subregionPromises).then(function(){if(callback)return callback(parent);if(_private.current){if(_private.current.is(parent))return void _private.current.merge(parent,_singleton);else if(_private.current.name==parent.name)return parent.render(_singleton),void _private.current.replace(parent,function(){_private.current.close(),_private.current=parent,_private.current.appended()});_private.current.close(!0)}_private.current=parent,$(_private.body).html(_private.current.render(_singleton).view.$el),_private.current.appended(),_.each(_private.current.regions,function(_region){if(_region)_region.appended()})}).fin(function(){if(--_private.openDepth<=0)_singleton.trigger("opened")}).done()};if(region.prototype.isPrototypeOf(name))onFetch(name);else{if(_.isObject(name))view=_.keys(name)[0],conf=name[view];_singleton.region.fetch(view,conf,onFetch)}}},this.router=new router,this.store={},this.tracker=[]};return _.extend(Origami.prototype,Backbone.Events),Origami}),define("js/app/origamiSingleton.v0-0-2",["js/lib/origami.v0-0-2"],function(Origami){var origami=new Origami("[data-js=origami]");return origami}),define("bundles/phoenix/lib/exceptions",["underscore"],function(){var _=require("underscore"),exceptions={NotFound:function(){},Redirect:function(to,navigateOptions){this.to=to,this.navigateOptions=_.defaults(navigateOptions||{},{replace:!0,trigger:!0})}};return exceptions}),!function(){var Tooltips=function($,LucidJS,_,DataAttributes){var ESCAPE=27,_private={defaults:{"bind.open":"mouseenter focusin","bind.close":"mouseleave focusout","bind.keydown":"keydown","animate.in.type":"custom","animate.in.from":'{"opacity":0}',"animate.in.to":'{"opacity":0.8}',"animate.in.duration":200,"animate.out.type":"custom","animate.out.from":'{"opacity":0.8}',"animate.out.to":'{"opacity":0}',"animate.out.duration":200,position:"top",style:"tooltip","style.position":"absolute","style.z-index":1e6,offset:10,"attribute.tooltip":"data-tooltip"},tooltip:$("<div>").attr("aria-role","tooltip"),getTooltip:function(el,options){var tooltip=$(el).data("tooltip.me");if(tooltip&&tooltip.constructor==Tooltip.prototype.constructor)if(_private.build.call(tooltip,tooltip.options?tooltip.options.text:null),options)return tooltip.customize(options);else return tooltip;else return null},makeTooltip:function(el,settings){var $el=$(el),tooltip=_private.getTooltip($el);if(!tooltip)tooltip=new Tooltip($el,settings),$el.data("tooltip.me",tooltip);return _private.build.call(tooltip,settings?settings.text:null),tooltip},monitorKeys:function(e){if(e.keyCode==ESCAPE)this.close()},show:function(){this.emitter.trigger("show",this)},close:function(){this.$tooltip.hide().remove(),this.emitter.trigger("close",this)},build:function(_text){var arrow=$("<div>").addClass(this.options.style+"-arrow"),inner=$("<div>").addClass(this.options.style+"-inner"),text=_text||this.$el.attr(this.options["attribute.tooltip"]);this.$tooltip=_private.tooltip.empty().remove().removeClass().stop(!0,!0).addClass(this.options.style).addClass(this.options.position).css({visibility:"hidden",position:this.options["style.position"],display:"block","z-index":this.options["style.z-index"]}).append(arrow).append(inner.html(text))}},Tooltip=function(el,settings){this.$el=$(el),this.customize(settings),this.emitter=LucidJS.emitter(this)};Tooltip.prototype.customize=function(settings){if(this.options=_.extend({},DataAttributes.parse(this.$el,_private.defaults,"data-tooltip-"),this.options||{},settings),this.options.offset)this.options.offset=parseInt(this.options.offset,10)||0;return this},Tooltip.prototype.open=function(){var that=this,position=this.$el.offset();if("fixed"===this.options["style.position"])position=this.$el[0].getBoundingClientRect();var position2=this.$tooltip.appendTo("body").offset(),width=this.$el.outerWidth()||this.$el[0].getBoundingClientRect().width,height=this.$el.outerHeight()||this.$el[0].getBoundingClientRect().height,width2=this.$tooltip.outerWidth(),height2=this.$tooltip.outerHeight(),middleW=position.left+width/2,middleH=position.top+height/2;if("top"==this.options.position)this.$tooltip.css({left:middleW-width2/2,top:position.top-height2-this.options.offset});else if("left"==this.options.position)this.$tooltip.css({left:position.left-width2-this.options.offset,top:middleH-height2/2});else if("right"==this.options.position)this.$tooltip.css({left:position.left+width+this.options.offset,top:middleH-height2/2});else this.$tooltip.css({left:middleW-width2/2,top:position.top+height+this.options.offset});if("custom"==this.options["animate.in.type"]){if(this.options["animate.in.from"])if(_.isObject(this.options["animate.in.from"]))this.$tooltip.css(this.options["animate.in.from"]);else if(_.isString(this.options["animate.in.from"]))this.$tooltip.css($.parseJSON(this.options["animate.in.from"]));if(this.$tooltip.css({visibility:"visible",display:"block"}),this.options["animate.in.to"])if(_.isObject(this.options["animate.in.to"]))this.$tooltip.animate(this.options["animate.in.to"],{duration:this.options["animate.in.duration"],complete:_.bind(_private.show,this)});else if(_.isString(this.options["animate.in.to"]))this.$tooltip.animate($.parseJSON(this.options["animate.in.to"]),{duration:this.options["animate.in.duration"],complete:_.bind(_private.show,this)})}else this.emitter.trigger("opening",this),this.$tooltip.css({display:"block"}),_private.show.call(this);return $(document).on(this.options["bind.keydown"]+".popup",_.bind(_private.monitorKeys,this)),this},Tooltip.prototype.close=function(){if("custom"==this.options["animate.out.type"]){if(this.options["animate.out.from"])if(_.isObject(this.options["animate.out.from"]))this.$tooltip.css(this.options["animate.out.from"]);else if(_.isString(this.options["animate.out.from"]))this.$tooltip.css($.parseJSON(this.options["animate.out.from"]));if(this.options["animate.out.to"])if(_.isObject(this.options["animate.out.to"]))this.$tooltip.animate(this.options["animate.out.to"],{duration:this.options["animate.out.duration"],complete:_.bind(_private.close,this)});else if(_.isString(this.options["animate.out.to"]))this.$tooltip.animate($.parseJSON(this.options["animate.out.to"]),{duration:this.options["animate.out.duration"],complete:_.bind(_private.close,this)});this.emitter.trigger("closing",this)}else this.emitter.trigger("closing",this),_private.close.call(this)};var external=function(){return _private.getTooltip.apply(null,arguments)||_private.makeTooltip.apply(this,arguments)};return external.start=function(view,_options){var $view=$(view),options=_.extend({},_private.defaults,_options);$view.on(options["bind.open"]+".tooltip","["+options["attribute.tooltip"]+"]",function(e){var $anchor=$(this);if("disabled"!=$anchor.attr("disabled")){options=_.extend({},_options,DataAttributes.parse($anchor,_private.defaults,"data-tooltip-"));var tooltip=_private.getTooltip($anchor,options)||_private.makeTooltip($anchor,options);if($anchor.attr(options["attribute.tooltip"]))tooltip.open(),tooltip.on("open",function(){$anchor.data("tooltip.it",tooltip)}),tooltip.on("close",function(){$anchor.data("tooltip.it",null)})}}),$view.on(options["bind.close"]+".tooltip","["+options["attribute.tooltip"]+"]",function(e){var $anchor=$(this);
options=_.extend({},_options,DataAttributes.parse($anchor,_private.defaults,"data-tooltip-"));var tooltip=_private.getTooltip($anchor,options);if(tooltip)tooltip.close()})},external.stop=function(view){var $view=$(view),pop=$view.data("tooltip.it");if($view.off(".tooltip"),tooltip)tooltip.close()},external.start("body"),external};if("function"==typeof define&&define.amd)define("js/lib/tooltips.v1",["jquery","js/vendor/lucid.v2-7-0","underscore","js/lib/data.attributes.v0-0-1"],function($,LucidJS,_,DataAttributes){return Tooltips($,LucidJS,_,DataAttributes)});else if("undefined"!=typeof window&&"undefined"==typeof ender)window.Tooltip=Tooltips(window.$,window.LucidJS,window._,window.DataAttributes)}(),define("bundles/phoenix/lib/viewOpenerWrapper",["require","bundles/phoenix/lib/exceptions","origami","q","underscore","bundles/nprogress/coursera.nprogress.v0-1-3","js/lib/tooltips.v1"],function(require){var exceptions=require("bundles/phoenix/lib/exceptions"),origami=require("origami"),Q=require("q"),_=require("underscore"),NProgress=require("bundles/nprogress/coursera.nprogress.v0-1-3"),tooltips=require("js/lib/tooltips.v1");return viewOpenerWrapper=function(viewOpener){return function(){NProgress.start(),Q.promised(viewOpener).apply(null,arguments).fail(function(err){if(_(err).has("status"))origami.router.trigger("error",err.status);else if(err instanceof exceptions.NotFound)origami.router.trigger("error",404);else if(err instanceof exceptions.Redirect)origami.router.navigate(err.to,err.navigateOptions);else throw err}).fin(function(){NProgress.stop(),tooltips().close()}).done()}}}),define("bundles/phoenix/constants",["require","js/app/config"],function(require){var config=require("js/app/config");return{config:config}}),!function(wndw){var module=function(){if(wndw.console=wndw.console||{},wndw.console.log=wndw.console.log||function(){},wndw.console.error=wndw.console.error||function(){},wndw.console.warn=wndw.console.warn||function(){},wndw.console.info=wndw.console.info||function(){},!wndw.console.log.apply)wndw.console.log=Function.prototype.bind.call(wndw.console.log,wndw.console),wndw.console.error=Function.prototype.bind.call(wndw.console.error,wndw.console),wndw.console.warn=Function.prototype.bind.call(wndw.console.warn,wndw.console),wndw.console.info=Function.prototype.bind.call(wndw.console.info,wndw.console);var Logger=function(options){this.options=options||{}};Logger.prototype.customize=function(options){return this.options=options||{},this},Logger.prototype.info=function(){if("info"==this.options.level)wndw.console.info.apply(wndw.console,arguments);return this},Logger.prototype.warn=function(){if(/info|warn/.test(this.options.level))wndw.console.warn.apply(wndw.console,arguments);return this},Logger.prototype.error=function(){if(/error|warn|info/.test(this.options.level))wndw.console.error.apply(wndw.console,arguments);return this};var exports=function(options){return new Logger(options)};return exports};if("function"==typeof define&&define.amd)define("js/lib/log.v0-0-1",[],function(){return module()});else if("undefined"!=typeof wndw&&"undefined"==typeof ender)wndw.Log=module()}(window),define("js/app/loggerSingleton.v0-0-1",["js/lib/log.v0-0-1","js/app/config"],function(Logger,config){return Logger({level:config.log})}),!function(){var JSON;if(!JSON)JSON={};var json=function(){function f(n){return 10>n?"0"+n:n}function quote(string){return escapable.lastIndex=0,escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return"string"==typeof c?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&"object"==typeof value&&"function"==typeof value.toJSON)value=value.toJSON(key);if("function"==typeof rep)value=rep.call(holder,key,value);switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value)return"null";if(gap+=indent,partial=[],"[object Array]"===Object.prototype.toString.apply(value)){for(length=value.length,i=0;length>i;i+=1)partial[i]=str(i,value)||"null";return v=0===partial.length?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]",gap=mind,v}if(rep&&"object"==typeof rep){for(length=rep.length,i=0;length>i;i+=1)if("string"==typeof rep[i])if(k=rep[i],v=str(k,value))partial.push(quote(k)+(gap?": ":":")+v)}else for(k in value)if(Object.prototype.hasOwnProperty.call(value,k))if(v=str(k,value))partial.push(quote(k)+(gap?": ":":")+v);return v=0===partial.length?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}",gap=mind,v}}if("function"!=typeof Date.prototype.toJSON)Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()};var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;if("function"!=typeof JSON.stringify)JSON.stringify=function(value,replacer,space){var i;if(gap="",indent="","number"==typeof space)for(i=0;space>i;i+=1)indent+=" ";else if("string"==typeof space)indent=space;if(rep=replacer,replacer&&"function"!=typeof replacer&&("object"!=typeof replacer||"number"!=typeof replacer.length))throw new Error("JSON.stringify");return str("",{"":value})};if("function"!=typeof JSON.parse)JSON.parse=function(text,reviver){function walk(holder,key){var k,v,value=holder[key];if(value&&"object"==typeof value)for(k in value)if(Object.prototype.hasOwnProperty.call(value,k))if(v=walk(value,k),void 0!==v)value[k]=v;else delete value[k];return reviver.call(holder,key,value)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text))text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")}};if("function"==typeof define&&define.amd)define("js/lib/json2",[],function(){return json(),JSON});else if("undefined"!=typeof window&&"undefined"==typeof ender)json(),window.JSON=JSON}(),!function(wndw){var module=function(_){var MultiTracker=function(opts){var options=opts||{};this.trackers={},this.logger=options.logger||Log({level:"error"})};MultiTracker.prototype.register=function(name,queue,type,parser){this.trackers[name]={queue:queue||[],type:type||"key-value",parse:parser}},MultiTracker.prototype.get=function(name){return this.trackers[name]},MultiTracker.prototype.push=function(){for(var trackings=arguments,trackEvent,handler,value,k=0;k<trackings.length;k++){var tracking=_.isArray(trackings[k])?trackings[k]:[trackings[k]];for(var trackerKey in this.trackers)if("400"!==trackerKey){var tracker=this.trackers[trackerKey];if("google"==tracker.type){if("pageview"==tracking[0]){trackEvent=["_trackPageview"];for(var i=1;i<tracking.length;i++)trackEvent.push(_.isString(tracking[i])?tracking[i]:JSON.stringify(tracking[i]))}}else if("key-value"==tracker.type){value=[];for(var a=1;a<tracking.length;a++)if("function"==typeof tracking[a])handler=tracking[a];else value.push(_.isString(tracking[a])?tracking[a]:JSON.stringify(tracking[a]));if(value.length)trackEvent={key:tracking[0],value:value.join(".")};else trackEvent={key:tracking[0]}}else if("custom"==tracker.type&&tracker.parse)trackEvent=tracker.parse.apply(this,tracking);if(trackEvent)if(handler)tracker.queue.push(["send",trackEvent,handler]);else tracker.queue.push(trackEvent);trackEvent=void 0,handler=void 0}this.logger.info.apply(this.logger,tracking)}},MultiTracker.prototype.pushV2=function(){for(var trackings=arguments,trackEvent,handler,value,k=0;k<trackings.length;k++){var tracking=_.isArray(trackings[k])?trackings[k]:[trackings[k]];for(var trackerKey in this.trackers)if("204"!==trackerKey){var tracker=this.trackers[trackerKey];if("google"==tracker.type){if("pageview"==tracking[0]){trackEvent=["_trackPageview"];for(var i=1;i<tracking.length;i++)trackEvent.push(_.isString(tracking[i])?tracking[i]:JSON.stringify(tracking[i]))}}else if("key-value"==tracker.type){value=[];for(var a=1;a<tracking.length;a++)if("function"==typeof tracking[a])handler=tracking[a];else value.push(_.isString(tracking[a])?tracking[a]:JSON.stringify(tracking[a]));if(value.length)trackEvent={key:tracking[0],value:value.join(".")};else trackEvent={key:tracking[0]}}else if("custom"==tracker.type&&tracker.parse)trackEvent=tracker.parse.apply(this,tracking);if(trackEvent)if(handler)tracker.queue.push(["send",trackEvent,handler]);else tracker.queue.push(trackEvent);trackEvent=void 0,handler=void 0}this.logger.info.apply(this.logger,tracking)}};var external=function(options){return new MultiTracker(options)};return external};if("function"==typeof define&&define.amd)define("js/lib/multitracker.v0-0-1",["require","js/vendor/underscore.v1-6","js/lib/json2"],function(require){var _=require("js/vendor/underscore.v1-6");return require("js/lib/json2"),module(_)});else wndw.MultiTracker=module(wndw._)}(window),!function(wndw){var module=function(_,$){var thirdparty={loadScript:function(url,success,body){var newScript=document.createElement("script"),scripts=document.getElementsByTagName("script");if(newScript.type="text/javascript",newScript.async=!0,newScript.src=url,body)newScript.innerHTML=body;if(success)newScript.onload=newScript.onreadystatechange=function(){newScript.onreadystatechange=newScript.onload=null,success()};if(scripts&&scripts.length)scripts[0].parentNode.insertBefore(newScript,scripts[0]);else if(window.document&&window.document.body)window.document.body.appendChild(newScript)},isDefined:function(parent,name){for(var parts=name.split("."),part=parts.shift(),cur=parent;part;)if(cur[part])cur=cur[part],part=parts.shift();else cur=null,part=null;return null!==cur},ready:function(global,callback){if(thirdparty.isDefined(window,global))callback.call();else{var base=global.split(".")[0];if(_.isArray(pool[global]))pool[global].push(callback);else pool[global]=[callback],third_party_globals[base].call(null,global)}}},pool={},poll=function(global){if(thirdparty.isDefined(window,global))for(var base=global.split(".")[0];pool[global]&&pool[global].length;)pool[global].pop().call();else window.setTimeout(function(){poll(global)},100)},third_party_globals={IN:function(x){var funcName="itsThirdPartyTime"+(new Date).getTime();window[funcName]=function(){delete window[funcName],poll(x)},thirdparty.loadScript("https://platform.linkedin.com/in.js",function(){},"onLoad:"+funcName+"\napi_key: v7ah6tdxsqt6")},google:function(x){var funcName;if(/^google\.maps.places/.test(x))funcName="itsThirdPartyTime"+(new Date).getTime(),window[funcName]=function(){delete window[funcName],poll(x)},thirdparty.loadScript("https://maps.googleapis.com/maps/api/js?sensor=false&key=AIzaSyC7XENXcXiE_oj0HvDUC_MiLY9zI3xTW0g&libraries=places&callback="+funcName);if(/^google\.maps\.Map/.test(x))funcName="itsThirdPartyTime"+(new Date).getTime(),window[funcName]=function(){delete window[funcName],poll(x)},thirdparty.loadScript("https://maps.googleapis.com/maps/api/js?sensor=false&key=AIzaSyCzodUI0p0hH-8n6tZ45vMNlaNfKEpuEMU&callback="+funcName)},FB:function(x){thirdparty.loadScript("https://connect.facebook.net/en_US/all.js#xfbml=1&appId=274998519252278",function(){poll(x)})},gapi:function(x){window.___gcfg={lang:"en-US",parsetags:"explicit"},thirdparty.loadScript("https://apis.google.com/js/plusone.js",function(){delete window.___gcfg,poll(x)})},twttr:function(x){thirdparty.loadScript("https://platform.twitter.com/widgets.js",function(){poll(x)})},MathJax:function(x){thirdparty.loadScript("https://d2265nx4vomwra.cloudfront.net/2.1/MathJax.js?delayStartupUntil=configured",function(){poll(x)})}};return thirdparty};if("function"==typeof define&&define.amd)define("js/lib/thirdParties.v0-0-1",["require","js/vendor/jquery.v2-1","js/vendor/underscore.v1-6"],function(require){var $=require("js/vendor/jquery.v2-1"),_=require("js/vendor/underscore.v1-6");return module(_,$)});else window.thirdparties=module(window._,window.$)}(window),define("js/app/multitrackerSingleton.v0-0-1",["require","js/app/config","js/app/loggerSingleton.v0-0-1","js/app/origamiSingleton.v0-0-2","js/lib/multitracker.v0-0-1","js/lib/thirdParties.v0-0-1","js/vendor/backbone.v1-1-2","js/vendor/jquery.v2-1","js/vendor/underscore.v1-6"],function(require){var config=require("js/app/config"),logger=require("js/app/loggerSingleton.v0-0-1"),origami=require("js/app/origamiSingleton.v0-0-2"),MultiTracker=require("js/lib/multitracker.v0-0-1"),thirdparty=require("js/lib/thirdParties.v0-0-1"),Backbone=require("js/vendor/backbone.v1-1-2"),$=require("js/vendor/jquery.v2-1"),_=require("js/vendor/underscore.v1-6"),multitracker=MultiTracker({logger:logger}),baseUrlRegEx=new RegExp("^"+config.url.app_assets);return multitracker.register("204",window._204=window._204||[]),multitracker.register("400",window._400=window._400||[]),multitracker.register("ga",window._gaq=window._gaq||[],"google"),window.onerror=function(message,url,lineNum,colno,error){if(void 0===lineNum||null==lineNum)return;if(message.target&&message.type)message=message.type;if(!message.indexOf)message="Non-string, non-event error: "+typeof message;var errorDescrip={message:message,script:url,line:lineNum,url:document.URL,column:colno,error:error};if(url&&baseUrlRegEx.test(url))multitracker.push(["page.error.javascript",errorDescrip])},origami.router.on("route",function(){var currentURL=config.dir.home+Backbone.history.getFragment();multitracker.push(["pageview",currentURL])}),$(document).ready(function(){if(/staging|production/.test(config.environment)){require(["js/lib/204"],function(_204){if(!_204)return;for(var parts=location.host.split(".");parts.length>2;)parts.shift();multitracker.get("204").queue.push(["domain","."+parts.join(".")]),multitracker.get("204").queue=_204.batch(multitracker.get("204").queue)}),require(["js/lib/400","js/app/config"],function(_400,config){if(_400)multitracker.get("400").queue=_400,multitracker.get("400").queue.push(["app","phoenix"]),multitracker.get("400").queue.push(["clientVersion",config.version])}),multitracker.get("ga").queue.push(["_setAccount","UA-28377374-1"],["_setDomainName","coursera.org"],["_setAllowLinker",!0],["_trackPageview"]);var isHttps="https:"==document.location.protocol,gaUrl=(isHttps?"https://ssl":"http://www")+".google-analytics.com/ga.js";thirdparty.loadScript(gaUrl,function(){multitracker.get("ga").queue=window._gaq})}}),multitracker}),define("js/lib/edge.batch",["require","js/vendor/underscore.v1-6","js/app/config"],function(require){var _=require("js/vendor/underscore.v1-6"),appConfig=require("js/app/config"),decorateJQuery=function($){if(_.isUndefined($.batch)&&/staging|production/.test(appConfig.environment)){$.batch={};var config={maxBatchSize:10,batchApiUrl:"/api/batch"},queuedTransports=[],processQueuedTransports=function(){for(;queuedTransports.length>0;)processBatchedTransports(queuedTransports.splice(0,config.maxBatchSize))},processBatchedTransports=function(batchedTransports){if(batchedTransports=_(batchedTransports).filter(function(transport){return!transport.isAborted}),batchedTransports.length>1){for(var batchedRequests={},batchedCallbacks={},i=0,l=batchedTransports.length;l>i;i++){var transport=batchedTransports[i];batchedRequests[i]={method:transport.options.type,url:transport.options.url,headers:transport.options.headers},batchedCallbacks[i]=transport.complete}$.ajax(config.batchApiUrl,{type:"POST",data:JSON.stringify(batchedRequests),dataType:"json"}).done(function(batchedResponses){for(var key in batchedResponses){var response=batchedResponses[key];batchedCallbacks[key](response.code,response.code>=200&&response.code<400?"success":"error",{json:response.bodyJson},stringifyHeaders(response.headers))}}).fail(function(jqXHR,textStatus,errorThrown){for(var key in batchedCallbacks)batchedCallbacks[key](jqXHR.status,textStatus,{},jqXHR.getAllResponseHeaders())})}else if(1===batchedTransports.length){var singleTransport=batchedTransports[0],url=singleTransport.options.url,newOptions=_.chain({}).extend(singleTransport.options).extend({batch:!1,dataType:"json"}).value();$.ajax(newOptions).done(function(data,textStatus,jqXHR){singleTransport.complete(jqXHR.status,textStatus,{json:data},jqXHR.getAllResponseHeaders())}).fail(function(jqXHR,textStatus,errorThrown){singleTransport.complete(jqXHR.status,textStatus,{},jqXHR.getAllResponseHeaders())})}},prefilter=function(options,originalOptions,jqXHR){if("GET"==options.type&&options.batch&&!options.crossDomain&&0!==options.url.indexOf(config.batchApiUrl))return"batch"},transport=function(options,originalOptions,jqXHR){return options.dataTypes=_(options.dataTypes).without("batch"),{send:function(headers,complete){if(this.options=options,this.headers=headers,this.complete=complete,this.isAborted=!1,0===queuedTransports.length)window.setTimeout(processQueuedTransports,0);queuedTransports.push(this)},abort:function(){this.isAborted=!0}}},stringifyHeaders=function(headers){return _(headers).chain().pairs().map(function(pair){return pair.join(":")}).value().join("\r\n")+"\r\n"},setConfig=function(newConfig){config=_(config).extend(newConfig)};$.batch.setConfig=setConfig,$.ajaxPrefilter("*",prefilter),$.ajaxTransport("batch",transport)}return $};return decorateJQuery}),define("js/lib/path",[],function(){var path={};return path.join=function(parts){var args=parts instanceof Array?parts:Array.prototype.slice.call(arguments);return args.join("/").replace(/([^:])[\/]{2,}|^\/\//g,"$1/").replace(/\/$/,"")},path}),!function(wndw){var cookie=function($){var cookie=function(key,value,options){if(arguments.length>1&&(!/Object/.test(Object.prototype.toString.call(value))||null===value||void 0===value)){if(options=$.extend({},options),null===value||void 0===value)options.expires=-1;if(!options.path)options.path="/";if("number"==typeof options.expires){var days=options.expires,t=options.expires=new Date;t.setDate(t.getDate()+days)}return value=String(value),wndw.document.cookie=[encodeURIComponent(key),"=",options.raw?value:encodeURIComponent(value),options.expires?"; expires="+options.expires.toUTCString():"",options.path?"; path="+options.path:"",options.domain?"; domain="+options.domain:"",options.secure?"; secure":""].join("")}options=value||{};for(var decode=options.raw?function(s){return s}:decodeURIComponent,pairs=wndw.document.cookie.split("; "),i=0,pair;pairs[i];i++)if(pair=pairs[i].split("="),decode(pair[0])===key)return decode(pair[1]||"");return null};return{get:cookie,set:cookie,clear:function(key,options){for(var cookies=wndw.document.cookie.split("; "),i=0;i<cookies.length;i++){var equals=cookies[i].indexOf("="),name=equals>-1?cookies[i].substr(0,equals):cookies[i];if(!key||key==name)cookie(name,null,options)}}}};if("function"==typeof define&&define.amd)define("js/vendor/cookie.v0-0-1",["js/vendor/jquery.v2-1"],function($){return cookie($)});else if("undefined"!=typeof wndw&&"undefined"==typeof ender)wndw.Cookie=cookie(wndw.$)}(window),!function(wndw){var globalActiveAjaxCount=0,api=function($,_,cookie,LucidJS,pathUtil,batch){var _private={defaults:{type:"normal","batch.enabled":!1,"csrf.token":"X-CSRFToken","csrf.cookie":"csrftoken","csrf.path":null,"csrf.domain":null,"csrf.secure":!0,"csrf2.token_header":"X-CSRF2-Token","csrf2.cookie_name_header":"X-CSRF2-Cookie","csrf2.cookie_prefix":"csrf2_token_","emulate.patch":!0,"emulate.put":!1,"emulate.delete":!1,"custom.header.name":null,"custom.header.value":null},csrfGet:function(){var token=cookie.get(this.options["csrf.cookie"]);if(token)return token;else return _private.csrfSet.call(this,_private.csrfMake())},csrfClear:function(){cookie.clear(this.options["csrf.cookie"],{secure:this.options["csrf.secure"],path:this.options["csrf.path"],domain:this.options["csrf.domain"]})},csrfSet:function(token){return cookie.set(this.options["csrf.cookie"],token,{secure:this.options["csrf.secure"],path:this.options["csrf.path"],domain:this.options["csrf.domain"],expires:new Date((new Date).getTime()+6e4)}),token},csrfMake:function(length,chars){var output=[];chars=chars||"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",length=length||24;for(var i=0;length>i;i++)output.push(chars[Math.floor(Math.random()*chars.length)]);return output.join("")},csrf2SetUp:function(ajaxOptions){if("GET"==ajaxOptions.type)return{};var cookieName=this.options["csrf2.cookie_prefix"]+_private.csrfMake(8),token=_private.csrfMake();cookie.set(cookieName,token,{secure:this.options["csrf.secure"],path:this.options["csrf.path"],domain:this.options["csrf.domain"],expires:new Date((new Date).getTime()+6e4)}),ajaxOptions.headers[this.options["csrf2.cookie_name_header"]]=cookieName,ajaxOptions.headers[this.options["csrf2.token_header"]]=token},csrf2TearDown:function(ajaxHeaders){var cookieName=ajaxHeaders[this.options["csrf2.cookie_name_header"]];if(cookieName)cookie.clear(cookieName,{secure:this.options["csrf.secure"],path:this.options["csrf.path"],domain:this.options["csrf.domain"]})},invoke:function(path,_options){_options=_.extend({},_options);var options=_options||{},url;if(0!==path.indexOf("http"))url=pathUtil.join(this.root,path);else url=path;this.trigger("before",url,options);var params="GET"==options.type?options.data:null,remove=function(e,item){this.remove(item.options.id)},message=options.message||{},codes=message.codes?_.keys(message.codes):[],asyncMessage=this.options.message,that=this;if(delete options.message,"GET"!=options.type&&_.isUndefined(options.processData)&&"rest"==this.options.type)options.contentType="application/json; charset=utf-8",options.processData=!1,options.data=JSON.stringify(options.data);options.beforeSend=function(){globalActiveAjaxCount++};var jqXHR=$.ajax(url,options);if(asyncMessage){if(message.waiting){var waitID=asyncMessage.add($("<div>").append(message.waiting).addClass("waiting"),{delay:100});jqXHR.always(function(jqXHR,textStatus){asyncMessage.remove(waitID)})}if(message.success||message.codes&&_.min(codes)<300)jqXHR.done(function(jqXHR,textStatus){if(message.codes&&message.codes[jqXHR.status])asyncMessage.add($("<div>").append(message.codes[jqXHR.status]).addClass("success"),{timeout:500});else if(message.success)asyncMessage.add($("<div>").append(message.success).addClass("success"),{timeout:500})});if(message.error||message.timeout||message.codes&&_.max(codes)>=300)jqXHR.fail(function(jqXHR,textStatus){if(message.timeout&&"timeout"==textStatus)asyncMessage.add($("<div>").append(message.timeout).addClass("error"),{events:{click:remove}});else if(message.codes&&message.codes[jqXHR.status])asyncMessage.add($("<div>").append(message.codes[jqXHR.status]).addClass("error"),{events:{click:remove}});else if(message.error)asyncMessage.add($("<div>").append(message.error).addClass("error"),{events:{click:remove}})})}var start=(new Date).getTime();return that.trigger("send",{xhr:jqXHR,url:url}),jqXHR.always(function(){if(0===--globalActiveAjaxCount)_private.csrfClear.call(that);_private.csrf2TearDown.call(that,options.headers||{}),that.trigger("always",{xhr:jqXHR,url:url,params:params,timing:(new Date).getTime()-start})}),jqXHR.fail(function(){that.trigger("fail",{xhr:jqXHR,url:url,params:params})}),jqXHR},restify:function(method,_options){var options=_.extend({data:{},headers:{},batch:this.options["batch.enabled"]},_options);switch(method){case"POST":options.type="POST";break;case"PATCH":if(this.options["emulate.patch"])options.type="POST",options.headers["X-HTTP-Method-Override"]="PATCH";else options.type="PATCH";break;case"PUT":if(this.options["emulate.put"])options.type="POST",options.headers["X-HTTP-Method-Override"]="PUT";else options.type="PUT";break;case"DELETE":if(this.options["emulate.delete"])options.type="POST",options.headers["X-HTTP-Method-Override"]="DELETE";else options.type="DELETE";break;default:options.type="GET"}if("GET"!=options.type)options.headers[this.options["csrf.token"]]=_private.csrfGet.call(this),_private.csrf2SetUp.call(this,options);if(this.options["custom.header.name"])options.headers[this.options["custom.header.name"]]=this.options["custom.header.value"];return options}},api=function(root,options){this.root=root,this.options=_.extend({},_private.defaults,options),LucidJS.emitter(this),$=batch($)};return api.prototype.customize=function(options){return this.options=_.extend(this.options,options),this},api.prototype.get=function(path,options){return _private.invoke.call(this,path,_private.restify.call(this,"GET",options))},api.prototype.patch=function(path,options){return _private.invoke.call(this,path,_private.restify.call(this,"PATCH",options))},api.prototype["delete"]=function(path,options){return _private.invoke.call(this,path,_private.restify.call(this,"DELETE",options))},api.prototype.post=function(path,options){return _private.invoke.call(this,path,_private.restify.call(this,"POST",options))},api.prototype.put=function(path,options){return _private.invoke.call(this,path,_private.restify.call(this,"PUT",options))},function(root,options){return new api(root,options)}};if("function"==typeof define&&define.amd)define("js/lib/api.v0-0-1",["require","js/lib/edge.batch","js/lib/path","js/vendor/cookie.v0-0-1","js/vendor/jquery.v2-1","js/vendor/lucid.v2-7-0","js/vendor/underscore.v1-6","js/lib/json2"],function(require){var batch=require("js/lib/edge.batch"),path=require("js/lib/path"),Cookie=require("js/vendor/cookie.v0-0-1"),$=require("js/vendor/jquery.v2-1"),LucidJS=require("js/vendor/lucid.v2-7-0"),_=require("js/vendor/underscore.v1-6");return require("js/lib/json2"),api($,_,Cookie,LucidJS,path,batch)});else wndw.API=api(wndw.$,wndw._,wndw.Cookie,wndw.LucidJS,wndw.path,wndw.batch)}(window),define("bundles/phoenix/lib/apiWrapper",["require","js/app/multitrackerSingleton.v0-0-1","js/lib/api.v0-0-1"],function(require){var Multitracker=require("js/app/multitrackerSingleton.v0-0-1"),API=require("js/lib/api.v0-0-1");return function(endpoint,options){var api=API(endpoint,options);return api.on("always",function(api){if(api.xhr.status>=400)Multitracker.push(["api.error."+api.xhr.status,{timing:api.timing,url:api.url,params:api.params,status:api.xhr.status,response:api.xhr.responseText}]);else if(Multitracker.push(["api.ok."+api.xhr.status,{timing:api.timing,url:api.url,params:api.params,status:api.xhr.status,cf_age:api.xhr.getResponseHeader("Age"),cf_hit:api.xhr.getResponseHeader("X-Cache")}]),200==api.xhr.status)Multitracker.push(["api.response.200",{timing:api.timing,url:api.url,status:api.xhr.status,v2:!0}])}),api}}),define("pages/authinsite/common/api/api",["require","bundles/phoenix/lib/apiWrapper"],function(require){var API=require("bundles/phoenix/lib/apiWrapper");return API("/api",{type:"rest"})}),define("bundles/phoenix/template/models/userIdentity",["require","backbone","q","underscore","bundles/phoenix/constants","pages/authinsite/common/api/api","pages/home/models/user.json"],function(require){var Backbone=require("backbone"),Q=require("q"),_=require("underscore"),constants=require("bundles/phoenix/constants"),api=require("pages/authinsite/common/api/api"),userJson=require("pages/home/models/user.json"),UserIdentity=Backbone.Model.extend({hasProfile:function(){return-1!=this.get("privacy")&&this.has("external_id")},getProfileUrl:function(){var url=this.hasProfile()?"user/i/"+this.get("external_id"):"account/profile";return constants.config.dir.home+url},parse:function(userJson){if(_(userJson).isEmpty())return{authenticated:!1};else return _(userJson).chain().pick(["display_name","email_address","external_id","full_name","id","is_superuser","privacy","photo","photo_120","email_verified"]).extend({authenticated:!0}).value()},update:function(){var deferred=Q.defer();return api.get(constants.config.url.base+"maestro/api/user/info").then(function(userData){this.set(this.parse(userData)),deferred.resolve(this)}.bind(this)).fail(function(err){deferred.reject(err)}.bind(this)),deferred.promise}}),userIdentitySingleton=new UserIdentity(userJson,{parse:!0});return userIdentitySingleton}),!function(wndw){var module=function(){if(wndw.console=wndw.console||{},wndw.console.log=wndw.console.log||function(){},wndw.console.error=wndw.console.error||function(){},wndw.console.warn=wndw.console.warn||function(){},wndw.console.info=wndw.console.info||function(){},!wndw.console.log.apply)wndw.console.log=Function.prototype.bind.call(wndw.console.log,wndw.console),wndw.console.error=Function.prototype.bind.call(wndw.console.error,wndw.console),wndw.console.warn=Function.prototype.bind.call(wndw.console.warn,wndw.console),wndw.console.info=Function.prototype.bind.call(wndw.console.info,wndw.console);var Logger=function(options){this.options=options||{}};Logger.prototype.customize=function(options){return this.options=options||{},this},Logger.prototype.info=function(){if("info"===this.options.level)wndw.console.info.apply(wndw.console,arguments);return this},Logger.prototype.warn=function(){if(/info|warn/.test(this.options.level))wndw.console.warn.apply(wndw.console,arguments);return this},Logger.prototype.error=function(){if(/error|warn|info/.test(this.options.level))wndw.console.error.apply(wndw.console,arguments);return this};var exports=function(options){return new Logger(options)};return exports};if("function"==typeof define&&define.amd)define("js/lib/log",[],function(){return module()});else if("undefined"!=typeof wndw&&"undefined"==typeof ender)wndw.Log=module()}(window),!function(wndw){var cookie=function($){var cookie=function(key,value,options){if(arguments.length>1&&(!/Object/.test(Object.prototype.toString.call(value))||null===value||void 0===value)){if(options=$.extend({},options),null===value||void 0===value)options.expires=-1;if(!options.path)options.path="/";if("number"==typeof options.expires){var days=options.expires,t=options.expires=new Date;t.setDate(t.getDate()+days)}return value=String(value),wndw.document.cookie=[encodeURIComponent(key),"=",options.raw?value:encodeURIComponent(value),options.expires?"; expires="+options.expires.toUTCString():"",options.path?"; path="+options.path:"",options.domain?"; domain="+options.domain:"",options.secure?"; secure":""].join("")}options=value||{};for(var decode=options.raw?function(s){return s}:decodeURIComponent,pairs=wndw.document.cookie.split("; "),i=0,pair;pairs[i];i++)if(pair=pairs[i].split("="),decode(pair[0])===key)return decode(pair[1]||"");return null};return{get:cookie,set:cookie,clear:function(key,options){for(var cookies=wndw.document.cookie.split("; "),i=0;i<cookies.length;i++){var equals=cookies[i].indexOf("="),name=equals>-1?cookies[i].substr(0,equals):cookies[i];if(!key||key==name)cookie(name,null,options)}}}};if("function"==typeof define&&define.amd)define("js/lib/cookie",["jquery"],function($){return cookie($)});else if("undefined"!=typeof wndw&&"undefined"==typeof ender)wndw.Cookie=cookie(wndw.$)}(window),!function(wndw){var sjcl={cipher:{},hash:{},keyexchange:{},mode:{},misc:{},codec:{},exception:{corrupt:function(message){this.toString=function(){return"CORRUPT: "+this.message},this.message=message},invalid:function(message){this.toString=function(){return"INVALID: "+this.message},this.message=message},bug:function(message){this.toString=function(){return"BUG: "+this.message},this.message=message},notReady:function(message){this.toString=function(){return"NOT READY: "+this.message
},this.message=message}}};if("function"==typeof define&&define.amd)define("js/lib/sjcl",[],function(){return sjcl});else wndw.sjcl=sjcl}(window),!function(wndw){var addBitArray=function(sjcl){sjcl.bitArray={bitSlice:function(a,bstart,bend){return a=sjcl.bitArray._shiftRight(a.slice(bstart/32),32-(31&bstart)).slice(1),void 0===bend?a:sjcl.bitArray.clamp(a,bend-bstart)},extract:function(a,bstart,blength){var x,sh=Math.floor(-bstart-blength&31);if(-32&(bstart+blength-1^bstart))x=a[bstart/32|0]<<32-sh^a[bstart/32+1|0]>>>sh;else x=a[bstart/32|0]>>>sh;return x&(1<<blength)-1},concat:function(a1,a2){if(0===a1.length||0===a2.length)return a1.concat(a2);var out,i,last=a1[a1.length-1],shift=sjcl.bitArray.getPartial(last);if(32===shift)return a1.concat(a2);else return sjcl.bitArray._shiftRight(a2,shift,0|last,a1.slice(0,a1.length-1))},bitLength:function(a){var l=a.length,x;if(0===l)return 0;return x=a[l-1],32*(l-1)+sjcl.bitArray.getPartial(x)},clamp:function(a,len){if(32*a.length<len)return a;a=a.slice(0,Math.ceil(len/32));var l=a.length;if(len=31&len,l>0&&len)a[l-1]=sjcl.bitArray.partial(len,a[l-1]&2147483648>>len-1,1);return a},partial:function(len,x,_end){if(32===len)return x;return(_end?0|x:x<<32-len)+1099511627776*len},getPartial:function(x){return Math.round(x/1099511627776)||32},equal:function(a,b){if(sjcl.bitArray.bitLength(a)!==sjcl.bitArray.bitLength(b))return!1;var x=0,i;for(i=0;i<a.length;i++)x|=a[i]^b[i];return 0===x},_shiftRight:function(a,shift,carry,out){var i,last2=0,shift2;if(void 0===out)out=[];for(;shift>=32;shift-=32)out.push(carry),carry=0;if(0===shift)return out.concat(a);for(i=0;i<a.length;i++)out.push(carry|a[i]>>>shift),carry=a[i]<<32-shift;return last2=a.length?a[a.length-1]:0,shift2=sjcl.bitArray.getPartial(last2),out.push(sjcl.bitArray.partial(shift+shift2&31,shift+shift2>32?carry:out.pop(),1)),out},_xor4:function(x,y){return[x[0]^y[0],x[1]^y[1],x[2]^y[2],x[3]^y[3]]}}};if("function"==typeof define&&define.amd)define("js/lib/sjcl-bitArray",["js/lib/sjcl"],function(sjcl){addBitArray(sjcl)});else addBitArray(wndw.sjcl)}(window),!function(wndw){var addCodecHex=function(sjcl){sjcl.codec.hex={fromBits:function(arr){var out="",i,x;for(i=0;i<arr.length;i++)out+=((0|arr[i])+0xf00000000000).toString(16).substr(4);return out.substr(0,sjcl.bitArray.bitLength(arr)/4)},toBits:function(str){var i,out=[],len;for(str=str.replace(/\s|0x/g,""),len=str.length,str+="00000000",i=0;i<str.length;i+=8)out.push(0^parseInt(str.substr(i,8),16));return sjcl.bitArray.clamp(out,4*len)}}};if("function"==typeof define&&define.amd)define("js/lib/sjcl-codecHex",["js/lib/sjcl"],function(sjcl){return addCodecHex(sjcl)});else addCodecHex(wndw.sjcl)}(window),!function(wndw){var addCodecString=function(sjcl){sjcl.codec.utf8String={fromBits:function(arr){var out="",bl=sjcl.bitArray.bitLength(arr),i,tmp;for(i=0;bl/8>i;i++){if(0===(3&i))tmp=arr[i/4];out+=String.fromCharCode(tmp>>>24),tmp<<=8}return decodeURIComponent(escape(out))},toBits:function(str){str=unescape(encodeURIComponent(str));var out=[],i,tmp=0;for(i=0;i<str.length;i++)if(tmp=tmp<<8|str.charCodeAt(i),3===(3&i))out.push(tmp),tmp=0;if(3&i)out.push(sjcl.bitArray.partial(8*(3&i),tmp));return out}}};if("function"==typeof define&&define.amd)define("js/lib/sjcl-codecString",["js/lib/sjcl","js/lib/sjcl-bitArray"],function(sjcl,bitArray){addCodecString(sjcl)});else addCodecString(wndw.sjcl)}(window),!function(wndw){var addSHA1=function(sjcl){sjcl.hash.sha1=function(hash){if(hash)this._h=hash._h.slice(0),this._buffer=hash._buffer.slice(0),this._length=hash._length;else this.reset()},sjcl.hash.sha1.hash=function(data){return(new sjcl.hash.sha1).update(data).finalize()},sjcl.hash.sha1.prototype={blockSize:512,reset:function(){return this._h=this._init.slice(0),this._buffer=[],this._length=0,this},update:function(data){if("string"==typeof data)data=sjcl.codec.utf8String.toBits(data);var i,b=this._buffer=sjcl.bitArray.concat(this._buffer,data),ol=this._length,nl=this._length=ol+sjcl.bitArray.bitLength(data);for(i=this.blockSize+ol&-this.blockSize;nl>=i;i+=this.blockSize)this._block(b.splice(0,16));return this},finalize:function(){var i,b=this._buffer,h=this._h;for(b=sjcl.bitArray.concat(b,[sjcl.bitArray.partial(1,1)]),i=b.length+2;15&i;i++)b.push(0);for(b.push(Math.floor(this._length/4294967296)),b.push(0|this._length);b.length;)this._block(b.splice(0,16));return this.reset(),h},_init:[1732584193,4023233417,2562383102,271733878,3285377520],_key:[1518500249,1859775393,2400959708,3395469782],_f:function(t,b,c,d){if(19>=t)return b&c|~b&d;else if(39>=t)return b^c^d;else if(59>=t)return b&c|b&d|c&d;else if(79>=t)return b^c^d},_S:function(n,x){return x<<n|x>>>32-n},_block:function(words){var t,tmp,a,b,c,d,e,w=words.slice(0),h=this._h,k=this._key;for(a=h[0],b=h[1],c=h[2],d=h[3],e=h[4],t=0;79>=t;t++){if(t>=16)w[t]=this._S(1,w[t-3]^w[t-8]^w[t-14]^w[t-16]);tmp=this._S(5,a)+this._f(t,b,c,d)+e+w[t]+this._key[Math.floor(t/20)]|0,e=d,d=c,c=this._S(30,b),b=a,a=tmp}h[0]=h[0]+a|0,h[1]=h[1]+b|0,h[2]=h[2]+c|0,h[3]=h[3]+d|0,h[4]=h[4]+e|0}}};if("function"==typeof define&&define.amd)define("js/lib/sjcl-sha1",["js/lib/sjcl","js/lib/sjcl-codecString","js/lib/sjcl-bitArray"],function(sjcl,codecString,bitArray){addSHA1(sjcl)});else addSHA1(wndw.sjcl)}(window),!function(wndw){var Experiments={},ExperimentInstances={},ABCingletons=null,MAX_SYNC_TIME=3e3,sendConversionEvents=function(experimentNames,attribute,$convert,callback){var after;if(callback){var max_sync_time=parseInt($convert.attr(attribute+"-convert-time")||MAX_SYNC_TIME,10);if(max_sync_time>0)setTimeout(callback,max_sync_time);after=_.after(experimentNames.length,callback)}_.each(experimentNames,function(experimentName){var types=_.keys(ABCingletons),called=!1;if(_.each(types,function(type){var experiment=ABCingletons[type].getExperiment(experimentName);if(experiment)experiment.convert($convert.attr(attribute+"-convert"),after),called=!0}),!called&&after)after()})},extractExperimentNames=function($convert,attribute){var experimentNames=$convert.attr(attribute)||"";return experimentNames.split(",")},convertIfNotAlready=function($convert,attribute){var activeAttr=attribute+"-convert-for-sync-active",converted=$convert.data(activeAttr)===!0;if(!converted)$convert.data(activeAttr,!0);return converted},AB=function($,_,Log,Cookie,sjcl){var _private={listenForConversion:function(attribute){$("body").on("click.ab","["+attribute+"-convert-for]",function(){var $convert=$(this),experimentNames=extractExperimentNames($convert,attribute+"-convert-for");sendConversionEvents(experimentNames,attribute,$convert)}),$("body").on("submit.ab","form["+attribute+"-convert-for-sync]",function(e){var $convert=$(this);if(!convertIfNotAlready($convert,attribute)){e.preventDefault();var experimentNames=extractExperimentNames($convert,attribute+"-convert-for-sync"),goto=function(){$convert.submit()};sendConversionEvents(experimentNames,attribute,$convert,goto)}}),$("body").on("click.ab","a["+attribute+"-convert-for-sync]",function(e){var $convert=$(this);if(!convertIfNotAlready($convert,attribute)){e.preventDefault();var experimentNames=extractExperimentNames($convert,attribute+"-convert-for-sync"),href=$convert.attr("href");if(href){var goto=function(){window.location.href=href};sendConversionEvents(experimentNames,attribute,$convert,goto)}}})},chooseVariant:function(){var that=this;if(!that.valid)return null;if(that.options.debug){var overrideString="ab-"+that.type+"-"+that.name+"-override",chosen=Cookie.get(overrideString)||$(wndw.document).find("body").attr("data-"+overrideString);if(null!=chosen){var variant=_.find(that.options.variants,function(variant){return variant.name==chosen});if(variant)return variant;else that.options.logger.error("Invalid variant: "+chosen)}}var key=that.id+"_"+that.name,digest=sjcl.codec.hex.fromBits(sjcl.hash.sha1.hash(key)),hashValue=parseInt(digest.substr(digest.length-8),16),maxHashValue=Math.pow(2,32),totalWeight=0,i;for(i=0;i<that.weights.length;i++)totalWeight+=that.weights[i];var targetWeight=hashValue/maxHashValue*totalWeight;for(i=0;i<that.weights.length;i++)if(targetWeight-=that.weights[i],0>targetWeight)return that.options.variants[i];return that.options.variants[that.weights.length-1]}},module=function(id,type,_options){for(var that=this,options=_options||{},parts=location.host.split(".");parts.length>2;)parts.shift();this.id=id,this.type=type,this.options={},this.options.domain=options.domain||"."+parts.join("."),this.options.logger=options.logger||Log({level:"error"}),this.options.tracker=options.tracker||[],this.options.debug=options.debug||!1,this.options.attribute="data-ab-"+this.type,this.experiments={},Experiments[this.type]={},ExperimentInstances[this.type]={}};module.prototype.setId=function(id){if(!this.id)this.id=id;else if(this.id!==id)this.options.logger.error("can't change an existing id, create new AB test instead")},module.prototype.addExperiment=function(name,options){if(!Experiments[this.type][name])if(options&&options.variants){var variants=_.filter(options.variants,function(option){return option.baseline}),weights=_.reduce(_.pluck(options.variants,"weight"),function(memo,num){return memo+num},0);if(variants&&1==variants.length&&1==weights.toFixed(10))Experiments[this.type][name]=options;else if(variants.length>1)this.options.logger.error("experiment "+name+" contains more than one baseline variants");else if(1>weights)this.options.logger.error("experiment "+name+" contains variants that don't sum to 1.0");else this.options.logger.error("experiment "+name+" has no baseline variant")}else this.options.logger.error("experiment "+name+" has no variants");else this.options.logger.error("experiment "+name+" already exists")},module.prototype.addExperiments=function(experiments){var that=this,keys=_.keys(experiments);_.each(keys,function(name){that.addExperiment(name,experiments[name])})},module.prototype.getExperiment=function(name){if(Experiments[this.type][name]){if(!ExperimentInstances[this.type][name]){var options=Experiments[this.type][name];ExperimentInstances[this.type][name]=new Experiment(this.id,name,{type:this.type,variants:Experiments[this.type][name].variants,logger:this.options.logger,debug:this.options.debug,tracker:this.options.tracker,domain:this.options.domain})}return ExperimentInstances[this.type][name]}else return null},module.prototype.runExperimentsOn=function(dom){var that=this,$variants=$(dom).find("["+this.options.attribute+"-variant-for]");$variants.hide();var experimentNames=[];$variants.each(function(){$variant=$(this),experimentNames.push($variant.attr(that.options.attribute+"-variant-for"))}),experimentNames=_.uniq(experimentNames),_.each(experimentNames,function(experimentName){var experiment=that.getExperiment(experimentName);if(experiment){var chosen=experiment.getChosenVariant(),$chosen=$variants.filter("["+that.options.attribute+"-variant-for="+experimentName+"]").filter("["+that.options.attribute+"-variant="+chosen+"]");if($chosen.size())$chosen.show();else that.options.logger.error("variants "+chosen+" for "+that.type+" experiment "+experimentName+" not found in the dom")}else that.options.logger.error(that.type+" experiment "+experimentName+" found on page but not added yet")})};var Experiment=function(id,name,options){var self=this;if(self.id=id,self.options=options,self.name=name,self.type=self.options.type,self.weights=_.pluck(self.options.variants,"weight"),self.valid=self.sanityCheck(name,self.weights),self.valid)self.options.logger.info("Created experiment ["+name+"] with "+self.options.variants.length+" variants.");else self.options.logger.info("Error in experiment ["+name+"]; resorting to fail-safe.")};Experiment.prototype.sanityCheck=function(name,weights){var self=this,i;if("string"!=typeof name)return self.options.logger.error("name should be a string!"),!1;if("ab-"==name.substr(0,3))return self.options.logger.error('name should not begin with "ab-"!'),!1;if(!$.isArray(weights))return self.options.logger.error("weights should be an array!"),!1;else for(i=0;i<weights.length;i++)if(weights[i]<0)return self.options.logger.error("All weights must be non-negative!"),!1;return!0},Experiment.prototype.getChosenVariant=function(){var that=this,experimentName=that.name,memory=Cookie.get("ab-experiments-"+that.type)||"";if(-1==memory.indexOf(experimentName)){if(memory.length>0)memory=memory+","+experimentName;else memory=experimentName;Cookie.clear("ab-experiments-"+that.type),Cookie.set("ab-experiments-"+that.type,memory,{expires:365,domain:that.options.domain})}if(_.isUndefined(this.chosen))if(this.chosen=_private.chooseVariant.call(this),this.valid){var variant_detail=this.chosen.baseline?this.chosen.name+",baseline":this.chosen.name;this.options.tracker.push(["ab.show",this.type+","+this.name+","+variant_detail+":"+this.id])}else this.options.tracker.push(["ab.fail",this.type+","+this.name+":"+this.id]);return this.chosen.name},Experiment.prototype.convert=function(value,callback){var experimentNames=(Cookie.get("ab-experiments-"+this.type)||"").split(",");if(experimentNames&&-1!=experimentNames.indexOf(this.name)&&this.valid){if(_.isUndefined(this.chosen))this.chosen=_private.chooseVariant.call(this);var variant_detail=this.chosen.baseline?this.chosen.name+",baseline":this.chosen.name;if(_.isUndefined(value))value="default";var data=["ab.convert",this.type+","+this.name+","+variant_detail+","+value+":"+this.id];if(callback)data.push(callback);this.options.tracker.push(data)}else if(callback)callback()};var external=function(id,type,options){if(!ABCingletons)ABCingletons={};if(!ABCingletons[type]){var ab=ABCingletons[type]=new module(id,type,options);return _private.listenForConversion(ab.options.attribute),ab}else return ABCingletons[type].setId(id),ABCingletons[type]};return external.makeSession=function(name,options){var sessionId=Cookie.get(name);if(!sessionId)sessionId=(1e10*Math.random()).toFixed()+"-"+(new Date).getTime(),Cookie.set(name,sessionId,options||{expires:14,domain:options.domain});return sessionId},external};if("function"==typeof define&&define.amd)define("js/lib/ab",["jquery","underscore","js/lib/log","js/lib/cookie","js/lib/sjcl","js/lib/sjcl-bitArray","js/lib/sjcl-codecHex","js/lib/sjcl-codecString","js/lib/sjcl-sha1","js/lib/json2"],function($,_,Log,Cookie,sjcl,bitArray,codecHex,codecString,sha1){return AB($,_,Log,Cookie,sjcl)});else wndw.AB=AB(wndw.$,wndw._,wndw.Log,wndw.Cookie,wndw.sjcl)}(window),!function(factory){if("function"==typeof define&&define.amd)define("js/lib/lucid",factory);else if(("object"==typeof module||"function"==typeof module)&&module.exports)module.exports=factory();else window.LucidJS=factory()}(function(){function EventEmitter(object){function on(event){function clear(){if(!listeners[event])return;for(aI=0;aI<args.length;aI+=1)listeners[event].splice(listeners[event].indexOf(args[aI]),1);if(listeners[event].length<1)delete listeners[event]}function batchOn(events,args){function clear(){var bI;for(bI=0;bI<bindings.length;bI+=1)bindings[bI].clear()}var eI,binding={},bindings=[];for(eI=0;eI<events.length;eI+=1)args.unshift(events[eI]),bindings.push(on.apply(this,args)),args.shift();return binding.clear=clear,binding}var args=Array.prototype.slice.apply(arguments,[1]),binding={},aI,sI;if("object"==typeof event&&"function"==typeof event.push)return batchOn(event,args);if("emitter"!==event.slice(0,7))trigger("emitter.listener",event,args);if(setEvents[event]){for(aI=0;aI<args.length;aI+=1){if("function"!=typeof args[aI])throw new Error("Cannot bind event. All callbacks must be functions.");for(sI=0;sI<setEvents[event].length;sI+=1)args[aI].apply(this,setEvents[event][sI])}return binding.clear=function(){},binding}if(!listeners[event])listeners[event]=[];for(aI=0;aI<args.length;aI+=1){if("function"!=typeof args[aI])throw new Error("Cannot bind event. All callbacks must be functions.");listeners[event].push(args[aI])}return binding.clear=clear,binding}function off(event){var args=Array.prototype.slice.apply(arguments,[1]),aI,sI;if("object"==typeof event&&"function"==typeof event.push){for(sI=0;sI<event.length;sI+=1)off.apply(null,[event[sI]].concat(args));return}if(!listeners[event])throw new Error('Tried to remove an event from a non-existant event of type "'+event+'".');for(aI=0;aI<args.length;aI+=1){if("function"!=typeof args[aI])throw new Error("Tried to remove a non-function.");var listenerIndex=listeners[event].indexOf(args[aI]);listeners[event].splice(listenerIndex,1)}}function once(event){var binding,args=Array.prototype.slice.apply(arguments,[1]),result=!0;return binding=on(event,function(){var aI,eventArgs=Array.prototype.slice.apply(arguments);for(binding.clear(),aI=0;aI<args.length;aI+=1)if(args[aI].apply(this,eventArgs)===!1)result=!1;return result})}function trigger(event,a1,a2,a3,a4,la){function batchTrigger(events,a1,a2,a3,a4,la){var eI,result=!0;if("undefined"!=typeof la)longArgs=Array.prototype.slice.apply(arguments,[1]);for(eI=0;eI<events.length;eI+=1)if(longArgs){if(args.unshift(events[eI]),trigger.apply(this,args)===!1)result=!1;args.shift()}else if(trigger(events[eI],a1,a2,a3,a4)===!1)result=!1;return result}var longArgs,lI,eventListeners,result=!0;if("undefined"!=typeof la)longArgs=Array.prototype.slice.apply(arguments,[1]);if("object"==typeof event&&"function"==typeof event.push)if(longArgs)return batchTrigger.apply(null,arguments);else return batchTrigger(event,a1,a2,a3,a4);for(event=event.split(".");event.length;){if(eventListeners=listeners[event.join(".")],"emitter"!==event[0])if(longArgs)trigger.apply(this,[].concat("emitter.event",event.join("."),longArgs));else trigger("emitter.event",a1,a2,a3,a4);if(eventListeners)for(eventListeners=[].concat(eventListeners),lI=0;lI<eventListeners.length;lI+=1)if(longArgs){if(eventListeners[lI].apply(this,longArgs)===!1)result=!1}else if(eventListeners[lI](a1,a2,a3,a4)===!1)result=!1;event.pop()}return result}function set(event){function batchSet(events,args){var eI,result=!0;for(eI=0;eI<events.length;eI+=1){if(args.unshift(events[eI]),trigger.apply(this,args)===!1)result=!1;args.shift()}return result}function clear(){if(setEvents[event])if(setEvents[event].splice(setEvents[event].indexOf(args),1),setEvents[event].length<1)delete setEvents[event]}var args=Array.prototype.slice.apply(arguments),setEvent={};if("object"==typeof event&&"function"==typeof event.push)return batchSet(event,args);if(trigger.apply(this,args),clearListeners(event),!setEvents[event])setEvents[event]=[];return setEvents[event].push(args.slice(1)),setEvent.clear=clear,setEvent}function clearSet(event){if(event)delete setEvents[event];else setEvents={}}function pipe(event){function captureListener(connection,emitter){connection.listenerBinding=on("emitter.listener",function(event){if(-1===connection.events.indexOf(event))connection.bindings.push(captureEvent(emitter,event)),connection.events.push(event)})}function captureEvent(emitter,event){return emitter.on(event,function(){var args=Array.prototype.slice.apply(arguments);return args.unshift(event),trigger.apply(this,args)})}function clearBatch(){if(bindings.length)for(;bindings.length;)bindings[0].clear(),bindings.splice(0,1)}function clear(){for(;connections.length;){if(connections[0].listenerBinding)connections[0].listenerBinding.clear();for(;connections[0].bindings.length;)connections[0].bindings[0].clear(),connections[0].bindings.splice(0,1);pipes.splice(pipes.indexOf(connections[0]),1),connections.splice(0,1)}}var api={},args=Array.prototype.slice.apply(arguments),eI,aI,pI,connections=[],connection,bindings=[],binding;if("object"==typeof event&&"function"==typeof event.push&&"string"==typeof event[0]){for(eI=0;eI<event.length;eI+=1)bindings.push(pipe.apply(null,[event[eI]].concat(args)));return api.clear=clearBatch,api}if("object"==typeof event&&"function"==typeof event.on)event=!1;else args.shift();if(event!==!1&&"string"!=typeof event)throw new Error("Cannot create pipe. The first argument must be an event string or an emitter.");for(aI=0;aI<args.length;aI+=1){for(pI=0;pI<pipes.length;pI+=1)if(pipes[pI].emitter===args[aI]){connection=pipes[pI];break}if(connection&&2===connection.type)continue;if(!connection)if(connection={},connection.emitter=args[aI],connection.bindings=[],connection.events=[],event)connection.type=1;else connection.type=2;if(-1!==connection.events.indexOf(event))continue;if(connection.events.push(event),1===connection.type)binding=captureEvent(args[aI],event),binding.event=event,connection.bindings.push(binding);else if(2===connection.type){for(event in listeners){if(!listeners.hasOwnProperty(event))continue;binding=args[aI].on(event,captureEvent),binding.event=event,connection.bindings.push(binding),connection.events.push(event)}captureListener(connection,args[aI])}connections.push(connection),pipes.push(connection)}return api.clear=clear,api}function clearPipes(event){var pI,bI,binding;for(pI=0;pI<pipes.length;pI+=1){if(event){if(2===pipes[pI].type)continue;if(-1===pipes[pI].events.indexOf(event))continue;pipes[pI].events.splice(pipes[pI].events.indexOf(event),1)}if(2===pipes[pI].type)pipes[pI].listenerBinding.clear();for(bI=0;bI<pipes[pI].bindings.length;bI+=1){if(event&&pipes[pI].bindings[bI].event!==event)continue;pipes[pI].bindings[bI].clear(),pipes[pI].bindings.splice(bI,1),bI-=1}if(pipes[pI].bindings.length<1)pipes.splice(pI,1),pI-=1}}function getListeners(event){if(event)return listeners[event];else return listeners}function clearListeners(event){if(event)delete listeners[event];else listeners={}}function clear(){trigger("emitter.clear"),listeners={},setEvents={},pipes={},delete emitter.on,delete emitter.once,delete emitter.trigger,delete emitter.set,delete emitter.pipe,delete emitter.listeners,delete emitter.clear}function handleNode(node){function clearNodeEmitter(){var DI;for(DI=0;DI<DOMEventListeners.length;DI+=1)try{if(node.removeEventListener)node.removeEventListener(DOMEventListeners[DI].event,DOMEventListeners[DI].listener,!1);else if(node.detachEvent)node.detachEvent("on"+DOMEventListeners[DI].event,DOMEventListeners[DI].listener)}catch(e){console.error(e)}handledEvents=[],listenerBinding.clear()}var handledEvents=[],listenerBinding,DOMEventListeners=[];listenerBinding=on("emitter.listener",function(event){function nodeListener(eventObj){var args=Array.prototype.slice.apply(arguments);if(args.unshift([event,"dom."+event]),trigger.apply(this,args)===!1)eventObj.preventDefault(),eventObj.stopPropagation()}if(handledEvents.indexOf(event)>-1)return;handledEvents.push(event);try{if(node.addEventListener)node.addEventListener(event,nodeListener,!1),DOMEventListeners.push({event:event,listener:nodeListener});else if(node.attachEvent)node.attachEvent("on"+event,nodeListener),DOMEventListeners.push({event:event,listener:nodeListener})}catch(e){console.error(e)}}),emitter.clearNodeEmitter=clearNodeEmitter}var emitter=object||{},listeners={},setEvents={},pipes=[];if(!(emitter.on||emitter.once||emitter.trigger||emitter.set||emitter.pipe||emitter.listeners))emitter.on=on,emitter.off=off,emitter.once=once,emitter.trigger=trigger,emitter.set=set,emitter.set.clear=clearSet,emitter.pipe=pipe,emitter.pipe.clear=clearPipes,emitter.listeners=getListeners,emitter.listeners.clear=clearListeners;else return emitter;if(emitter.addEventListener||emitter.attachEvent)handleNode(emitter);return emitter}var api;return api={emitter:EventEmitter},[].indexOf||(Array.prototype.indexOf=function(a,b,c){for(c=this.length,b=(c+~~b)%c;c>b&&(!(b in this)||this[b]!==a);b++);return b^c?b:-1}),api}),!function(){var DataAttributes=function($){var parse=function(el,defaults,_prefix){var settings={},prefix=_prefix||"";for(var key in defaults){var pkey=prefix+key.replace(/\./g,"-"),attr=$(el).attr(pkey);if(void 0===attr)settings[key]=defaults[key];else if("string"==typeof attr&&0===attr.length||/^\s*true\s*$/.test(attr)||pkey==attr)settings[key]=!0;else if(/^\s*false\s*$/.test(attr))settings[key]=!1;else settings[key]=attr}return settings},exports={parse:parse};return exports};if("function"==typeof define&&define.amd)define("js/lib/data.attributes",["jquery"],function($){return DataAttributes($)});else if("undefined"!=typeof window&&"undefined"==typeof ender)window.DataAttributes=DataAttributes(window.$)}(),!function(){var Modals=function($,LucidJS,_,DataAttributes){var CLOSED=0,OPEN=1,_private={defaults:{"bind.open":"click","bind.close":"click","bind.action":"click","attribute.open":"data-modal","attribute.close":"data-modal-close","attribute.iframe":"data-modal-iframe","attribute.action":"data-modal-action","attribute.focus":"data-modal-focus","attribute.focus.index":1e4,"animate.modal.open":null,"animate.modal.close":null,"animate.modal.duration":250,"animate.overlay.open":null,"animate.overlay.close":null,"animate.overlay.duration":250,"overlay.show":!0,"overlay.class":"overlay","overlay.close":!0,"z.index":9999,"position.top":"50%","position.left":"50%",position:"fixed","iframe.autoclose":!0},$overlay:null,count:0,prevScroll:null,prevModal:null,getModal:function(el,options){var modal=$(el).data("modal.me");if(modal&&modal.constructor==Modal.prototype.constructor)if(options)return modal.customize(options);else return modal;else return null},makeModal:function(el,options){var $el=$(el),modal=_private.getModal($el);if(!modal)modal=new Modal($el,options),$el.data("modal.me",modal);return modal},setOverlayHeight:function(){if($(window).height()<$(document).height())_private.$overlay.css({height:$(document).height()+"px"});else _private.$overlay.css({height:"100%"})},observeKeyPress:function(e){if(this.options["overlay.close"])if(27==e.keyCode||27==e.DOM_VK_ESCAPE&&0===e.which)this.emitter.trigger("action",!1,this),this.close();this.emitter.trigger("key",e)},cycleTabs:function(e){var $tabbable=this.$el.find("a,input,select,textarea,button").filter(":visible");if(9==e.keyCode&&$(e.target).is($tabbable.last()))window.setTimeout(function(){$tabbable.first().focus()},0)},actionTrigger:function(e){var $el=$(e.currentTarget),action=$el.attr(this.options["attribute.action"]);this.emitter.trigger("action",action,this)},open:function(){if("fixed"!=this.options.position)_private.prevScroll={top:$(document).scrollTop(),left:$(document).scrollLeft()},window.scrollTo(0,0);if(this.$iframe){var iframeUrl=this.options["iframe.url"]||$(this.anchor).attr(this.options["attribute.iframe"]);this.$iframe.attr("src",iframeUrl),this.$iframe.focus()}else{var $focus=this.$el.find("["+this.options["attribute.focus"]+"]"),$focusable_elements=this.$el.find("a,input,select,textarea,button");for(i=0;i<$focusable_elements.length;i++)$focusable_elements.eq(i).attr("tabindex",this.options["attribute.focus.index"]+1+i);if($focus.size()>0)$focus.filter(":visible").eq(0).attr("tabindex",this.options["attribute.focus.index"]),$focus.filter(":visible").eq(0).focus();else if($focusable_elements.size()>0)$focusable_elements.filter(":visible").eq(0).attr("tabindex",this.options["attribute.focus.index"]),$focusable_elements.filter(":visible").eq(0).focus()}this.state=OPEN,this.$el.on(this.options["bind.action"],"["+this.options["attribute.action"]+"]",_.bind(_private.actionTrigger,this)),this.emitter.trigger("open")},close:function(){var $iframe=this.$el.find("iframe");if(this.$el.off(".modal").hide(),this.options["iframe.autoclose"]&&$iframe.size())$iframe.attr({src:"about:blank"});if(_private.prevScroll)window.scrollTo(_private.prevScroll.left,_private.prevScroll.top),_private.prevScroll=null;this.anchor=null,this.$parent.append(this.$el),this.state=CLOSED,this.emitter.trigger("close")}},Modal=function(el,settings){var that=this;this.$el=$(el),this.state=CLOSED,this.$parent=this.$el.parent(),this.customize(settings),this.emitter=LucidJS.emitter(this)};Modal.prototype.customize=function(settings){return this.options=_.extend({},DataAttributes.parse(this.$el,_private.defaults,"data-modal-"),settings),this},Modal.prototype.open=function(){var that=this,iframeUrl;if(this.anchor)iframeUrl=$(this.anchor).attr(this.options["attribute.iframe"]);if(this.options["iframe.url"])iframeUrl=this.options["iframe.url"];if(iframeUrl)if(this.$iframe=this.$el.find("iframe"),/^https?:\/\/|^\/|^\.\.\//.test(iframeUrl))if(!this.$iframe.size()||this.$iframe.attr("src")!=iframeUrl)if(this.$iframe.attr("src","about:blank").remove(),this.$iframe=$("<iframe>").css({height:"100%",width:"100%"}).attr({scrolling:"no",frameborder:0}),this.$el.append(this.$iframe),this.state!=CLOSED)this.$iframe.attr("src",iframeUrl);if(this.state!=CLOSED)return;if(this.options["overlay.show"]){if(_private.$overlay&&"none"!=_private.$overlay.css("display")&&_private.$overlay.hasClass(this.options["overlay.class"]))this.$overlay=_private.$overlay;else{if(_private.$overlay)_private.$overlay.off(".modal").hide().remove();this.$overlay=_private.$overlay=$("<div>").addClass(this.options["overlay.class"]).hide(),this.$overlay.css({position:"fixed",width:"100%",top:0,left:0,right:0,bottom:0,zIndex:this.options["z.index"]++}),$("body").append(this.$overlay)}if(_private.setOverlayHeight(),this.reposition(),this.options["animate.overlay.open"])this.$overlay.animate(this.options["animate.overlay.open"],{duration:this.options["animate.overlay.duration"]});else this.$overlay.show();_private.count++,this.$overlay.data("modal",this)}if(this.emitter.trigger("opening"),"fixed"!=this.options.position||0===this.$el.closest("html").length)this.$el.appendTo("body");if(this.reposition(),this.$el.show(),this.options["animate.modal.open"])this.$el.animate(this.options["animate.modal.open"],{duration:this.options["animate.modal.duration"],complete:function(){_private.open.call(that)}});else _private.open.call(this);if($(window).on("resize.modal",_.bind(_private.setOverlayHeight,that)).on("resize.modal",_.bind(that.reposition,that)).on("scroll.modal",_.bind(that.reposition,that)),this.$el.on("keydown.modal",_.bind(_private.cycleTabs,that)),$(window).on("keyup.modal",_.bind(_private.observeKeyPress,that)),this.options["overlay.close"])this.$overlay.on(this.options["bind.close"]+".modal",function(e){that.emitter.trigger("action",!1,that),that.close()});if(this.options["attribute.close"])this.$el.on(this.options["bind.close"]+".modal","["+this.options["attribute.close"]+"]",function(e){var $target=$(e.currentTarget);if("disabled"!=$target.attr("disabled")){if(void 0===$target.attr(that.options["attribute.action"]))that.emitter.trigger("action",!1,that);that.close()}});return this},Modal.prototype.reposition=function(){var left=this.options["position.left"],top=this.options["position.top"];if(left)this.$el.css({position:this.options.position,left:left,marginLeft:/%/.test(left)?this.$el.outerWidth()/2*-1:0,zIndex:this.options["z.index"]++});if(top)this.$el.css({position:this.options.position,top:top,marginTop:/%/.test(top)?this.$el.outerHeight()/2*-1:0,zIndex:this.options["z.index"]++});return this},Modal.prototype.close=function(){var that=this;if(this.state!=OPEN)return;if(this.trigger("closeRequest")===!1)return;if(this.$el.off(".modal"),$(window).off(".modal"),this.emitter.trigger("closing"),this.options["animate.modal.close"])this.$el.animate(this.options["animate.modal.close"],{duration:this.options["animate.modal.duration"],complete:function(){_private.close.call(that)}});else _private.close.call(this);if(0===--_private.count)if(this.options["overlay.show"]&&this.$overlay)if(this.$overlay.off(".modal"),this.options["animate.overlay.close"])this.$overlay.animate(this.options["animate.overlay.close"],{duration:this.options["animate.overlay.duration"],complete:function(){this.$overlay.hide().remove()}});else this.$overlay.hide().remove();return this};var external=function(){return _private.getModal.apply(null,arguments)||_private.makeModal.apply(this,arguments)};return external.start=function(view,_options){var $view=$(view),options=_.extend({},_private.defaults,_options);if($view.data("modals-initialized"))return;else $view.data("modals-initialized",1);$view.on(options["bind.open"]+".modal","["+options["attribute.open"]+"]",function(e){var $anchor=$(this),selector=$anchor.attr(options["attribute.open"]),$modal=$view.find(selector);
options=_.extend({},options,DataAttributes.parse($modal,_private.defaults,"data-modal-"));var modal=_private.getModal($modal,options)||_private.makeModal($modal,options);if(/^https?:\/\/|^\/|^\.\.\//.test($anchor.attr("href"))&&!e.ctrlKey&&!e.metaKey)e.preventDefault();modal.anchor=this,_private.prevModal=$modal[0],modal.open()})},external.stop=function(view){var $view=$(view);if($view.unbind(".modal"),$view.data("modals-initialized",0),_private.prevModal)Modal(_private.prevModal).close()},external.start("body"),external};if("function"==typeof define&&define.amd)define("js/lib/modals",["jquery","js/lib/lucid","underscore","js/lib/data.attributes"],function($,LucidJS,_,DataAttributes){return Modals($,LucidJS,_,DataAttributes)});else if("undefined"!=typeof window&&"undefined"==typeof ender)window.Modal=Modals(window.$,window.LucidJS,window._,window.DataAttributes)}(),define("js/lib/origami",["jquery","underscore","backbone","require","js/lib/modals","bundles/confirmNavigation/confirmNavigation.html","q"],function($,_,Backbone,require,Modal,confirmNavigationTemplate,Q){Backbone.View.prototype._super=function(funcName){return this.constructor.__super__[funcName].apply(this,_.rest(arguments))};var _singleton=null,_private={current:null,body:"#origami",views:{},beforeUnloadMessage:"There are unsaved changes that will be lost if you reload or leave this page.",regionHasUnsavedModel:function(region){if(!region)return!1;var viewHasUnsavedModel=region.view.hasUnsavedModel?region.view.hasUnsavedModel():!1;if(viewHasUnsavedModel)return!0;else{for(var name in region.regions){var subRegion=region.regions[name];if(_private.regionHasUnsavedModel(subRegion))return!0}return!1}}};if(window.location.hash.match(/^#!/))window.location.hash=window.location.hash.replace(/^#!/,"#");var router=Backbone.Router.extend({initialize:function(){var self=this;self.routePrefix="",self.linkClass="internal",$("body").on("click","a.internal",function(e){if(!e.ctrlKey&&!e.metaKey)e.preventDefault(),self.navigate($(e.currentTarget).attr("href"),!0)}),this.$confirmNavigation=$(confirmNavigationTemplate({})),$("body").append(this.$confirmNavigation),$(window).on("beforeunload.origami",function(){if(_private.regionHasUnsavedModel(_private.current))return _private.beforeUnloadMessage})},setupLinks:function(routePrefix,linkClass){var self=this;this.routePrefix=routePrefix,this.linkClass=linkClass,$("body").on("click","a."+this.linkClass,function(e){if(!e.ctrlKey&&!e.metaKey)e.preventDefault(),self.navigateTo($(e.currentTarget).attr("href"),!0)})},navigateTo:function(href,silent){this.navigate(href.replace(this.routePrefix,""),silent)},navigate:function(fragment,options){if(_private.current&&_private.regionHasUnsavedModel(_private.current)){var $message=$(".confirm-navigation-message");$message.text(_private.beforeUnloadMessage);var $leave=$(".confirm-navigation-leave");$leave.one("click",function(){Backbone.Router.prototype.navigate.call(this,fragment,options)});var modalOptions={"overlay.class":"coursera-overlay"};Modal(".confirm-navigation",modalOptions).open()}else Backbone.Router.prototype.navigate.call(this,fragment,options)},addRoutes:function(routes){var self=this;for(var route in routes)self.route(route,route,routes[route]),self.route(route+"/",route+"/",function(){var url=Backbone.history.getFragment(),rewrite=url.replace(/\/(?:\?.*)*$/,"");self.navigate(rewrite,{trigger:!0,replace:!0})})}}),animateManager={resize:function(outgoing,incoming,callback){$("body").append(incoming.$el.css({visibility:"hidden"}));var height={from:outgoing.$el.outerHeight(),to:incoming.$el.outerHeight()};outgoing.$el.animate({height:height.to},300,function(){if(outgoing.$el.replaceWith(incoming.$el.css({visibility:"visible"})),incoming.$el.find("img").on("load",function(){incoming.$el.animate({height:incoming.$el.outerHeight()})}),callback)callback()})},slideLeft:function(outgoing,incoming,callback){var going=outgoing.$el,coming=incoming.$el,position=going.position(),width=going.outerWidth(),height=going.outerHeight(),parent=$("<div>").css({position:"relative",width:width,height:height}),restoreIn={position:coming.css("absolute")||"static",width:coming.get(0).style.width,left:coming.get(0).style.left},restoreOut={position:going.css("absolute")||"static",width:going.get(0).style.width,left:going.get(0).style.left};going.wrap(parent),going.css({width:width,left:position.left,position:"absolute"}),coming.css({width:width,left:position.left+width,position:"absolute"}),going.parent().append(coming),going.animate({left:-width},{duration:500,step:function(moved){coming.css({left:position.left+width+moved})},complete:function(){if(coming.css(restoreIn),going.css(restoreOut).hide(),going.unwrap(),callback)callback()}})},slideRight:function(outgoing,incoming,callback){var going=outgoing.$el,coming=incoming.$el,position=going.position(),width=going.outerWidth(),height=going.outerHeight(),parent=$("<div>").css({position:"relative",width:width,height:height}),restoreIn={position:coming.css("absolute")||"static",width:coming.get(0).style.width,left:coming.get(0).style.left},restoreOut={position:going.css("absolute")||"static",width:going.get(0).style.width,left:going.get(0).style.left};going.wrap(parent),going.css({width:width,left:position.left,position:"absolute"}),coming.css({width:width,left:-(position.left+width),position:"absolute"}),going.parent().append(coming),going.animate({left:width},{duration:500,step:function(moved){coming.css({left:-(position.left+width)+moved})},complete:function(){if(coming.css(restoreIn),going.css(restoreOut).hide(),going.unwrap(),callback)callback()}})},replace:function(outgoing,incoming,callback){if(outgoing.$el.replaceWith(incoming.el),callback)callback()}},region=function(type,_options){var self=this,options=_options||{};self.type=type,self.animate=options.animate||{},self.regions=options.regions||{},self.initialize=options.initialize||{},self.options={},self.id=options.id||type.prototype.name,self.name=type.prototype.name,self.view=null,self.regions=$.extend(!0,{},type.prototype.subregions,options.regions||{})};region.prototype.close=function(keep){var self=this;if(_.each(self.regions,function(_region,key){delete self.regions[key],_region.close(keep)}),!keep)self.view.remove();self.view.undelegateEvents(),self.view.trigger("view:closed"),self.view.off("view")},region.prototype.closing=function(){this.view.trigger("view:closing"),delete _private.views[this.view.cid]},region.prototype.render=function(origami){var self=this;if(_.each(self.regions,function(view,key){if(!view)return;view.render(),view.parent=self}),self.view=new self.type(self.initialize),self.view.region=self,self.view.render(self.render),origami)self.view.on("view:appended",function(){origami.trigger("region:appended",{name:self.name})});return self},region.prototype.appended=function(){var that=this;if(that.view)setTimeout(function(){that.view.trigger("view:appended")},0)},region.prototype.append=function(view,options){var that=this,appended=Q.defer();if(!this.regions)this.regions={};var render_and_append=function(_region){for(var key=view,count=0,$el;that.regions[key];)key+=++count;if(that.regions[key]=_region,_region.render(_singleton),options.to)$el=_.isElement(options.to)?that.view.$(options.to):options.to;else $el=that.view.$el;if(_(options).has("position")){var wasInPosition=$el.children().eq(options.position);if(wasInPosition.length>0)$(wasInPosition[0]).before(_region.view.el);else $el.append(_region.view.el)}else $el.append(_region.view.el);_region.appended(),_singleton.trigger("region:rendered",{name:_region}),appended.resolve(_region)};if("string"==typeof view)_singleton.region.fetch(view,options,render_and_append);else render_and_append(new region(view,options));return appended.promise},region.prototype.is=function(_region){return _region.type==this.type&&_region.id==this.id},region.prototype.replace=function(incoming,callback){var outgoing=this,how="replace",animate={incoming:incoming.view.animate,outgoing:outgoing.view.animate};if(_.isString(animate.incoming))how=animate.incoming;else if(_.isFunction(animate.incoming))how=animate.incoming();else if(_.isString(animate.outgoing))how=animate.outgoing;else if(_.isFunction(animate.outgoing))how=animate.outgoing();if(!animateManager[how])how="replace";animateManager[how](outgoing.view,incoming.view,callback)},region.prototype.merge=function(incoming,origami){var self=this;if(self.is(incoming))_.each(incoming.regions,function(_region,view){self.regions[view].view.trigger("view:merging",_region.initialize),self.regions[view].merge(_region,origami),self.regions[view].view.trigger("view:merged",_region.initialize)});else if(self.name==incoming.name)self.closing(),incoming.render(origami),self.replace(incoming,function(){if(self.parent)self.parent.regions[incoming.name]=incoming,incoming.parent=self.parent,self.parent.appended();self.close(),incoming.appended()})};var Origami=function(body,current){if(_singleton)return _singleton;_singleton=this;var that=this;_private.body=body,_private.current=current,$(window).on("resize",function(){for(var cid in _private.views)_private.views[cid].trigger("view:resize")}),this.region={make:function(type,options){return new region(type,options)},fetch:function(_region,conf,callback){var uid=_.uniqueId();that.trigger("region:fetching",{name:_region,uid:uid}),require([_region],function(view){that.trigger("region:fetched",{name:_region,uid:uid}),callback(new region(view,conf))})},append:function(parent,view,options,callback){if(!parent)parent={regions:{}};var render_and_append=function(_region){for(var key=view,count=0;parent.regions[key];)key+=++count;if(parent.regions[key]=_region,_region.render(that),callback)callback(_region);return _region.appended(),that.trigger("region:rendered",{name:_region}),_region};if("string"==typeof view)that.region.fetch(view,options,render_and_append);else return render_and_append(new region(view,options))},open:function(name,callback){var view=name,conf={};if(_.isObject(name))view=_.keys(name)[0],conf=name[view];that.region.fetch(view,conf,callback||function(parent){var validRegions=_(parent.regions).filter(function(region){return region}),render=_.after(_.keys(validRegions||{}).length+1,function(){if(_private.current){if(_private.current.is(parent))return void _private.current.merge(parent,that);else if(_private.current.name==parent.name)return parent.render(that),void _private.current.replace(parent,function(){_private.current.close(),_private.current=parent,_private.current.appended()});_private.current.close(!0)}_private.current=parent,$(_private.body).html(_private.current.render(that).view.el),_private.current.appended(),_.each(_private.current.regions,function(_region){if(_region)_region.appended()})});render(that),_.each(parent.regions,function(subregion,name){if(!subregion)return;that.region.open(subregion,function(_region){parent.regions[name]=_region,render(that)})})})}},this.animate=animateManager,this.router=new router,this.store={},this.tracker=[]};return _.extend(Origami.prototype,Backbone.Events),Origami}),define("js/lib/supports",[],function(){var supports={},prefix="supports-";if(document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"))document.documentElement.className=prefix+"svg",supports.svg=!0;if(window.XMLHttpRequest&&"withCredentials"in new window.XMLHttpRequest&&navigator.userAgent.indexOf("MSIE 10.0")<0)supports.cors=!0;var userAgent=navigator.userAgent.toLowerCase();if(/safari/.test(userAgent)&&!/chrome/.test(userAgent))supports.accepts=!1;else supports.accepts=!0;return supports}),!function(wndw){var module=function(_,$){var thirdparty={loadScript:function(url,success,body){var newScript=document.createElement("script"),scripts=document.getElementsByTagName("script");if(newScript.type="text/javascript",newScript.async=!0,newScript.src=url,body)newScript.innerHTML=body;if(success)newScript.onload=newScript.onreadystatechange=function(){newScript.onreadystatechange=newScript.onload=null,success()};if(scripts&&scripts.length)scripts[0].parentNode.insertBefore(newScript,scripts[0]);else if(window.document&&window.document.body)window.document.body.appendChild(newScript)},isDefined:function(parent,name){for(var parts=name.split("."),part=parts.shift(),cur=parent;part;)if(cur[part])cur=cur[part],part=parts.shift();else cur=null,part=null;return null!==cur},ready:function(global,callback){if(thirdparty.isDefined(window,global))callback.call();else{var base=global.split(".")[0];if(_.isArray(pool[global]))pool[global].push(callback);else pool[global]=[callback],third_party_globals[base].call(null,global)}}},pool={},poll=function(global){if(thirdparty.isDefined(window,global))for(var base=global.split(".")[0];pool[global]&&pool[global].length;)pool[global].pop().call();else window.setTimeout(function(){poll(global)},100)},third_party_globals={IN:function(x){var funcName="itsThirdPartyTime"+(new Date).getTime();window[funcName]=function(){delete window[funcName],poll(x)},thirdparty.loadScript("https://platform.linkedin.com/in.js",function(){},"onLoad:"+funcName+"\napi_key: v7ah6tdxsqt6")},google:function(x){var funcName;if(/^google\.maps.places/.test(x))funcName="itsThirdPartyTime"+(new Date).getTime(),window[funcName]=function(){delete window[funcName],poll(x)},thirdparty.loadScript("https://maps.googleapis.com/maps/api/js?sensor=false&key=AIzaSyC7XENXcXiE_oj0HvDUC_MiLY9zI3xTW0g&libraries=places&callback="+funcName);if(/^google\.maps\.Map/.test(x))funcName="itsThirdPartyTime"+(new Date).getTime(),window[funcName]=function(){delete window[funcName],poll(x)},thirdparty.loadScript("https://maps.googleapis.com/maps/api/js?sensor=false&key=AIzaSyCzodUI0p0hH-8n6tZ45vMNlaNfKEpuEMU&callback="+funcName)},FB:function(x){thirdparty.loadScript("https://connect.facebook.net/en_US/all.js#xfbml=1&appId=274998519252278",function(){poll(x)})},gapi:function(x){window.___gcfg={lang:"en-US",parsetags:"explicit"},thirdparty.loadScript("https://apis.google.com/js/plusone.js",function(){delete window.___gcfg,poll(x)})},twttr:function(x){thirdparty.loadScript("https://platform.twitter.com/widgets.js",function(){poll(x)})},MathJax:function(x){thirdparty.loadScript("https://d2265nx4vomwra.cloudfront.net/2.1/MathJax.js?delayStartupUntil=configured",function(){poll(x)})}};return thirdparty};if("function"==typeof define&&define.amd)define("js/lib/third-parties",["underscore","jquery"],function(_,$){return module(_,$)});else window.thirdparties=module(window._,window.$)}(window),!function(wndw){var module=function(_){var MultiTracker=function(opts){var options=opts||{};this.trackers={},this.logger=options.logger||Log({level:"error"})};MultiTracker.prototype.register=function(name,queue,type,parser){this.trackers[name]={queue:queue||[],type:type||"key-value",parse:parser}},MultiTracker.prototype.get=function(name){return this.trackers[name]},MultiTracker.prototype.push=function(){for(var trackings=arguments,value,trackEvent,handler,k=0;k<trackings.length;k++){var tracking=_.isArray(trackings[k])?trackings[k]:[trackings[k]];for(var tracker in this.trackers)if("400"!==tracker){if(trackEvent=void 0,handler=void 0,"google"==this.trackers[tracker].type){if("pageview"==tracking[0]){trackEvent=["_trackPageview"];for(var i=1;i<tracking.length;i++)trackEvent.push(_.isString(tracking[i])?tracking[i]:JSON.stringify(tracking[i]))}}else if("key-value"==this.trackers[tracker].type){value=[];for(var a=1;a<tracking.length;a++)if("function"==typeof tracking[a])handler=tracking[a];else value.push(_.isString(tracking[a])?tracking[a]:JSON.stringify(tracking[a]));if(value.length)trackEvent={key:tracking[0],value:value.join(".")};else trackEvent={key:tracking[0]}}else if("custom"==this.trackers[tracker].type&&this.trackers[tracker].parse)trackEvent=this.trackers[tracker].parse.apply(this,tracking);if(trackEvent)if(handler)this.trackers[tracker].queue.push(["send",trackEvent,handler]);else this.trackers[tracker].queue.push(trackEvent)}this.logger.info.apply(this.logger,tracking)}},MultiTracker.prototype.pushV2=function(){for(var trackings=arguments,value,trackEvent,handler,k=0;k<trackings.length;k++){var tracking=_.isArray(trackings[k])?trackings[k]:[trackings[k]];for(var tracker in this.trackers)if("204"!==tracker){if(trackEvent=void 0,handler=void 0,"google"==this.trackers[tracker].type){if("pageview"==tracking[0]){trackEvent=["_trackPageview"];for(var i=1;i<tracking.length;i++)trackEvent.push(_.isString(tracking[i])?tracking[i]:JSON.stringify(tracking[i]))}}else if("key-value"==this.trackers[tracker].type){value=[];for(var a=1;a<tracking.length;a++)if("function"==typeof tracking[a])handler=tracking[a];else value.push(_.isString(tracking[a])?tracking[a]:JSON.stringify(tracking[a]));if(value.length)trackEvent={key:tracking[0],value:value.join(".")};else trackEvent={key:tracking[0]}}else if("custom"==this.trackers[tracker].type&&this.trackers[tracker].parse)trackEvent=this.trackers[tracker].parse.apply(this,tracking);if(trackEvent)if(handler)this.trackers[tracker].queue.push(["send",trackEvent,handler]);else this.trackers[tracker].queue.push(trackEvent)}this.logger.info.apply(this.logger,tracking)}};var external=function(options){return new MultiTracker(options)};return external};if("function"==typeof define&&define.amd)define("js/lib/multitracker",["underscore","js/lib/json2"],function(_){return module(_)});else wndw.MultiTracker=module(wndw._)}(window),define("js/lib/metatags",["require","jquery","underscore"],function(require){function nameToType(name){return nameToTypeMapping[name]||"name"}function select(name){return $("meta["+nameToType(name)+"='"+name+"']")}function stripTags(str){return(str||"").replace(/<\w+(\s+("[^"]*"|'[^']*'|[^>])+)?>|<\/\w+>/gi,"")}function setMetaTag(name,value){var $metaTag=select(name);if(0===$metaTag.length){var metaHtml="<meta "+nameToType(name)+'="'+name+'" />';$metaTag=$(metaHtml).appendTo("head")}$metaTag.attr("content",stripTags(value))}function set(name,value){if("object"==typeof name)_.each(name,function(val,key){setMetaTag(key,val)});else setMetaTag(name,value)}function share(title,image,description,url){set({"og:title":title,"og:url":url,"og:image":image,"og:site_name":title,"og:description":description,"twitter:card":"summary","twitter:title":title,"twitter:description":description,"twitter:image:src":image,description:description,image:image})}function setDocumentDefault(){set({"og:title":document.title,"og:url":window.location.href,"og:site_name":document.title,name:document.title})}function clear(name){var $metaTag=select(name);$metaTag.remove()}var $=require("jquery"),_=require("underscore"),nameToTypeMapping={"og:title":"property","og:url":"property","og:image":"property","og:site_name":"property","og:description":"property","twitter:card":"name","twitter:title":"name","twitter:description":"name","twitter:image:src":"name",description:"name",image:"name"};return{set:set,setDocumentDefault:setDocumentDefault,clear:clear,share:share}}),define("js/lib/language",["jquery","underscore"],function($,_){function shortenLanguageCode(code){return(normalizeLanguageCode(code)||"").split("-")[0]}function languageCodeCSVtoLanguages(csv){var subtitlesLangs=_.compact((csv||"").split(/,\s*/g));return _.reduce(subtitlesLangs,function(memo,code){return memo[code]=languageCodeToName(code),memo},{})}function isRightToLeft(language){var rightToLeftLanguages=["ar","he"];return _.contains(rightToLeftLanguages,shortenLanguageCode(language))}function languageCodeToName(code){code=normalizeLanguageCode(code||"");var components=code.split("-"),language,languageMappingExists=_.any(components,function(c,i){var codeToTest=components.slice(0,components.length-i).join("-");return language=languageCodeToNameObj[codeToTest],!!language});return languageMappingExists?language:code}function normalizeLanguageCode(languageCode){var code=(languageCode||"").toLowerCase().replace(/_/g,"-");return code.split(/[;=,]/)[0]}function getLanguageCode(){var code;try{code=window.require.s.contexts._.config.config.i18n.locale}catch(e){code=normalizeLanguageCode($("#_require").attr("data-locale"))||"en"}return code}function latinizeText(string){return string.replace(/[^A-Za-z0-9\[\] ]/g,function(a){return LATIN_MAP[a]||a})}function capitalizeRegionalCode(string){return string.replace(/(-[a-z]{1,}$)/,function(match){return match.toUpperCase()})}var languageCodeToNameObj={ab:"Abkhaz",aa:"Afar",af:"Afrikaans",ak:"Akan",sq:"Albanian",am:"Amharic",ar:"Arabic",an:"Aragonese",hy:"Armenian",as:"Assamese",av:"Avaric",ae:"Avestan",ay:"Aymara",az:"Azerbaijani",bm:"Bambara",ba:"Bashkir",eu:"Basque",be:"Belarusian",bn:"Bengali",bh:"Bihari",bi:"Bislama",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",ny:"Chichewa",zh:"Chinese","zh-cn":"Chinese (Simplified)","zh-tw":"Chinese (Traditional)",cv:"Chuvash",kw:"Cornish",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",dv:"Divehi",nl:"Dutch",dz:"Dzongkha",en:"English",eo:"Esperanto",et:"Estonian",ee:"Ewe",fo:"Faroese",fj:"Fijian",fi:"Finnish",fr:"French",ff:"Fula",gl:"Galician",ka:"Georgian",de:"German",el:"Greek",gn:"Guaraní",gu:"Gujarati",ht:"Haitian",ha:"Hausa",he:"Hebrew",hz:"Herero",hi:"Hindi",ho:"Hiri Motu",hu:"Hungarian",ia:"Interlingua",id:"Indonesian",ie:"Interlingue",ga:"Irish",ig:"Igbo",ik:"Inupiaq",io:"Ido",is:"Icelandic",it:"Italian",iu:"Inuktitut",ja:"Japanese",jv:"Javanese",kl:"Kalaallisut",kn:"Kannada",kr:"Kanuri",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ki:"Kikuyu",rw:"Kinyarwanda",ky:"Kyrgyz",kv:"Komi",kg:"Kongo",ko:"Korean",ku:"Kurdish",kj:"Kwanyama",la:"Latin",lb:"Luxembourgish",lg:"Ganda",li:"Limburgish",ln:"Lingala",lo:"Lao",lt:"Lithuanian",lu:"Luba-Katanga",lv:"Latvian",gv:"Manx",mk:"Macedonian",mg:"Malagasy",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Māori",mr:"Marathi",mh:"Marshallese",mn:"Mongolian",na:"Nauru",nv:"Navajo",nb:"Norwegian Bokmål",nd:"North Ndebele",ne:"Nepali",ng:"Ndonga",nn:"Norwegian Nynorsk",no:"Norwegian",ii:"Nuosu",nr:"South Ndebele",oc:"Occitan",oj:"Ojibwe",cu:"Old Church Slavonic",om:"Oromo",or:"Oriya",os:"Ossetian",pa:"Panjabi",pi:"Pāli",fa:"Persian",pl:"Polish",ps:"Pashto",pt:"Portuguese","pt-br":"Portuguese (Brazilian)",qu:"Quechua",rm:"Romansh",rn:"Kirundi",ro:"Romanian",ru:"Russian",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",se:"Northern Sami",sm:"Samoan",sg:"Sango",sr:"Serbian",gd:"Gaelic",sn:"Shona",si:"Sinhala",sk:"Slovak",sl:"Slovene",so:"Somali",st:"Southern Sotho",es:"Spanish",su:"Sundanese",sw:"Swahili",ss:"Swati",sv:"Swedish",ta:"Tamil",te:"Telugu",tg:"Tajik",th:"Thai",ti:"Tigrinya",bo:"Tibetan",tk:"Turkmen",tl:"Tagalog",tn:"Tswana",to:"Tonga",tr:"Turkish",ts:"Tsonga",tt:"Tatar",tw:"Twi",ty:"Tahitian",ug:"Uighur",uk:"Ukrainian",ur:"Urdu",uz:"Uzbek",ve:"Venda",vi:"Vietnamese",vo:"Volapük",wa:"Walloon",cy:"Welsh",wo:"Wolof",fy:"Western Frisian",xh:"Xhosa",yi:"Yiddish",yo:"Yoruba",za:"Zhuang",zu:"Zulu"},LATIN_MAP={A:"Á Ă Ắ Ặ Ằ Ẳ Ẵ Ǎ Â Ấ Ậ Ầ Ẩ Ẫ Ä Ǟ Ȧ Ǡ Ạ Ȁ À Ả Ȃ Ā Ą Å Ǻ Ḁ Ⱥ Ã Ɐ ᴀ",AA:"Ꜳ",AE:"Æ Ǽ Ǣ ᴁ",AO:"Ꜵ",AU:"Ꜷ",AV:"Ꜹ Ꜻ",AY:"Ꜽ",B:"Ḃ Ḅ Ɓ Ḇ Ƀ Ƃ ʙ ᴃ",C:"Ć Č Ç Ḉ Ĉ Ċ Ƈ Ȼ Ꜿ ᴄ",D:"Ď Ḑ Ḓ Ḋ Ḍ Ɗ Ḏ ǲ ǅ Đ Ƌ Ꝺ ᴅ",DZ:"Ǳ Ǆ",E:"É Ĕ Ě Ȩ Ḝ Ê Ế Ệ Ề Ể Ễ Ḙ Ë Ė Ẹ Ȅ È Ẻ Ȇ Ē Ḗ Ḕ Ę Ɇ Ẽ Ḛ Ɛ Ǝ ᴇ ⱻ",ET:"Ꝫ",F:"Ḟ Ƒ Ꝼ ꜰ",G:"Ǵ Ğ Ǧ Ģ Ĝ Ġ Ɠ Ḡ Ǥ Ᵹ ɢ ʛ",H:"Ḫ Ȟ Ḩ Ĥ Ⱨ Ḧ Ḣ Ḥ Ħ ʜ",I:"Í Ĭ Ǐ Î Ï Ḯ İ Ị Ȉ Ì Ỉ Ȋ Ī Į Ɨ Ĩ Ḭ ɪ",R:"Ꞃ Ŕ Ř Ŗ Ṙ Ṛ Ṝ Ȑ Ȓ Ṟ Ɍ Ɽ ʁ ʀ ᴙ ᴚ",S:"Ꞅ Ś Ṥ Š Ṧ Ş Ŝ Ș Ṡ Ṣ Ṩ ꜱ",T:"Ꞇ Ť Ţ Ṱ Ț Ⱦ Ṫ Ṭ Ƭ Ṯ Ʈ Ŧ ᴛ",IS:"Ꝭ",J:"Ĵ Ɉ ᴊ",K:"Ḱ Ǩ Ķ Ⱪ Ꝃ Ḳ Ƙ Ḵ Ꝁ Ꝅ ᴋ",L:"Ĺ Ƚ Ľ Ļ Ḽ Ḷ Ḹ Ⱡ Ꝉ Ḻ Ŀ Ɫ ǈ Ł Ꞁ ʟ ᴌ",LJ:"Ǉ",M:"Ḿ Ṁ Ṃ Ɱ Ɯ ᴍ",N:"Ń Ň Ņ Ṋ Ṅ Ṇ Ǹ Ɲ Ṉ Ƞ ǋ Ñ ɴ ᴎ",NJ:"Ǌ",O:"Ó Ŏ Ǒ Ô Ố Ộ Ồ Ổ Ỗ Ö Ȫ Ȯ Ȱ Ọ Ő Ȍ Ò Ỏ Ơ Ớ Ợ Ờ Ở Ỡ Ȏ Ꝋ Ꝍ Ō Ṓ Ṑ Ɵ Ǫ Ǭ Ø Ǿ Õ Ṍ Ṏ Ȭ Ɔ ᴏ ᴐ",OI:"Ƣ",OO:"Ꝏ",OU:"Ȣ ᴕ",P:"Ṕ Ṗ Ꝓ Ƥ Ꝕ Ᵽ Ꝑ ᴘ",Q:"Ꝙ Ꝗ",V:"Ʌ Ꝟ Ṿ Ʋ Ṽ ᴠ",TZ:"Ꜩ",U:"Ú Ŭ Ǔ Û Ṷ Ü Ǘ Ǚ Ǜ Ǖ Ṳ Ụ Ű Ȕ Ù Ủ Ư Ứ Ự Ừ Ử Ữ Ȗ Ū Ṻ Ų Ů Ũ Ṹ Ṵ ᴜ",VY:"Ꝡ",W:"Ẃ Ŵ Ẅ Ẇ Ẉ Ẁ Ⱳ ᴡ",X:"Ẍ Ẋ",Y:"Ý Ŷ Ÿ Ẏ Ỵ Ỳ Ƴ Ỷ Ỿ Ȳ Ɏ Ỹ ʏ",Z:"Ź Ž Ẑ Ⱬ Ż Ẓ Ȥ Ẕ Ƶ ᴢ",IJ:"Ĳ",OE:"Œ ɶ",a:"á ă ắ ặ ằ ẳ ẵ ǎ â ấ ậ ầ ẩ ẫ ä ǟ ȧ ǡ ạ ȁ à ả ȃ ā ą ᶏ ẚ å ǻ ḁ ⱥ ã ɐ ₐ",aa:"ꜳ",ae:"æ ǽ ǣ ᴂ",ao:"ꜵ",au:"ꜷ",av:"ꜹ ꜻ",ay:"ꜽ",b:"ḃ ḅ ɓ ḇ ᵬ ᶀ ƀ ƃ",o:"ɵ ó ŏ ǒ ô ố ộ ồ ổ ỗ ö ȫ ȯ ȱ ọ ő ȍ ò ỏ ơ ớ ợ ờ ở ỡ ȏ ꝋ ꝍ ⱺ ō ṓ ṑ ǫ ǭ ø ǿ õ ṍ ṏ ȭ ɔ ᶗ ᴑ ᴓ ₒ",c:"ć č ç ḉ ĉ ɕ ċ ƈ ȼ ↄ ꜿ",d:"ď ḑ ḓ ȡ ḋ ḍ ɗ ᶑ ḏ ᵭ ᶁ đ ɖ ƌ ꝺ",i:"ı í ĭ ǐ î ï ḯ ị ȉ ì ỉ ȋ ī į ᶖ ɨ ĩ ḭ ᴉ ᵢ",j:"ȷ ɟ ʄ ǰ ĵ ʝ ɉ ⱼ",dz:"ǳ ǆ",e:"é ĕ ě ȩ ḝ ê ế ệ ề ể ễ ḙ ë ė ẹ ȅ è ẻ ȇ ē ḗ ḕ ⱸ ę ᶒ ɇ ẽ ḛ ɛ ᶓ ɘ ǝ ₑ",et:"ꝫ",f:"ḟ ƒ ᵮ ᶂ ꝼ",g:"ǵ ğ ǧ ģ ĝ ġ ɠ ḡ ᶃ ǥ ᵹ ɡ ᵷ",h:"ḫ ȟ ḩ ĥ ⱨ ḧ ḣ ḥ ɦ ẖ ħ ɥ ʮ ʯ",hv:"ƕ",r:"ꞃ ŕ ř ŗ ṙ ṛ ṝ ȑ ɾ ᵳ ȓ ṟ ɼ ᵲ ᶉ ɍ ɽ ɿ ɹ ɻ ɺ ⱹ ᵣ",s:"ꞅ ſ ẜ ẛ ẝ ś ṥ š ṧ ş ŝ ș ṡ ṣ ṩ ʂ ᵴ ᶊ ȿ",t:"ꞇ ť ţ ṱ ț ȶ ẗ ⱦ ṫ ṭ ƭ ṯ ᵵ ƫ ʈ ŧ ʇ",is:"ꝭ",k:"ḱ ǩ ķ ⱪ ꝃ ḳ ƙ ḵ ᶄ ꝁ ꝅ ʞ",l:"ĺ ƚ ɬ ľ ļ ḽ ȴ ḷ ḹ ⱡ ꝉ ḻ ŀ ɫ ᶅ ɭ ł ꞁ",lj:"ǉ",m:"ḿ ṁ ṃ ɱ ᵯ ᶆ ɯ ɰ",n:"ń ň ņ ṋ ȵ ṅ ṇ ǹ ɲ ṉ ƞ ᵰ ᶇ ɳ ñ",nj:"ǌ",oi:"ƣ",oo:"ꝏ",ou:"ȣ",p:"ṕ ṗ ꝓ ƥ ᵱ ᶈ ꝕ ᵽ ꝑ",q:"ꝙ ʠ ɋ ꝗ",u:"ᴝ ú ŭ ǔ û ṷ ü ǘ ǚ ǜ ǖ ṳ ụ ű ȕ ù ủ ư ứ ự ừ ử ữ ȗ ū ṻ ų ᶙ ů ũ ṹ ṵ ᵤ",th:"ᵺ",oe:"ᴔ œ",v:"ʌ ⱴ ꝟ ṿ ʋ ᶌ ⱱ ṽ ᵥ",w:"ʍ ẃ ŵ ẅ ẇ ẉ ẁ ⱳ ẘ",y:"ʎ ý ŷ ÿ ẏ ỵ ỳ ƴ ỷ ỿ ȳ ẙ ɏ ỹ",tz:"ꜩ",ue:"ᵫ",um:"ꝸ",vy:"ꝡ",x:"ẍ ẋ ᶍ ₓ",z:"ź ž ẑ ʑ ⱬ ż ẓ ȥ ẕ ᵶ ᶎ ʐ ƶ ɀ",ff:"ﬀ",ffi:"ﬃ",ffl:"ﬄ",fi:"ﬁ",fl:"ﬂ",ij:"ĳ",st:"ﬆ"};return LATIN_MAP=_.chain(LATIN_MAP).map(function(value,key){return _.map(value.split(" "),function(v){return[v,key]})}).flatten(!0).reduce(function(memo,pair){return memo[pair[0]]=pair[1],memo},{}).value(),{shortenLanguageCode:shortenLanguageCode,languageCodeCSVtoLanguages:languageCodeCSVtoLanguages,languageCodeToName:languageCodeToName,latinizeText:latinizeText,isRightToLeft:isRightToLeft,normalizeLanguageCode:normalizeLanguageCode,getLanguageCode:getLanguageCode,languages:languageCodeToNameObj,capitalizeRegionalCode:capitalizeRegionalCode}}),function(undefined){function padToken(func,count){return function(a){return leftZeroFill(func.call(this,a),count)}}function ordinalizeToken(func,period){return function(a){return this.lang().ordinal(func.call(this,a),period)}}function Language(){}function Moment(config){checkOverflow(config),extend(this,config)}function Duration(duration){var normalizedInput=normalizeObjectUnits(duration),years=normalizedInput.year||0,months=normalizedInput.month||0,weeks=normalizedInput.week||0,days=normalizedInput.day||0,hours=normalizedInput.hour||0,minutes=normalizedInput.minute||0,seconds=normalizedInput.second||0,milliseconds=normalizedInput.millisecond||0;this._input=duration,this._milliseconds=+milliseconds+1e3*seconds+6e4*minutes+36e5*hours,this._days=+days+7*weeks,this._months=+months+12*years,this._data={},this._bubble()}function extend(a,b){for(var i in b)if(b.hasOwnProperty(i))a[i]=b[i];if(b.hasOwnProperty("toString"))a.toString=b.toString;if(b.hasOwnProperty("valueOf"))a.valueOf=b.valueOf;return a}function absRound(number){if(0>number)return Math.ceil(number);else return Math.floor(number)}function leftZeroFill(number,targetLength){for(var output=number+"";output.length<targetLength;)output="0"+output;return output}function addOrSubtractDurationFromMoment(mom,duration,isAdding,ignoreUpdateOffset){var milliseconds=duration._milliseconds,days=duration._days,months=duration._months,minutes,hours;if(milliseconds)mom._d.setTime(+mom._d+milliseconds*isAdding);if(days||months)minutes=mom.minute(),hours=mom.hour();if(days)mom.date(mom.date()+days*isAdding);if(months)mom.month(mom.month()+months*isAdding);if(milliseconds&&!ignoreUpdateOffset)moment.updateOffset(mom);if(days||months)mom.minute(minutes),mom.hour(hours)}function isArray(input){return"[object Array]"===Object.prototype.toString.call(input)}function isDate(input){return"[object Date]"===Object.prototype.toString.call(input)}function compareArrays(array1,array2,dontConvert){var len=Math.min(array1.length,array2.length),lengthDiff=Math.abs(array1.length-array2.length),diffs=0,i;for(i=0;len>i;i++)if(dontConvert&&array1[i]!==array2[i]||!dontConvert&&toInt(array1[i])!==toInt(array2[i]))diffs++;return diffs+lengthDiff}function normalizeUnits(units){return units?unitAliases[units]||units.toLowerCase().replace(/(.)s$/,"$1"):units}function normalizeObjectUnits(inputObject){var normalizedInput={},normalizedProp,prop,index;for(prop in inputObject)if(inputObject.hasOwnProperty(prop))if(normalizedProp=normalizeUnits(prop))normalizedInput[normalizedProp]=inputObject[prop];return normalizedInput}function makeList(field){var count,setter;if(0===field.indexOf("week"))count=7,setter="day";else if(0===field.indexOf("month"))count=12,setter="month";else return;moment[field]=function(format,index){var i,getter,method=moment.fn._lang[field],results=[];if("number"==typeof format)index=format,format=undefined;if(getter=function(i){var m=moment().utc().set(setter,i);return method.call(moment.fn._lang,m,format||"")},index)return getter(index);else{for(i=0;count>i;i++)results.push(getter(i));return results}}}function toInt(argumentForCoercion){var coercedNumber=+argumentForCoercion,value=0;if(0!==coercedNumber&&isFinite(coercedNumber))if(coercedNumber>=0)value=Math.floor(coercedNumber);else value=Math.ceil(coercedNumber);return value}function daysInMonth(year,month){return moment.utc([year,month+1,0]).date()}function isLeapYear(year){return year%4===0&&year%100!==0||year%400===0}function checkOverflow(m){var overflow;if(m._a&&-2===m._pf.overflow){if(overflow=m._a[MONTH]<0||m._a[MONTH]>11?MONTH:m._a[DATE]<1||m._a[DATE]>daysInMonth(m._a[YEAR],m._a[MONTH])?DATE:m._a[HOUR]<0||m._a[HOUR]>23?HOUR:m._a[MINUTE]<0||m._a[MINUTE]>59?MINUTE:m._a[SECOND]<0||m._a[SECOND]>59?SECOND:m._a[MILLISECOND]<0||m._a[MILLISECOND]>999?MILLISECOND:-1,m._pf._overflowDayOfYear&&(YEAR>overflow||overflow>DATE))overflow=DATE;m._pf.overflow=overflow}}function initializeParsingFlags(config){config._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,userInvalidated:!1}}function isValid(m){if(null==m._isValid)if(m._isValid=!isNaN(m._d.getTime())&&m._pf.overflow<0&&!m._pf.empty&&!m._pf.invalidMonth&&!m._pf.nullInput&&!m._pf.userInvalidated,m._strict)m._isValid=m._isValid&&0===m._pf.charsLeftOver&&0===m._pf.unusedTokens.length;return m._isValid}function normalizeLanguage(key){return key?key.toLowerCase().replace("_","-"):key}function loadLang(key,values){if(values.abbr=key,!languages[key])languages[key]=new Language;return languages[key].set(values),languages[key]}function unloadLang(key){delete languages[key]}function getLangDefinition(key){var i=0,j,lang,next,split,get=function(k){if(!languages[k]&&hasModule)try{require("./lang/"+k)}catch(e){}return languages[k]};if(!key)return moment.fn._lang;if(!isArray(key)){if(lang=get(key))return lang;key=[key]}for(;i<key.length;){for(split=normalizeLanguage(key[i]).split("-"),j=split.length,next=normalizeLanguage(key[i+1]),next=next?next.split("-"):null;j>0;){if(lang=get(split.slice(0,j).join("-")))return lang;if(next&&next.length>=j&&compareArrays(split,next,!0)>=j-1)break;j--}i++}return moment.fn._lang}function removeFormattingTokens(input){if(input.match(/\[[\s\S]/))return input.replace(/^\[|\]$/g,"");return input.replace(/\\/g,"")}function makeFormatFunction(format){var array=format.match(formattingTokens),i,length;for(i=0,length=array.length;length>i;i++)if(formatTokenFunctions[array[i]])array[i]=formatTokenFunctions[array[i]];else array[i]=removeFormattingTokens(array[i]);return function(mom){var output="";for(i=0;length>i;i++)output+=array[i]instanceof Function?array[i].call(mom,format):array[i];return output}}function formatMoment(m,format){if(!m.isValid())return m.lang().invalidDate();if(format=expandFormat(format,m.lang()),!formatFunctions[format])formatFunctions[format]=makeFormatFunction(format);return formatFunctions[format](m)}function expandFormat(format,lang){function replaceLongDateFormatTokens(input){return lang.longDateFormat(input)||input}var i=5;for(localFormattingTokens.lastIndex=0;i>=0&&localFormattingTokens.test(format);)format=format.replace(localFormattingTokens,replaceLongDateFormatTokens),localFormattingTokens.lastIndex=0,i-=1;return format}function getParseRegexForToken(token,config){var a;switch(token){case"DDDD":return parseTokenThreeDigits;case"YYYY":return parseTokenFourDigits;case"YYYYY":return parseTokenSixDigits;
case"S":case"SS":case"SSS":case"DDD":return parseTokenOneToThreeDigits;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return parseTokenWord;case"a":case"A":return getLangDefinition(config._l)._meridiemParse;case"X":return parseTokenTimestampMs;case"Z":case"ZZ":return parseTokenTimezone;case"T":return parseTokenT;case"MM":case"DD":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return parseTokenOneOrTwoDigits;default:return a=new RegExp(regexpEscape(unescapeFormat(token.replace("\\","")),"i"))}}function timezoneMinutesFromString(string){var tzchunk=(parseTokenTimezone.exec(string)||[])[0],parts=(tzchunk+"").match(parseTimezoneChunker)||["-",0,0],minutes=+(60*parts[1])+toInt(parts[2]);return"+"===parts[0]?-minutes:minutes}function addTimeToArrayFromToken(token,input,config){var a,datePartArray=config._a;switch(token){case"M":case"MM":if(null!=input)datePartArray[MONTH]=toInt(input)-1;break;case"MMM":case"MMMM":if(a=getLangDefinition(config._l).monthsParse(input),null!=a)datePartArray[MONTH]=a;else config._pf.invalidMonth=input;break;case"D":case"DD":if(null!=input)datePartArray[DATE]=toInt(input);break;case"DDD":case"DDDD":if(null!=input)config._dayOfYear=toInt(input);break;case"YY":datePartArray[YEAR]=toInt(input)+(toInt(input)>68?1900:2e3);break;case"YYYY":case"YYYYY":datePartArray[YEAR]=toInt(input);break;case"a":case"A":config._isPm=getLangDefinition(config._l).isPM(input);break;case"H":case"HH":case"h":case"hh":datePartArray[HOUR]=toInt(input);break;case"m":case"mm":datePartArray[MINUTE]=toInt(input);break;case"s":case"ss":datePartArray[SECOND]=toInt(input);break;case"S":case"SS":case"SSS":datePartArray[MILLISECOND]=toInt(1e3*("0."+input));break;case"X":config._d=new Date(1e3*parseFloat(input));break;case"Z":case"ZZ":config._useUTC=!0,config._tzm=timezoneMinutesFromString(input)}}function dateFromConfig(config){var i,date,input=[],currentDate,yearToUse;if(config._d)return;if(currentDate=currentDateArray(config),config._dayOfYear){if(yearToUse=null==config._a[YEAR]?currentDate[YEAR]:config._a[YEAR],config._dayOfYear>(isLeapYear(yearToUse)?364:365))config._pf._overflowDayOfYear=!0;date=makeUTCDate(yearToUse,0,config._dayOfYear),config._a[MONTH]=date.getUTCMonth(),config._a[DATE]=date.getUTCDate()}for(i=0;3>i&&null==config._a[i];++i)config._a[i]=input[i]=currentDate[i];for(;7>i;i++)config._a[i]=input[i]=null==config._a[i]?2===i?1:0:config._a[i];input[HOUR]+=toInt((config._tzm||0)/60),input[MINUTE]+=toInt((config._tzm||0)%60),config._d=(config._useUTC?makeUTCDate:makeDate).apply(null,input)}function dateFromObject(config){var normalizedInput;if(config._d)return;normalizedInput=normalizeObjectUnits(config._i),config._a=[normalizedInput.year,normalizedInput.month,normalizedInput.day,normalizedInput.hour,normalizedInput.minute,normalizedInput.second,normalizedInput.millisecond],dateFromConfig(config)}function currentDateArray(config){var now=new Date;if(config._useUTC)return[now.getUTCFullYear(),now.getUTCMonth(),now.getUTCDate()];else return[now.getFullYear(),now.getMonth(),now.getDate()]}function makeDateFromStringAndFormat(config){config._a=[],config._pf.empty=!0;var lang=getLangDefinition(config._l),string=""+config._i,i,parsedInput,tokens,token,skipped,stringLength=string.length,totalParsedInputLength=0;for(tokens=expandFormat(config._f,lang).match(formattingTokens)||[],i=0;i<tokens.length;i++){if(token=tokens[i],parsedInput=(getParseRegexForToken(token,config).exec(string)||[])[0]){if(skipped=string.substr(0,string.indexOf(parsedInput)),skipped.length>0)config._pf.unusedInput.push(skipped);string=string.slice(string.indexOf(parsedInput)+parsedInput.length),totalParsedInputLength+=parsedInput.length}if(formatTokenFunctions[token]){if(parsedInput)config._pf.empty=!1;else config._pf.unusedTokens.push(token);addTimeToArrayFromToken(token,parsedInput,config)}else if(config._strict&&!parsedInput)config._pf.unusedTokens.push(token)}if(config._pf.charsLeftOver=stringLength-totalParsedInputLength,string.length>0)config._pf.unusedInput.push(string);if(config._isPm&&config._a[HOUR]<12)config._a[HOUR]+=12;if(config._isPm===!1&&12===config._a[HOUR])config._a[HOUR]=0;dateFromConfig(config),checkOverflow(config)}function unescapeFormat(s){return s.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(matched,p1,p2,p3,p4){return p1||p2||p3||p4})}function regexpEscape(s){return s.replace(/[\-\/\\\^$*+?.()|\[\]{}]/g,"\\$&")}function makeDateFromStringAndArray(config){var tempConfig,bestMoment,scoreToBeat=1e3,i,currentScore;for(i=0;i<config._f.length;i++){if(currentScore=0,tempConfig=extend({},config),initializeParsingFlags(tempConfig),tempConfig._f=config._f[i],makeDateFromStringAndFormat(tempConfig),!isValid(tempConfig))continue;if(currentScore+=tempConfig._pf.charsLeftOver,currentScore+=10*tempConfig._pf.unusedTokens.length,tempConfig._pf.score=currentScore,scoreToBeat>currentScore)scoreToBeat=currentScore,bestMoment=tempConfig}extend(config,bestMoment||tempConfig)}function makeDateFromString(config){var i,string=config._i,match=isoRegex.exec(string);if(match){for(config._f="YYYY-MM-DD"+(match[2]||" "),i=0;4>i;i++)if(isoTimes[i][1].exec(string)){config._f+=isoTimes[i][0];break}if(parseTokenTimezone.exec(string))config._f+=" Z";makeDateFromStringAndFormat(config)}else config._d=new Date(string)}function makeDateFromInput(config){var input=config._i,matched=aspNetJsonRegex.exec(input);if(input===undefined)config._d=new Date;else if(matched)config._d=new Date(+matched[1]);else if("string"==typeof input)makeDateFromString(config);else if(isArray(input))config._a=input.slice(0),dateFromConfig(config);else if(isDate(input))config._d=new Date(+input);else if("object"==typeof input)dateFromObject(config);else config._d=new Date(input)}function makeDate(y,m,d,h,M,s,ms){var date=new Date(y,m,d,h,M,s,ms);if(1970>y)date.setFullYear(y);return date}function makeUTCDate(y){var date=new Date(Date.UTC.apply(null,arguments));if(1970>y)date.setUTCFullYear(y);return date}function substituteTimeAgo(string,number,withoutSuffix,isFuture,lang){return lang.relativeTime(number||1,!!withoutSuffix,string,isFuture)}function relativeTime(milliseconds,withoutSuffix,lang){var seconds=round(Math.abs(milliseconds)/1e3),minutes=round(seconds/60),hours=round(minutes/60),days=round(hours/24),years=round(days/365),args=45>seconds&&["s",seconds]||1===minutes&&["m"]||45>minutes&&["mm",minutes]||1===hours&&["h"]||22>hours&&["hh",hours]||1===days&&["d"]||25>=days&&["dd",days]||45>=days&&["M"]||345>days&&["MM",round(days/30)]||1===years&&["y"]||["yy",years];return args[2]=withoutSuffix,args[3]=milliseconds>0,args[4]=lang,substituteTimeAgo.apply({},args)}function weekOfYear(mom,firstDayOfWeek,firstDayOfWeekOfYear){var end=firstDayOfWeekOfYear-firstDayOfWeek,daysToDayOfWeek=firstDayOfWeekOfYear-mom.day(),adjustedMoment;if(daysToDayOfWeek>end)daysToDayOfWeek-=7;if(end-7>daysToDayOfWeek)daysToDayOfWeek+=7;return adjustedMoment=moment(mom).add("d",daysToDayOfWeek),{week:Math.ceil(adjustedMoment.dayOfYear()/7),year:adjustedMoment.year()}}function makeMoment(config){var input=config._i,format=config._f;if("undefined"==typeof config._pf)initializeParsingFlags(config);if(null===input)return moment.invalid({nullInput:!0});if("string"==typeof input)config._i=input=getLangDefinition().preparse(input);if(moment.isMoment(input))config=extend({},input),config._d=new Date(+input._d);else if(format)if(isArray(format))makeDateFromStringAndArray(config);else makeDateFromStringAndFormat(config);else makeDateFromInput(config);return new Moment(config)}function makeGetterAndSetter(name,key){moment.fn[name]=moment.fn[name+"s"]=function(input){var utc=this._isUTC?"UTC":"";if(null!=input)return this._d["set"+utc+key](input),moment.updateOffset(this),this;else return this._d["get"+utc+key]()}}function makeDurationGetter(name){moment.duration.fn[name]=function(){return this._data[name]}}function makeDurationAsGetter(name,factor){moment.duration.fn["as"+name]=function(){return+this/factor}}function makeGlobal(){if("undefined"==typeof ender)this.moment=moment}for(var moment,VERSION="2.2.1",round=Math.round,i,YEAR=0,MONTH=1,DATE=2,HOUR=3,MINUTE=4,SECOND=5,MILLISECOND=6,languages={},hasModule="undefined"!=typeof module&&module.exports,aspNetJsonRegex=/^\/?Date\((\-?\d+)/i,aspNetTimeSpanJsonRegex=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,isoDurationRegex=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,formattingTokens=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,localFormattingTokens=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,parseTokenOneOrTwoDigits=/\d\d?/,parseTokenOneToThreeDigits=/\d{1,3}/,parseTokenThreeDigits=/\d{3}/,parseTokenFourDigits=/\d{1,4}/,parseTokenSixDigits=/[+\-]?\d{1,6}/,parseTokenWord=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,parseTokenTimezone=/Z|[\+\-]\d\d:?\d\d/i,parseTokenT=/T/i,parseTokenTimestampMs=/[\+\-]?\d+(\.\d{1,3})?/,isoRegex=/^\s*\d{4}-\d\d-\d\d((T| )(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?$/,isoFormat="YYYY-MM-DDTHH:mm:ssZ",isoTimes=[["HH:mm:ss.S",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],parseTimezoneChunker=/([\+\-]|\d\d)/gi,proxyGettersAndSetters="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),unitMillisecondFactors={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},unitAliases={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",w:"week",W:"isoweek",M:"month",y:"year"},formatFunctions={},ordinalizeTokens="DDD w W M D d".split(" "),paddedTokens="M D H h m s w W".split(" "),formatTokenFunctions={M:function(){return this.month()+1},MMM:function(format){return this.lang().monthsShort(this,format)},MMMM:function(format){return this.lang().months(this,format)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(format){return this.lang().weekdaysMin(this,format)},ddd:function(format){return this.lang().weekdaysShort(this,format)},dddd:function(format){return this.lang().weekdays(this,format)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return leftZeroFill(this.year()%100,2)},YYYY:function(){return leftZeroFill(this.year(),4)},YYYYY:function(){return leftZeroFill(this.year(),5)},gg:function(){return leftZeroFill(this.weekYear()%100,2)},gggg:function(){return this.weekYear()},ggggg:function(){return leftZeroFill(this.weekYear(),5)},GG:function(){return leftZeroFill(this.isoWeekYear()%100,2)},GGGG:function(){return this.isoWeekYear()},GGGGG:function(){return leftZeroFill(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return toInt(this.milliseconds()/100)},SS:function(){return leftZeroFill(toInt(this.milliseconds()/10),2)},SSS:function(){return leftZeroFill(this.milliseconds(),3)},Z:function(){var a=-this.zone(),b="+";if(0>a)a=-a,b="-";return b+leftZeroFill(toInt(a/60),2)+":"+leftZeroFill(toInt(a)%60,2)},ZZ:function(){var a=-this.zone(),b="+";if(0>a)a=-a,b="-";return b+leftZeroFill(toInt(10*a/6),4)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()}},lists=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];ordinalizeTokens.length;)i=ordinalizeTokens.pop(),formatTokenFunctions[i+"o"]=ordinalizeToken(formatTokenFunctions[i],i);for(;paddedTokens.length;)i=paddedTokens.pop(),formatTokenFunctions[i+i]=padToken(formatTokenFunctions[i],2);for(formatTokenFunctions.DDDD=padToken(formatTokenFunctions.DDD,3),extend(Language.prototype,{set:function(config){var prop,i;for(i in config)if(prop=config[i],"function"==typeof prop)this[i]=prop;else this["_"+i]=prop},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(m){return this._months[m.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(m){return this._monthsShort[m.month()]},monthsParse:function(monthName){var i,mom,regex;if(!this._monthsParse)this._monthsParse=[];for(i=0;12>i;i++){if(!this._monthsParse[i])mom=moment.utc([2e3,i]),regex="^"+this.months(mom,"")+"|^"+this.monthsShort(mom,""),this._monthsParse[i]=new RegExp(regex.replace(".",""),"i");if(this._monthsParse[i].test(monthName))return i}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(m){return this._weekdays[m.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(m){return this._weekdaysShort[m.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(m){return this._weekdaysMin[m.day()]},weekdaysParse:function(weekdayName){var i,mom,regex;if(!this._weekdaysParse)this._weekdaysParse=[];for(i=0;7>i;i++){if(!this._weekdaysParse[i])mom=moment([2e3,1]).day(i),regex="^"+this.weekdays(mom,"")+"|^"+this.weekdaysShort(mom,"")+"|^"+this.weekdaysMin(mom,""),this._weekdaysParse[i]=new RegExp(regex.replace(".",""),"i");if(this._weekdaysParse[i].test(weekdayName))return i}},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(key){var output=this._longDateFormat[key];if(!output&&this._longDateFormat[key.toUpperCase()])output=this._longDateFormat[key.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(val){return val.slice(1)}),this._longDateFormat[key]=output;return output},isPM:function(input){return"p"===(input+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(hours,minutes,isLower){if(hours>11)return isLower?"pm":"PM";else return isLower?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(key,mom){var output=this._calendar[key];return"function"==typeof output?output.apply(mom):output},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(number,withoutSuffix,string,isFuture){var output=this._relativeTime[string];return"function"==typeof output?output(number,withoutSuffix,string,isFuture):output.replace(/%d/i,number)},pastFuture:function(diff,output){var format=this._relativeTime[diff>0?"future":"past"];return"function"==typeof format?format(output):format.replace(/%s/i,output)},ordinal:function(number){return this._ordinal.replace("%d",number)},_ordinal:"%d",preparse:function(string){return string},postformat:function(string){return string},week:function(mom){return weekOfYear(mom,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),moment=function(input,format,lang,strict){if("boolean"==typeof lang)strict=lang,lang=undefined;return makeMoment({_i:input,_f:format,_l:lang,_strict:strict,_isUTC:!1})},moment.utc=function(input,format,lang,strict){var m;if("boolean"==typeof lang)strict=lang,lang=undefined;return m=makeMoment({_useUTC:!0,_isUTC:!0,_l:lang,_i:input,_f:format,_strict:strict}).utc()},moment.unix=function(input){return moment(1e3*input)},moment.duration=function(input,key){var isDuration=moment.isDuration(input),isNumber="number"==typeof input,duration=isDuration?input._input:isNumber?{}:input,match=null,sign,ret,parseIso,timeEmpty,dateTimeEmpty;if(isNumber)if(key)duration[key]=input;else duration.milliseconds=input;else if(match=aspNetTimeSpanJsonRegex.exec(input))sign="-"===match[1]?-1:1,duration={y:0,d:toInt(match[DATE])*sign,h:toInt(match[HOUR])*sign,m:toInt(match[MINUTE])*sign,s:toInt(match[SECOND])*sign,ms:toInt(match[MILLISECOND])*sign};else if(match=isoDurationRegex.exec(input))sign="-"===match[1]?-1:1,parseIso=function(inp){var res=inp&&parseFloat(inp.replace(",","."));return(isNaN(res)?0:res)*sign},duration={y:parseIso(match[2]),M:parseIso(match[3]),d:parseIso(match[4]),h:parseIso(match[5]),m:parseIso(match[6]),s:parseIso(match[7]),w:parseIso(match[8])};if(ret=new Duration(duration),isDuration&&input.hasOwnProperty("_lang"))ret._lang=input._lang;return ret},moment.version=VERSION,moment.defaultFormat=isoFormat,moment.updateOffset=function(){},moment.lang=function(key,values){var r;if(!key)return moment.fn._lang._abbr;if(values)loadLang(normalizeLanguage(key),values);else if(null===values)unloadLang(key),key="en";else if(!languages[key])getLangDefinition(key);return r=moment.duration.fn._lang=moment.fn._lang=getLangDefinition(key),r._abbr},moment.langData=function(key){if(key&&key._lang&&key._lang._abbr)key=key._lang._abbr;return getLangDefinition(key)},moment.isMoment=function(obj){return obj instanceof Moment},moment.isDuration=function(obj){return obj instanceof Duration},i=lists.length-1;i>=0;--i)makeList(lists[i]);for(moment.normalizeUnits=function(units){return normalizeUnits(units)},moment.invalid=function(flags){var m=moment.utc(0/0);if(null!=flags)extend(m._pf,flags);else m._pf.userInvalidated=!0;return m},moment.parseZone=function(input){return moment(input).parseZone()},extend(moment.fn=Moment.prototype,{clone:function(){return moment(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){return formatMoment(moment(this).utc(),"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var m=this;return[m.year(),m.month(),m.date(),m.hours(),m.minutes(),m.seconds(),m.milliseconds()]},isValid:function(){return isValid(this)},isDSTShifted:function(){if(this._a)return this.isValid()&&compareArrays(this._a,(this._isUTC?moment.utc(this._a):moment(this._a)).toArray())>0;return!1},parsingFlags:function(){return extend({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(inputString){var output=formatMoment(this,inputString||moment.defaultFormat);return this.lang().postformat(output)},add:function(input,val){var dur;if("string"==typeof input)dur=moment.duration(+val,input);else dur=moment.duration(input,val);return addOrSubtractDurationFromMoment(this,dur,1),this},subtract:function(input,val){var dur;if("string"==typeof input)dur=moment.duration(+val,input);else dur=moment.duration(input,val);return addOrSubtractDurationFromMoment(this,dur,-1),this},diff:function(input,units,asFloat){var that=this._isUTC?moment(input).zone(this._offset||0):moment(input).local(),zoneDiff=6e4*(this.zone()-that.zone()),diff,output;if(units=normalizeUnits(units),"year"===units||"month"===units){if(diff=432e5*(this.daysInMonth()+that.daysInMonth()),output=12*(this.year()-that.year())+(this.month()-that.month()),output+=(this-moment(this).startOf("month")-(that-moment(that).startOf("month")))/diff,output-=6e4*(this.zone()-moment(this).startOf("month").zone()-(that.zone()-moment(that).startOf("month").zone()))/diff,"year"===units)output/=12}else diff=this-that,output="second"===units?diff/1e3:"minute"===units?diff/6e4:"hour"===units?diff/36e5:"day"===units?(diff-zoneDiff)/864e5:"week"===units?(diff-zoneDiff)/6048e5:diff;return asFloat?output:absRound(output)},from:function(time,withoutSuffix){return moment.duration(this.diff(time)).lang(this.lang()._abbr).humanize(!withoutSuffix)},fromNow:function(withoutSuffix){return this.from(moment(),withoutSuffix)},calendar:function(){var diff=this.diff(moment().zone(this.zone()).startOf("day"),"days",!0),format=-6>diff?"sameElse":-1>diff?"lastWeek":0>diff?"lastDay":1>diff?"sameDay":2>diff?"nextDay":7>diff?"nextWeek":"sameElse";return this.format(this.lang().calendar(format,this))},isLeapYear:function(){return isLeapYear(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(input){var day=this._isUTC?this._d.getUTCDay():this._d.getDay();if(null!=input){if("string"==typeof input)if(input=this.lang().weekdaysParse(input),"number"!=typeof input)return this;return this.add({d:input-day})}else return day},month:function(input){var utc=this._isUTC?"UTC":"",dayOfMonth;if(null!=input){if("string"==typeof input)if(input=this.lang().monthsParse(input),"number"!=typeof input)return this;return dayOfMonth=this.date(),this.date(1),this._d["set"+utc+"Month"](input),this.date(Math.min(dayOfMonth,this.daysInMonth())),moment.updateOffset(this),this}else return this._d["get"+utc+"Month"]()},startOf:function(units){switch(units=normalizeUnits(units)){case"year":this.month(0);case"month":this.date(1);case"week":case"isoweek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}if("week"===units)this.weekday(0);else if("isoweek"===units)this.isoWeekday(1);return this},endOf:function(units){return units=normalizeUnits(units),this.startOf(units).add("isoweek"===units?"week":units,1).subtract("ms",1)},isAfter:function(input,units){return units="undefined"!=typeof units?units:"millisecond",+this.clone().startOf(units)>+moment(input).startOf(units)},isBefore:function(input,units){return units="undefined"!=typeof units?units:"millisecond",+this.clone().startOf(units)<+moment(input).startOf(units)},isSame:function(input,units){return units="undefined"!=typeof units?units:"millisecond",+this.clone().startOf(units)===+moment(input).startOf(units)},min:function(other){return other=moment.apply(null,arguments),this>other?this:other},max:function(other){return other=moment.apply(null,arguments),other>this?this:other},zone:function(input){var offset=this._offset||0;if(null!=input){if("string"==typeof input)input=timezoneMinutesFromString(input);if(Math.abs(input)<16)input=60*input;if(this._offset=input,this._isUTC=!0,offset!==input)addOrSubtractDurationFromMoment(this,moment.duration(offset-input,"m"),1,!0)}else return this._isUTC?offset:this._d.getTimezoneOffset();return this},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){if("string"==typeof this._i)this.zone(this._i);return this},hasAlignedHourOffset:function(input){if(!input)input=0;else input=moment(input).zone();return(this.zone()-input)%60===0},daysInMonth:function(){return daysInMonth(this.year(),this.month())},dayOfYear:function(input){var dayOfYear=round((moment(this).startOf("day")-moment(this).startOf("year"))/864e5)+1;return null==input?dayOfYear:this.add("d",input-dayOfYear)},weekYear:function(input){var year=weekOfYear(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==input?year:this.add("y",input-year)},isoWeekYear:function(input){var year=weekOfYear(this,1,4).year;return null==input?year:this.add("y",input-year)},week:function(input){var week=this.lang().week(this);return null==input?week:this.add("d",7*(input-week))},isoWeek:function(input){var week=weekOfYear(this,1,4).week;return null==input?week:this.add("d",7*(input-week))},weekday:function(input){var weekday=(this.day()+7-this.lang()._week.dow)%7;return null==input?weekday:this.add("d",input-weekday)},isoWeekday:function(input){return null==input?this.day()||7:this.day(this.day()%7?input:input-7)},get:function(units){return units=normalizeUnits(units),this[units.toLowerCase()]()},set:function(units,value){return units=normalizeUnits(units),this[units.toLowerCase()](value),this},lang:function(key){if(key===undefined)return this._lang;else return this._lang=getLangDefinition(key),this}}),i=0;i<proxyGettersAndSetters.length;i++)makeGetterAndSetter(proxyGettersAndSetters[i].toLowerCase().replace(/s$/,""),proxyGettersAndSetters[i]);makeGetterAndSetter("year","FullYear"),moment.fn.days=moment.fn.day,moment.fn.months=moment.fn.month,moment.fn.weeks=moment.fn.week,moment.fn.isoWeeks=moment.fn.isoWeek,moment.fn.toJSON=moment.fn.toISOString,extend(moment.duration.fn=Duration.prototype,{_bubble:function(){var milliseconds=this._milliseconds,days=this._days,months=this._months,data=this._data,seconds,minutes,hours,years;data.milliseconds=milliseconds%1e3,seconds=absRound(milliseconds/1e3),data.seconds=seconds%60,minutes=absRound(seconds/60),data.minutes=minutes%60,hours=absRound(minutes/60),data.hours=hours%24,days+=absRound(hours/24),data.days=days%30,months+=absRound(days/30),data.months=months%12,years=absRound(months/12),data.years=years},weeks:function(){return absRound(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*toInt(this._months/12)},humanize:function(withSuffix){var difference=+this,output=relativeTime(difference,!withSuffix,this.lang());if(withSuffix)output=this.lang().pastFuture(difference,output);return this.lang().postformat(output)},add:function(input,val){var dur=moment.duration(input,val);return this._milliseconds+=dur._milliseconds,this._days+=dur._days,this._months+=dur._months,this._bubble(),this},subtract:function(input,val){var dur=moment.duration(input,val);return this._milliseconds-=dur._milliseconds,this._days-=dur._days,this._months-=dur._months,this._bubble(),this},get:function(units){return units=normalizeUnits(units),this[units.toLowerCase()+"s"]()},as:function(units){return units=normalizeUnits(units),this["as"+units.charAt(0).toUpperCase()+units.slice(1)+"s"]()},lang:moment.fn.lang,toIsoString:function(){var years=Math.abs(this.years()),months=Math.abs(this.months()),days=Math.abs(this.days()),hours=Math.abs(this.hours()),minutes=Math.abs(this.minutes()),seconds=Math.abs(this.seconds()+this.milliseconds()/1e3);if(!this.asSeconds())return"P0D";return(this.asSeconds()<0?"-":"")+"P"+(years?years+"Y":"")+(months?months+"M":"")+(days?days+"D":"")+(hours||minutes||seconds?"T":"")+(hours?hours+"H":"")+(minutes?minutes+"M":"")+(seconds?seconds+"S":"")}});for(i in unitMillisecondFactors)if(unitMillisecondFactors.hasOwnProperty(i))makeDurationAsGetter(i,unitMillisecondFactors[i]),makeDurationGetter(i.toLowerCase());if(makeDurationAsGetter("Weeks",6048e5),moment.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},moment.lang("en",{ordinal:function(number){var b=number%10,output=1===toInt(number%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return number+output}}),hasModule)module.exports=moment,makeGlobal();else if("function"==typeof define&&define.amd)define("js/vendor/moment.v2-2",[],function(){return moment});else makeGlobal()}.call(this),define("js/lib/nls/moment.lang",{es:!0,fr:!0,pt:!0,ru:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}),define("js/lib/coursera",["js/lib/origami","js/app/config","jquery","underscore","backbone","js/lib/supports","js/lib/third-parties","js/lib/log","js/lib/multitracker","js/lib/metatags","js/lib/language","js/vendor/moment.v2-2","i18n!js/lib/nls/moment.lang"],function(Origami,config,$,_,Backbone,supports,thirdparty,Logger,MultiTracker,metatags,language,moment){moment.lang(language.getLanguageCode());var Coursera=new Origami("#origami");if(Coursera.config=config,Coursera.supports=supports,Coursera.log=Logger({level:config.log}),"production"==config.environment)requirejs.onError=function(Error){Coursera.multitracker.push(["page.error.requirejs",{url:location.href,message:Error.message,type:Error.requireType,modules:Error.requireModules}]),Coursera.log.error(Error);var match=Error.message.match(/context:\s*(.*)\s*\n/);if(match&&"_"==match[1]){var message='<div>oooops! something unexpected happened, please <a href="'+location.href+'">refresh</a> your browser</div>',$screen=$("<div>").addClass("fullscreen");Coursera.message.add($(message).addClass("message")),$screen.appendTo("body").show()}};return Coursera.multitracker=MultiTracker({logger:Coursera.log}),Coursera.multitracker.register("204",[]),Coursera.multitracker.register("400",[],"custom",function(_){return _}),Coursera.multitracker.register("ga",window._gaq=[],"google"),$(document).ready(function(){if(/staging|production/.test(Coursera.config.environment)){require(["js/lib/204"],function(_204){if(!_204)return;for(var parts=location.host.split(".");parts.length>2;)parts.shift();Coursera.multitracker.get("204").queue.push(["domain","."+parts.join(".")]),Coursera.multitracker.get("204").queue=_204.batch(Coursera.multitracker.get("204").queue)}),Coursera.multitracker.get("ga").queue.push(["_setAccount","UA-28377374-1"],["_setDomainName","coursera.org"],["_setAllowLinker",!0],["_trackPageview"]);var gaUrl=("https:"===document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";thirdparty.loadScript(gaUrl,function(){Coursera.multitracker.get("ga").queue=window._gaq})}var routerEvent="0.9.2"==Backbone.VERSION?"all":"route";Coursera.router.on(routerEvent,function(){var currentURL=Coursera.config.url.base+Backbone.history.getFragment();metatags.share("Coursera","http://s3.amazonaws.com/coursera/media/Coursera_Computer_Narrow.png","Take free online classes from 80+ top universities and organizations. Coursera is a social entrepreneurship company partnering with Stanford University, Yale University, Princeton University and others around the world to offer courses online for anyone to take, for free. We believe in connecting people to a great education so that anyone around the world can learn without limits.",currentURL),Coursera.multitracker.push(["pageview",currentURL])})}),Coursera}),!function(){var experiments={session:{ondemand_display_count:{variants:[{name:"no_count",weight:.2,baseline:!0},{name:"enrolled_pics",weight:.2},{name:"enrolled_no_pics",weight:.2},{name:"active_pics",weight:.2},{name:"active_no_pics",weight:.2}]},homepage_user_count:{variants:[{name:"show",baseline:!0,weight:.5},{name:"hide",weight:.5}]},coursepage_compress_language:{variants:[{name:"10px",weight:.5,baseline:!0},{name:"0px",weight:.5}]},sigtrack_student_stories:{variants:[{name:"disabled",weight:.33,baseline:!0},{name:"enabled",weight:.33},{name:"enabled-nexttocard",weight:.34}]},sigtrack_demonstrated_uses2:{variants:[{name:"base",weight:.071,baseline:!0},{name:"show-qualifications",weight:.071},{name:"further-qualifications",weight:.071},{name:"list-resume",weight:.071},{name:"list-cv",weight:.071},{name:"add-linkedin",weight:.071},{name:"official-rec",weight:.071},{name:"rec-achievement",weight:.071},{name:"link-identity",weight:.072},{name:"commitment-complete",weight:.072},{name:"share-certificate",weight:.072},{name:"share-records",weight:.072},{name:"advance-career",weight:.072},{name:"present-employer",weight:.072}]},specializations_subhead_field:{variants:[{name:"base",weight:.5,baseline:!0},{name:"learn-capstone",weight:.5}]},sigtrack_course_page_button:{variants:[{name:"right-side-col",weight:.5,baseline:!0},{name:"left-main-col",weight:.5}]},payment_value_prop:{variants:[{name:"base",weight:.5,baseline:!0},{name:"value-prop",weight:.5}]},payment_next_steps:{variants:[{name:"base",weight:.5,baseline:!0},{name:"next-steps",weight:.5}]},payment_visual_cues:{variants:[{name:"base",weight:.5,baseline:!0},{name:"visual-cues",weight:.5}]},payment_highlight_voucher:{variants:[{name:"base",weight:.5,baseline:!0},{name:"highlight-voucher",weight:.5}]},no_welcome_page:{variants:[{name:"welcome",weight:.34,baseline:!0},{name:"no-welcome",weight:.33},{name:"combined",weight:.33}]},specializations_cover_banner:{variants:[{name:"full",weight:.25,baseline:!0},{name:"no-cert",weight:.25},{name:"no-cert-proj",weight:.25},{name:"best-univ",weight:.25}]},signup_title_copy:{variants:[{name:"short",weight:.5},{name:"long",weight:.5,baseline:!0}]},signup_description_copy:{variants:[{name:"short",weight:.34,baseline:!0},{name:"medium",weight:.33},{name:"long",weight:.33}]}},user:{in_class_qqs:{variants:[{name:"no_qqs",weight:.1,baseline:!0},{name:"time_1",weight:.03},{name:"time_2",weight:.03},{name:"time_3",weight:.03},{name:"time_4",weight:.03},{name:"time_5",weight:.03},{name:"time_6",weight:.03},{name:"time_7",weight:.03},{name:"time_8",weight:.03},{name:"time_9",weight:.03},{name:"time_10",weight:.03},{name:"time_11",weight:.03},{name:"time_12",weight:.03},{name:"time_13",weight:.03},{name:"time_14",weight:.03},{name:"time_15",weight:.03},{name:"time_16",weight:.03},{name:"time_17",weight:.03},{name:"time_18",weight:.03},{name:"time_19",weight:.03},{name:"time_20",weight:.03},{name:"time_21",weight:.03},{name:"time_22",weight:.03},{name:"time_23",weight:.03},{name:"time_24",weight:.03},{name:"time_25",weight:.03},{name:"time_26",weight:.03},{name:"time_27",weight:.03},{name:"time_28",weight:.03},{name:"time_29",weight:.03},{name:"time_30",weight:.03}]},in_class_qqs_button:{variants:[{name:"button",weight:.5,baseline:!0},{name:"no_button",weight:.5}]},upcoming_window_leading2:{variants:[{name:"0",weight:.25,baseline:!0},{name:"7",weight:.25},{name:"14",weight:.25},{name:"21",weight:.25}]},upcoming_window_trailing2:{variants:[{name:"7",weight:.25,baseline:!0},{name:"14",weight:.25},{name:"21",weight:.25},{name:"28",weight:.25}]},honorcode_to_welcome2:{variants:[{name:"baseline",weight:.25,baseline:!0},{name:"no_welcome",weight:.25},{name:"no_intent",weight:.25},{name:"optional_intent",weight:.25}]},sigtrack_show_cert_name:{variants:[{name:"baseline",weight:.5,baseline:!0},{name:"show",weight:.5}]},st_userprofile_after_payment:{variants:[{name:"baseline",weight:.4,baseline:!0},{name:"show_after",weight:.6}]},course_page_skills:{variants:[{name:"baseline",weight:.5,baseline:!0},{name:"showskills",weight:.5}]},records_page_eoc_stories_dropdown:{variants:[{name:"dont_show_dropdown",weight:.85,baseline:!0},{name:"show_dropdown",weight:.15}]},lesson_progress_bar:{variants:[{name:"control",weight:.25,baseline:!0},{name:"continuous_progress_bar_without_resume",weight:.25},{name:"continuous_progress_bar_with_resume",weight:.25},{name:"segmented_progress_bar_with_resume",weight:.25}]},new_records_page_eocs_banner:{variants:[{name:"vertical_list",weight:.95},{name:"no_list",weight:.05,baseline:!0}]}}};
if("function"==typeof define&&define.amd)define("js/json/experiments.ab",[],function(){return experiments});else window.CourseraABExperiments=experiments}(),!function(global){var module=function(AB,Coursera,Cookie,experiments,UserJSON){var init=function(){for(var parts=location.host.split(".");parts.length>2;)parts.shift();var domain="."+parts.join("."),_204SessionId=Cookie.get("__204u"),sessionId=AB.makeSession("__204u",{expires:365,domain:domain});if(!_204SessionId)Cookie.set("__204u",sessionId,{expires:365,domain:domain});var ab={user:null,session:null};if(ab.session=AB(sessionId,"session",{debug:!0,tracker:Coursera.multitracker,logger:Coursera.log,domain:domain}),experiments.session)ab.session.addExperiments(experiments.session);if(ab.user=AB(null,"user",{debug:!0,tracker:Coursera.multitracker,logger:Coursera.log,domain:domain}),experiments.user)ab.user.addExperiments(experiments.user);return ab};return init()};if("function"==typeof define&&define.amd)define("js/lib/coursera.ab",["js/lib/ab","js/lib/coursera","js/lib/cookie","js/json/experiments.ab"],function(AB,Coursera,Cookie,experiments){return module(AB,Coursera,Cookie,experiments)});else;}(window),!function(global){function decode(s){if(s)s=decodeURIComponent(s),s=s.replace(re.pluses," ");return s}function parseUri(str){var parser=re.uri_parser,parserKeys=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],m=parser.exec(str||""),parts={};return parserKeys.forEach(function(key,i){parts[key]=m[i]||""}),parts}function parseQuery(str){var i,ps,p,n,k,v,pairs=[];if("undefined"==typeof str||null===str||""===str)return pairs;if(0===str.indexOf("?"))str=str.substring(1);for(ps=str.toString().split(re.query_separator),i=0;i<ps.length;i++)if(p=ps[i],n=p.indexOf("="),0!==n)k=decodeURIComponent(p.substring(0,n)),v=decodeURIComponent(p.substring(n+1)),pairs.push(-1===n?[p,null]:[k,v]);return pairs}function Uri(str){this.uriParts=parseUri(str),this.queryPairs=parseQuery(this.uriParts.query),this.hasAuthorityPrefixUserPref=null}var re={starts_with_slashes:/^\/+/,ends_with_slashes:/\/+$/,pluses:/\+/g,query_separator:/[&;]/,uri_parser:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/};if(!Array.prototype.forEach)Array.prototype.forEach=function(fn,scope){for(var i=0,len=this.length;len>i;++i)fn.call(scope||this,this[i],i,this)};if(["protocol","userInfo","host","port","path","anchor"].forEach(function(key){Uri.prototype[key]=function(val){if("undefined"!=typeof val)this.uriParts[key]=val;return this.uriParts[key]}}),Uri.prototype.hasAuthorityPrefix=function(val){if("undefined"!=typeof val)this.hasAuthorityPrefixUserPref=val;if(null===this.hasAuthorityPrefixUserPref)return-1!==this.uriParts.source.indexOf("//");else return this.hasAuthorityPrefixUserPref},Uri.prototype.query=function(val){var s="",i,param;if("undefined"!=typeof val)this.queryPairs=parseQuery(val);for(i=0;i<this.queryPairs.length;i++){if(param=this.queryPairs[i],s.length>0)s+="&";if(null===param[1])s+=param[0];else if(s+=param[0],s+="=",param[1])s+=encodeURIComponent(param[1])}return s.length>0?"?"+s:s},Uri.prototype.getQueryParamValue=function(key){var param,i;for(i=0;i<this.queryPairs.length;i++)if(param=this.queryPairs[i],key===param[0])return param[1]},Uri.prototype.getQueryParamValues=function(key){var arr=[],i,param;for(i=0;i<this.queryPairs.length;i++)if(param=this.queryPairs[i],key===param[0])arr.push(param[1]);return arr},Uri.prototype.deleteQueryParam=function(key,val){var arr=[],i,param,keyMatchesFilter,valMatchesFilter;for(i=0;i<this.queryPairs.length;i++)if(param=this.queryPairs[i],keyMatchesFilter=decode(param[0])===decode(key),valMatchesFilter=param[1]===val,1===arguments.length&&!keyMatchesFilter||2===arguments.length&&(!keyMatchesFilter||!valMatchesFilter))arr.push(param);return this.queryPairs=arr,this},Uri.prototype.addQueryParam=function(key,val,index){if(3===arguments.length&&-1!==index)index=Math.min(index,this.queryPairs.length),this.queryPairs.splice(index,0,[key,val]);else if(arguments.length>0)this.queryPairs.push([key,val]);return this},Uri.prototype.replaceQueryParam=function(key,newVal,oldVal){var index=-1,i,param;if(3===arguments.length){for(i=0;i<this.queryPairs.length;i++)if(param=this.queryPairs[i],decode(param[0])===decode(key)&&decodeURIComponent(param[1])===decode(oldVal)){index=i;break}this.deleteQueryParam(key,oldVal).addQueryParam(key,newVal,index)}else{for(i=0;i<this.queryPairs.length;i++)if(param=this.queryPairs[i],decode(param[0])===decode(key)){index=i;break}this.deleteQueryParam(key),this.addQueryParam(key,newVal,index)}return this},["protocol","hasAuthorityPrefix","userInfo","host","port","path","query","anchor"].forEach(function(key){var method="set"+key.charAt(0).toUpperCase()+key.slice(1);Uri.prototype[method]=function(val){return this[key](val),this}}),Uri.prototype.scheme=function(){var s="";if(this.protocol()){if(s+=this.protocol(),this.protocol().indexOf(":")!==this.protocol().length-1)s+=":";s+="//"}else if(this.hasAuthorityPrefix()&&this.host())s+="//";return s},Uri.prototype.origin=function(){var s=this.scheme();if("file://"==s)return s+this.uriParts.authority;if(this.userInfo()&&this.host())if(s+=this.userInfo(),this.userInfo().indexOf("@")!==this.userInfo().length-1)s+="@";if(this.host())if(s+=this.host(),this.port())s+=":"+this.port();return s},Uri.prototype.addTrailingSlash=function(){var path=this.path()||"";if("/"!==path.substr(-1))this.path(path+"/");return this},Uri.prototype.toString=function(){var path,s=this.origin();if(this.path()){if(path=this.path(),!re.ends_with_slashes.test(s)&&!re.starts_with_slashes.test(path))s+="/";else{if(s)s.replace(re.ends_with_slashes,"/");path=path.replace(re.starts_with_slashes,"/")}s+=path}else if(this.host()&&(this.query().toString()||this.anchor()))s+="/";if(this.query().toString()){if(0!==this.query().toString().indexOf("?"))s+="?";s+=this.query().toString()}if(this.anchor()){if(0!==this.anchor().indexOf("#"))s+="#";s+=this.anchor()}return s},Uri.prototype.clone=function(){return new Uri(this.toString())},"function"==typeof define&&define.amd)define("js/lib/uri",[],function(){return Uri});else if("undefined"!=typeof module&&"undefined"!=typeof module.exports)module.exports=Uri;else global.Uri=Uri}(this),define("pages/accomplishments/constants",["require","js/app/config","js/lib/path","js/lib/uri"],function(require){var config=require("js/app/config"),path=require("js/lib/path"),URI=require("js/lib/uri");return{config:config,rootPath:"/account/accomplishments",accomplishmentsLink:"/account/accomplishments",certImageUrl:path.join(config.url.assets,"images","signature","template-cert-preview.png"),getCertPdfUrl:function(code){var uri=path.join(config.url.base,"maestro/api/certificate/get_certificate");return new URI(uri).addQueryParam("verify-code",code).toString()},getSpecCertPdfUrl:function(userId,code){var uri=path.join(config.url.base,"maestro/api/certificate/get_specialization_certificate");return new URI(uri).addQueryParam("userId",userId).addQueryParam("code",code).toString()},getSpecCertImageUrl:function(specializationSlug){return path.join(config.url.assets,"images","specialization","certificate",specializationSlug+".jpg")},guidebookUrl:path.join(config.url.base,"signature/guidebook"),vcCoursesLink:path.join(config.url.base,"courses?certificates=VerifiedCert,Specialization"),linkedin:{COURSERA_ID:2453129,COURSERA_ST_ID:3526187,SPECIALIZATION_ID:3526187},specializationCertificateEnabled:["modernmusician"]}}),define("js/lib/require.memoize.v0-0-1",["module"],function(module){function argsToJsonHasher(){var args=Array.prototype.slice.call(arguments);return JSON.stringify(args)}function memoize(func,hasher){var memo={};hasher=hasher||argsToJsonHasher;var memoized=function(){var key=hasher.apply(this,arguments);if(!(key in memo))memo[key]=func.apply(this,arguments);return memo[key]};return memoized.force=function(){return memoized.clear.apply(this,arguments),memoized.apply(this,arguments)},memoized.clear=function(){var key=hasher.apply(this,arguments);delete memo[key]},memoized.reset=function(){memo={}},memoized}var memo={version:"0.0.1",load:function(name,req,onLoad,config){req([name],function(value){onLoad(memoize(value))})}};return memo}),!function(global){function decode(s){if(s)s=decodeURIComponent(s),s=s.replace(re.pluses," ");return s}function parseUri(str){var parser=re.uri_parser,parserKeys=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],m=parser.exec(str||""),parts={};return parserKeys.forEach(function(key,i){parts[key]=m[i]||""}),parts}function parseQuery(str){var i,ps,p,n,k,v,pairs=[];if("undefined"==typeof str||null===str||""===str)return pairs;if(0===str.indexOf("?"))str=str.substring(1);for(ps=str.toString().split(re.query_separator),i=0;i<ps.length;i++)if(p=ps[i],n=p.indexOf("="),0!==n)k=decodeURIComponent(p.substring(0,n)),v=decodeURIComponent(p.substring(n+1)),pairs.push(-1===n?[p,null]:[k,v]);return pairs}function Uri(str){this.uriParts=parseUri(str),this.queryPairs=parseQuery(this.uriParts.query),this.hasAuthorityPrefixUserPref=null}var re={starts_with_slashes:/^\/+/,ends_with_slashes:/\/+$/,pluses:/\+/g,query_separator:/[&;]/,uri_parser:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/};if(!Array.prototype.forEach)Array.prototype.forEach=function(fn,scope){for(var i=0,len=this.length;len>i;++i)fn.call(scope||this,this[i],i,this)};if(["protocol","userInfo","host","port","path","anchor"].forEach(function(key){Uri.prototype[key]=function(val){if("undefined"!=typeof val)this.uriParts[key]=val;return this.uriParts[key]}}),Uri.prototype.hasAuthorityPrefix=function(val){if("undefined"!=typeof val)this.hasAuthorityPrefixUserPref=val;if(null===this.hasAuthorityPrefixUserPref)return-1!==this.uriParts.source.indexOf("//");else return this.hasAuthorityPrefixUserPref},Uri.prototype.query=function(val){var s="",i,param;if("undefined"!=typeof val)this.queryPairs=parseQuery(val);for(i=0;i<this.queryPairs.length;i++){if(param=this.queryPairs[i],s.length>0)s+="&";if(null===param[1])s+=param[0];else if(s+=param[0],s+="=",param[1])s+=encodeURIComponent(param[1])}return s.length>0?"?"+s:s},Uri.prototype.getQueryParamValue=function(key){var param,i;for(i=0;i<this.queryPairs.length;i++)if(param=this.queryPairs[i],key===param[0])return param[1]},Uri.prototype.getQueryParamValues=function(key){var arr=[],i,param;for(i=0;i<this.queryPairs.length;i++)if(param=this.queryPairs[i],key===param[0])arr.push(param[1]);return arr},Uri.prototype.deleteQueryParam=function(key,val){var arr=[],i,param,keyMatchesFilter,valMatchesFilter;for(i=0;i<this.queryPairs.length;i++)if(param=this.queryPairs[i],keyMatchesFilter=decode(param[0])===decode(key),valMatchesFilter=param[1]===val,1===arguments.length&&!keyMatchesFilter||2===arguments.length&&(!keyMatchesFilter||!valMatchesFilter))arr.push(param);return this.queryPairs=arr,this},Uri.prototype.addQueryParam=function(key,val,index){if(3===arguments.length&&-1!==index)index=Math.min(index,this.queryPairs.length),this.queryPairs.splice(index,0,[key,val]);else if(arguments.length>0)this.queryPairs.push([key,val]);return this},Uri.prototype.replaceQueryParam=function(key,newVal,oldVal){var index=-1,i,param;if(3===arguments.length){for(i=0;i<this.queryPairs.length;i++)if(param=this.queryPairs[i],decode(param[0])===decode(key)&&decodeURIComponent(param[1])===decode(oldVal)){index=i;break}this.deleteQueryParam(key,oldVal).addQueryParam(key,newVal,index)}else{for(i=0;i<this.queryPairs.length;i++)if(param=this.queryPairs[i],decode(param[0])===decode(key)){index=i;break}this.deleteQueryParam(key),this.addQueryParam(key,newVal,index)}return this},["protocol","hasAuthorityPrefix","userInfo","host","port","path","query","anchor"].forEach(function(key){var method="set"+key.charAt(0).toUpperCase()+key.slice(1);Uri.prototype[method]=function(val){return this[key](val),this}}),Uri.prototype.scheme=function(){var s="";if(this.protocol()){if(s+=this.protocol(),this.protocol().indexOf(":")!==this.protocol().length-1)s+=":";s+="//"}else if(this.hasAuthorityPrefix()&&this.host())s+="//";return s},Uri.prototype.origin=function(){var s=this.scheme();if("file://"==s)return s+this.uriParts.authority;if(this.userInfo()&&this.host())if(s+=this.userInfo(),this.userInfo().indexOf("@")!==this.userInfo().length-1)s+="@";if(this.host())if(s+=this.host(),this.port())s+=":"+this.port();return s},Uri.prototype.addTrailingSlash=function(){var path=this.path()||"";if("/"!==path.substr(-1))this.path(path+"/");return this},Uri.prototype.toString=function(){var path,s=this.origin();if(this.path()){if(path=this.path(),!re.ends_with_slashes.test(s)&&!re.starts_with_slashes.test(path))s+="/";else{if(s)s.replace(re.ends_with_slashes,"/");path=path.replace(re.starts_with_slashes,"/")}s+=path}else if(this.host()&&(this.query().toString()||this.anchor()))s+="/";if(this.query().toString()){if(0!==this.query().toString().indexOf("?"))s+="?";s+=this.query().toString()}if(this.anchor()){if(0!==this.anchor().indexOf("#"))s+="#";s+=this.anchor()}return s},Uri.prototype.clone=function(){return new Uri(this.toString())},"function"==typeof define&&define.amd)define("js/vendor/uri.v0-0-1",[],function(){return Uri});else if("undefined"!=typeof module&&"undefined"!=typeof module.exports)module.exports=Uri;else global.Uri=Uri}(this),define("pages/accomplishments/common/api/certificate",["require","bundles/phoenix/lib/apiWrapper"],function(require){var API=require("bundles/phoenix/lib/apiWrapper");return API("/maestro/api/certificate",{type:"rest"})}),define("pages/accomplishments/common/data/verifiedCourseRecord",["require","uri","q","pages/accomplishments/common/api/certificate"],function(require){var Uri=require("uri"),Q=require("q"),api=require("pages/accomplishments/common/api/certificate"),constructUrl=function(code,verifyOnly,preview){var urlPath=preview?"preview_signature_track_course_record":"get_signature_track_course_record",url=(new Uri).setPath(urlPath).addQueryParam("verify-only",verifyOnly);if(preview)url.addQueryParam("session-id",code);else url.addQueryParam("code",code);return url.toString()};return function(options){options=options||{};var verifyOnly=options.includeGrade?"0":"1";return Q(api.get(constructUrl(options.code,verifyOnly,options.preview)))}}),function(undefined){function dfl(a,b,c){switch(arguments.length){case 2:return null!=a?a:b;case 3:return null!=a?a:null!=b?b:c;default:throw new Error("Implement me")}}function hasOwnProp(a,b){return hasOwnProperty.call(a,b)}function defaultParsingFlags(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function printMsg(msg){if(moment.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn)console.warn("Deprecation warning: "+msg)}function deprecate(msg,fn){var firstTime=!0;return extend(function(){if(firstTime)printMsg(msg),firstTime=!1;return fn.apply(this,arguments)},fn)}function deprecateSimple(name,msg){if(!deprecations[name])printMsg(msg),deprecations[name]=!0}function padToken(func,count){return function(a){return leftZeroFill(func.call(this,a),count)}}function ordinalizeToken(func,period){return function(a){return this.localeData().ordinal(func.call(this,a),period)}}function Locale(){}function Moment(config,skipOverflow){if(skipOverflow!==!1)checkOverflow(config);copyConfig(this,config),this._d=new Date(+config._d)}function Duration(duration){var normalizedInput=normalizeObjectUnits(duration),years=normalizedInput.year||0,quarters=normalizedInput.quarter||0,months=normalizedInput.month||0,weeks=normalizedInput.week||0,days=normalizedInput.day||0,hours=normalizedInput.hour||0,minutes=normalizedInput.minute||0,seconds=normalizedInput.second||0,milliseconds=normalizedInput.millisecond||0;this._milliseconds=+milliseconds+1e3*seconds+6e4*minutes+36e5*hours,this._days=+days+7*weeks,this._months=+months+3*quarters+12*years,this._data={},this._locale=moment.localeData(),this._bubble()}function extend(a,b){for(var i in b)if(hasOwnProp(b,i))a[i]=b[i];if(hasOwnProp(b,"toString"))a.toString=b.toString;if(hasOwnProp(b,"valueOf"))a.valueOf=b.valueOf;return a}function copyConfig(to,from){var i,prop,val;if("undefined"!=typeof from._isAMomentObject)to._isAMomentObject=from._isAMomentObject;if("undefined"!=typeof from._i)to._i=from._i;if("undefined"!=typeof from._f)to._f=from._f;if("undefined"!=typeof from._l)to._l=from._l;if("undefined"!=typeof from._strict)to._strict=from._strict;if("undefined"!=typeof from._tzm)to._tzm=from._tzm;if("undefined"!=typeof from._isUTC)to._isUTC=from._isUTC;if("undefined"!=typeof from._offset)to._offset=from._offset;if("undefined"!=typeof from._pf)to._pf=from._pf;if("undefined"!=typeof from._locale)to._locale=from._locale;if(momentProperties.length>0)for(i in momentProperties)if(prop=momentProperties[i],val=from[prop],"undefined"!=typeof val)to[prop]=val;return to}function absRound(number){if(0>number)return Math.ceil(number);else return Math.floor(number)}function leftZeroFill(number,targetLength,forceSign){for(var output=""+Math.abs(number),sign=number>=0;output.length<targetLength;)output="0"+output;return(sign?forceSign?"+":"":"-")+output}function positiveMomentsDifference(base,other){var res={milliseconds:0,months:0};if(res.months=other.month()-base.month()+12*(other.year()-base.year()),base.clone().add(res.months,"M").isAfter(other))--res.months;return res.milliseconds=+other-+base.clone().add(res.months,"M"),res}function momentsDifference(base,other){var res;if(other=makeAs(other,base),base.isBefore(other))res=positiveMomentsDifference(base,other);else res=positiveMomentsDifference(other,base),res.milliseconds=-res.milliseconds,res.months=-res.months;return res}function createAdder(direction,name){return function(val,period){var dur,tmp;if(null!==period&&!isNaN(+period))deprecateSimple(name,"moment()."+name+"(period, number) is deprecated. Please use moment()."+name+"(number, period)."),tmp=val,val=period,period=tmp;return val="string"==typeof val?+val:val,dur=moment.duration(val,period),addOrSubtractDurationFromMoment(this,dur,direction),this}}function addOrSubtractDurationFromMoment(mom,duration,isAdding,updateOffset){var milliseconds=duration._milliseconds,days=duration._days,months=duration._months;if(updateOffset=null==updateOffset?!0:updateOffset,milliseconds)mom._d.setTime(+mom._d+milliseconds*isAdding);if(days)rawSetter(mom,"Date",rawGetter(mom,"Date")+days*isAdding);if(months)rawMonthSetter(mom,rawGetter(mom,"Month")+months*isAdding);if(updateOffset)moment.updateOffset(mom,days||months)}function isArray(input){return"[object Array]"===Object.prototype.toString.call(input)}function isDate(input){return"[object Date]"===Object.prototype.toString.call(input)||input instanceof Date}function compareArrays(array1,array2,dontConvert){var len=Math.min(array1.length,array2.length),lengthDiff=Math.abs(array1.length-array2.length),diffs=0,i;for(i=0;len>i;i++)if(dontConvert&&array1[i]!==array2[i]||!dontConvert&&toInt(array1[i])!==toInt(array2[i]))diffs++;return diffs+lengthDiff}function normalizeUnits(units){if(units){var lowered=units.toLowerCase().replace(/(.)s$/,"$1");units=unitAliases[units]||camelFunctions[lowered]||lowered}return units}function normalizeObjectUnits(inputObject){var normalizedInput={},normalizedProp,prop;for(prop in inputObject)if(hasOwnProp(inputObject,prop))if(normalizedProp=normalizeUnits(prop))normalizedInput[normalizedProp]=inputObject[prop];return normalizedInput}function makeList(field){var count,setter;if(0===field.indexOf("week"))count=7,setter="day";else if(0===field.indexOf("month"))count=12,setter="month";else return;moment[field]=function(format,index){var i,getter,method=moment._locale[field],results=[];if("number"==typeof format)index=format,format=undefined;if(getter=function(i){var m=moment().utc().set(setter,i);return method.call(moment._locale,m,format||"")},null!=index)return getter(index);else{for(i=0;count>i;i++)results.push(getter(i));return results}}}function toInt(argumentForCoercion){var coercedNumber=+argumentForCoercion,value=0;if(0!==coercedNumber&&isFinite(coercedNumber))if(coercedNumber>=0)value=Math.floor(coercedNumber);else value=Math.ceil(coercedNumber);return value}function daysInMonth(year,month){return new Date(Date.UTC(year,month+1,0)).getUTCDate()}function weeksInYear(year,dow,doy){return weekOfYear(moment([year,11,31+dow-doy]),dow,doy).week}function daysInYear(year){return isLeapYear(year)?366:365}function isLeapYear(year){return year%4===0&&year%100!==0||year%400===0}function checkOverflow(m){var overflow;if(m._a&&-2===m._pf.overflow){if(overflow=m._a[MONTH]<0||m._a[MONTH]>11?MONTH:m._a[DATE]<1||m._a[DATE]>daysInMonth(m._a[YEAR],m._a[MONTH])?DATE:m._a[HOUR]<0||m._a[HOUR]>24||24===m._a[HOUR]&&(0!==m._a[MINUTE]||0!==m._a[SECOND]||0!==m._a[MILLISECOND])?HOUR:m._a[MINUTE]<0||m._a[MINUTE]>59?MINUTE:m._a[SECOND]<0||m._a[SECOND]>59?SECOND:m._a[MILLISECOND]<0||m._a[MILLISECOND]>999?MILLISECOND:-1,m._pf._overflowDayOfYear&&(YEAR>overflow||overflow>DATE))overflow=DATE;m._pf.overflow=overflow}}function isValid(m){if(null==m._isValid)if(m._isValid=!isNaN(m._d.getTime())&&m._pf.overflow<0&&!m._pf.empty&&!m._pf.invalidMonth&&!m._pf.nullInput&&!m._pf.invalidFormat&&!m._pf.userInvalidated,m._strict)m._isValid=m._isValid&&0===m._pf.charsLeftOver&&0===m._pf.unusedTokens.length&&m._pf.bigHour===undefined;return m._isValid}function normalizeLocale(key){return key?key.toLowerCase().replace("_","-"):key}function chooseLocale(names){for(var i=0,j,next,locale,split;i<names.length;){for(split=normalizeLocale(names[i]).split("-"),j=split.length,next=normalizeLocale(names[i+1]),next=next?next.split("-"):null;j>0;){if(locale=loadLocale(split.slice(0,j).join("-")))return locale;if(next&&next.length>=j&&compareArrays(split,next,!0)>=j-1)break;j--}i++}return null}function loadLocale(name){var oldLocale=null;if(!locales[name]&&hasModule)try{oldLocale=moment.locale(),require("./locale/"+name),moment.locale(oldLocale)}catch(e){}return locales[name]}function makeAs(input,model){var res,diff;if(model._isUTC)return res=model.clone(),diff=(moment.isMoment(input)||isDate(input)?+input:+moment(input))-+res,res._d.setTime(+res._d+diff),moment.updateOffset(res,!1),res;else return moment(input).local()}function removeFormattingTokens(input){if(input.match(/\[[\s\S]/))return input.replace(/^\[|\]$/g,"");return input.replace(/\\/g,"")}function makeFormatFunction(format){var array=format.match(formattingTokens),i,length;for(i=0,length=array.length;length>i;i++)if(formatTokenFunctions[array[i]])array[i]=formatTokenFunctions[array[i]];else array[i]=removeFormattingTokens(array[i]);return function(mom){var output="";for(i=0;length>i;i++)output+=array[i]instanceof Function?array[i].call(mom,format):array[i];return output}}function formatMoment(m,format){if(!m.isValid())return m.localeData().invalidDate();if(format=expandFormat(format,m.localeData()),!formatFunctions[format])formatFunctions[format]=makeFormatFunction(format);return formatFunctions[format](m)}function expandFormat(format,locale){function replaceLongDateFormatTokens(input){return locale.longDateFormat(input)||input}var i=5;for(localFormattingTokens.lastIndex=0;i>=0&&localFormattingTokens.test(format);)format=format.replace(localFormattingTokens,replaceLongDateFormatTokens),localFormattingTokens.lastIndex=0,i-=1;return format}function getParseRegexForToken(token,config){var a,strict=config._strict;switch(token){case"Q":return parseTokenOneDigit;case"DDDD":return parseTokenThreeDigits;case"YYYY":case"GGGG":case"gggg":return strict?parseTokenFourDigits:parseTokenOneToFourDigits;case"Y":case"G":case"g":return parseTokenSignedNumber;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return strict?parseTokenSixDigits:parseTokenOneToSixDigits;case"S":if(strict)return parseTokenOneDigit;case"SS":if(strict)return parseTokenTwoDigits;case"SSS":if(strict)return parseTokenThreeDigits;case"DDD":return parseTokenOneToThreeDigits;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return parseTokenWord;case"a":case"A":return config._locale._meridiemParse;case"x":return parseTokenOffsetMs;case"X":return parseTokenTimestampMs;case"Z":case"ZZ":return parseTokenTimezone;case"T":return parseTokenT;case"SSSS":return parseTokenDigits;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return strict?parseTokenTwoDigits:parseTokenOneOrTwoDigits;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return parseTokenOneOrTwoDigits;case"Do":return strict?config._locale._ordinalParse:config._locale._ordinalParseLenient;default:return a=new RegExp(regexpEscape(unescapeFormat(token.replace("\\","")),"i"))}}function timezoneMinutesFromString(string){string=string||"";var possibleTzMatches=string.match(parseTokenTimezone)||[],tzChunk=possibleTzMatches[possibleTzMatches.length-1]||[],parts=(tzChunk+"").match(parseTimezoneChunker)||["-",0,0],minutes=+(60*parts[1])+toInt(parts[2]);return"+"===parts[0]?-minutes:minutes}function addTimeToArrayFromToken(token,input,config){var a,datePartArray=config._a;switch(token){case"Q":if(null!=input)datePartArray[MONTH]=3*(toInt(input)-1);break;case"M":case"MM":if(null!=input)datePartArray[MONTH]=toInt(input)-1;break;case"MMM":case"MMMM":if(a=config._locale.monthsParse(input,token,config._strict),null!=a)datePartArray[MONTH]=a;else config._pf.invalidMonth=input;break;case"D":case"DD":if(null!=input)datePartArray[DATE]=toInt(input);break;case"Do":if(null!=input)datePartArray[DATE]=toInt(parseInt(input.match(/\d{1,2}/)[0],10));break;case"DDD":case"DDDD":if(null!=input)config._dayOfYear=toInt(input);break;case"YY":datePartArray[YEAR]=moment.parseTwoDigitYear(input);break;case"YYYY":case"YYYYY":case"YYYYYY":datePartArray[YEAR]=toInt(input);break;case"a":case"A":config._isPm=config._locale.isPM(input);break;case"h":case"hh":config._pf.bigHour=!0;case"H":case"HH":datePartArray[HOUR]=toInt(input);break;case"m":case"mm":datePartArray[MINUTE]=toInt(input);break;case"s":case"ss":datePartArray[SECOND]=toInt(input);break;case"S":case"SS":case"SSS":case"SSSS":datePartArray[MILLISECOND]=toInt(1e3*("0."+input));break;case"x":config._d=new Date(toInt(input));break;case"X":config._d=new Date(1e3*parseFloat(input));break;case"Z":case"ZZ":config._useUTC=!0,config._tzm=timezoneMinutesFromString(input);break;case"dd":case"ddd":case"dddd":if(a=config._locale.weekdaysParse(input),null!=a)config._w=config._w||{},config._w.d=a;else config._pf.invalidWeekday=input;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":token=token.substr(0,1);case"gggg":case"GGGG":case"GGGGG":if(token=token.substr(0,2),input)config._w=config._w||{},config._w[token]=toInt(input);break;case"gg":case"GG":config._w=config._w||{},config._w[token]=moment.parseTwoDigitYear(input)}}function dayOfYearFromWeekInfo(config){var w,weekYear,week,weekday,dow,doy,temp;if(w=config._w,null!=w.GG||null!=w.W||null!=w.E)dow=1,doy=4,weekYear=dfl(w.GG,config._a[YEAR],weekOfYear(moment(),1,4).year),week=dfl(w.W,1),weekday=dfl(w.E,1);else if(dow=config._locale._week.dow,doy=config._locale._week.doy,weekYear=dfl(w.gg,config._a[YEAR],weekOfYear(moment(),dow,doy).year),week=dfl(w.w,1),null!=w.d){if(weekday=w.d,dow>weekday)++week}else if(null!=w.e)weekday=w.e+dow;else weekday=dow;temp=dayOfYearFromWeeks(weekYear,week,weekday,doy,dow),config._a[YEAR]=temp.year,config._dayOfYear=temp.dayOfYear}function dateFromConfig(config){var i,date,input=[],currentDate,yearToUse;if(config._d)return;if(currentDate=currentDateArray(config),config._w&&null==config._a[DATE]&&null==config._a[MONTH])dayOfYearFromWeekInfo(config);if(config._dayOfYear){if(yearToUse=dfl(config._a[YEAR],currentDate[YEAR]),config._dayOfYear>daysInYear(yearToUse))config._pf._overflowDayOfYear=!0;date=makeUTCDate(yearToUse,0,config._dayOfYear),config._a[MONTH]=date.getUTCMonth(),config._a[DATE]=date.getUTCDate()}for(i=0;3>i&&null==config._a[i];++i)config._a[i]=input[i]=currentDate[i];for(;7>i;i++)config._a[i]=input[i]=null==config._a[i]?2===i?1:0:config._a[i];if(24===config._a[HOUR]&&0===config._a[MINUTE]&&0===config._a[SECOND]&&0===config._a[MILLISECOND])config._nextDay=!0,config._a[HOUR]=0;if(config._d=(config._useUTC?makeUTCDate:makeDate).apply(null,input),null!=config._tzm)config._d.setUTCMinutes(config._d.getUTCMinutes()+config._tzm);if(config._nextDay)config._a[HOUR]=24}function dateFromObject(config){var normalizedInput;if(config._d)return;normalizedInput=normalizeObjectUnits(config._i),config._a=[normalizedInput.year,normalizedInput.month,normalizedInput.day||normalizedInput.date,normalizedInput.hour,normalizedInput.minute,normalizedInput.second,normalizedInput.millisecond],dateFromConfig(config)}function currentDateArray(config){var now=new Date;if(config._useUTC)return[now.getUTCFullYear(),now.getUTCMonth(),now.getUTCDate()];else return[now.getFullYear(),now.getMonth(),now.getDate()]}function makeDateFromStringAndFormat(config){if(config._f===moment.ISO_8601)return void parseISO(config);config._a=[],config._pf.empty=!0;var string=""+config._i,i,parsedInput,tokens,token,skipped,stringLength=string.length,totalParsedInputLength=0;for(tokens=expandFormat(config._f,config._locale).match(formattingTokens)||[],i=0;i<tokens.length;i++){if(token=tokens[i],parsedInput=(string.match(getParseRegexForToken(token,config))||[])[0]){if(skipped=string.substr(0,string.indexOf(parsedInput)),skipped.length>0)config._pf.unusedInput.push(skipped);string=string.slice(string.indexOf(parsedInput)+parsedInput.length),totalParsedInputLength+=parsedInput.length}if(formatTokenFunctions[token]){if(parsedInput)config._pf.empty=!1;else config._pf.unusedTokens.push(token);addTimeToArrayFromToken(token,parsedInput,config)}else if(config._strict&&!parsedInput)config._pf.unusedTokens.push(token)}if(config._pf.charsLeftOver=stringLength-totalParsedInputLength,string.length>0)config._pf.unusedInput.push(string);if(config._pf.bigHour===!0&&config._a[HOUR]<=12)config._pf.bigHour=undefined;if(config._isPm&&config._a[HOUR]<12)config._a[HOUR]+=12;if(config._isPm===!1&&12===config._a[HOUR])config._a[HOUR]=0;dateFromConfig(config),checkOverflow(config)}function unescapeFormat(s){return s.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(matched,p1,p2,p3,p4){return p1||p2||p3||p4})}function regexpEscape(s){return s.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function makeDateFromStringAndArray(config){var tempConfig,bestMoment,scoreToBeat,i,currentScore;if(0===config._f.length)return config._pf.invalidFormat=!0,void(config._d=new Date(0/0));for(i=0;i<config._f.length;i++){if(currentScore=0,tempConfig=copyConfig({},config),null!=config._useUTC)tempConfig._useUTC=config._useUTC;if(tempConfig._pf=defaultParsingFlags(),tempConfig._f=config._f[i],makeDateFromStringAndFormat(tempConfig),!isValid(tempConfig))continue;if(currentScore+=tempConfig._pf.charsLeftOver,currentScore+=10*tempConfig._pf.unusedTokens.length,tempConfig._pf.score=currentScore,null==scoreToBeat||scoreToBeat>currentScore)scoreToBeat=currentScore,bestMoment=tempConfig}extend(config,bestMoment||tempConfig)}function parseISO(config){var i,l,string=config._i,match=isoRegex.exec(string);if(match){for(config._pf.iso=!0,i=0,l=isoDates.length;l>i;i++)if(isoDates[i][1].exec(string)){config._f=isoDates[i][0]+(match[6]||" ");break}for(i=0,l=isoTimes.length;l>i;i++)if(isoTimes[i][1].exec(string)){config._f+=isoTimes[i][0];break}if(string.match(parseTokenTimezone))config._f+="Z";makeDateFromStringAndFormat(config)}else config._isValid=!1}function makeDateFromString(config){if(parseISO(config),config._isValid===!1)delete config._isValid,moment.createFromInputFallback(config)
}function map(arr,fn){var res=[],i;for(i=0;i<arr.length;++i)res.push(fn(arr[i],i));return res}function makeDateFromInput(config){var input=config._i,matched;if(input===undefined)config._d=new Date;else if(isDate(input))config._d=new Date(+input);else if(null!==(matched=aspNetJsonRegex.exec(input)))config._d=new Date(+matched[1]);else if("string"==typeof input)makeDateFromString(config);else if(isArray(input))config._a=map(input.slice(0),function(obj){return parseInt(obj,10)}),dateFromConfig(config);else if("object"==typeof input)dateFromObject(config);else if("number"==typeof input)config._d=new Date(input);else moment.createFromInputFallback(config)}function makeDate(y,m,d,h,M,s,ms){var date=new Date(y,m,d,h,M,s,ms);if(1970>y)date.setFullYear(y);return date}function makeUTCDate(y){var date=new Date(Date.UTC.apply(null,arguments));if(1970>y)date.setUTCFullYear(y);return date}function parseWeekday(input,locale){if("string"==typeof input)if(!isNaN(input))input=parseInt(input,10);else if(input=locale.weekdaysParse(input),"number"!=typeof input)return null;return input}function substituteTimeAgo(string,number,withoutSuffix,isFuture,locale){return locale.relativeTime(number||1,!!withoutSuffix,string,isFuture)}function relativeTime(posNegDuration,withoutSuffix,locale){var duration=moment.duration(posNegDuration).abs(),seconds=round(duration.as("s")),minutes=round(duration.as("m")),hours=round(duration.as("h")),days=round(duration.as("d")),months=round(duration.as("M")),years=round(duration.as("y")),args=seconds<relativeTimeThresholds.s&&["s",seconds]||1===minutes&&["m"]||minutes<relativeTimeThresholds.m&&["mm",minutes]||1===hours&&["h"]||hours<relativeTimeThresholds.h&&["hh",hours]||1===days&&["d"]||days<relativeTimeThresholds.d&&["dd",days]||1===months&&["M"]||months<relativeTimeThresholds.M&&["MM",months]||1===years&&["y"]||["yy",years];return args[2]=withoutSuffix,args[3]=+posNegDuration>0,args[4]=locale,substituteTimeAgo.apply({},args)}function weekOfYear(mom,firstDayOfWeek,firstDayOfWeekOfYear){var end=firstDayOfWeekOfYear-firstDayOfWeek,daysToDayOfWeek=firstDayOfWeekOfYear-mom.day(),adjustedMoment;if(daysToDayOfWeek>end)daysToDayOfWeek-=7;if(end-7>daysToDayOfWeek)daysToDayOfWeek+=7;return adjustedMoment=moment(mom).add(daysToDayOfWeek,"d"),{week:Math.ceil(adjustedMoment.dayOfYear()/7),year:adjustedMoment.year()}}function dayOfYearFromWeeks(year,week,weekday,firstDayOfWeekOfYear,firstDayOfWeek){var d=makeUTCDate(year,0,1).getUTCDay(),daysToAdd,dayOfYear;return d=0===d?7:d,weekday=null!=weekday?weekday:firstDayOfWeek,daysToAdd=firstDayOfWeek-d+(d>firstDayOfWeekOfYear?7:0)-(firstDayOfWeek>d?7:0),dayOfYear=7*(week-1)+(weekday-firstDayOfWeek)+daysToAdd+1,{year:dayOfYear>0?year:year-1,dayOfYear:dayOfYear>0?dayOfYear:daysInYear(year-1)+dayOfYear}}function makeMoment(config){var input=config._i,format=config._f,res;if(config._locale=config._locale||moment.localeData(config._l),null===input||format===undefined&&""===input)return moment.invalid({nullInput:!0});if("string"==typeof input)config._i=input=config._locale.preparse(input);if(moment.isMoment(input))return new Moment(input,!0);else if(format)if(isArray(format))makeDateFromStringAndArray(config);else makeDateFromStringAndFormat(config);else makeDateFromInput(config);if(res=new Moment(config),res._nextDay)res.add(1,"d"),res._nextDay=undefined;return res}function pickBy(fn,moments){var res,i;if(1===moments.length&&isArray(moments[0]))moments=moments[0];if(!moments.length)return moment();for(res=moments[0],i=1;i<moments.length;++i)if(moments[i][fn](res))res=moments[i];return res}function rawMonthSetter(mom,value){var dayOfMonth;if("string"==typeof value)if(value=mom.localeData().monthsParse(value),"number"!=typeof value)return mom;return dayOfMonth=Math.min(mom.date(),daysInMonth(mom.year(),value)),mom._d["set"+(mom._isUTC?"UTC":"")+"Month"](value,dayOfMonth),mom}function rawGetter(mom,unit){return mom._d["get"+(mom._isUTC?"UTC":"")+unit]()}function rawSetter(mom,unit,value){if("Month"===unit)return rawMonthSetter(mom,value);else return mom._d["set"+(mom._isUTC?"UTC":"")+unit](value)}function makeAccessor(unit,keepTime){return function(value){if(null!=value)return rawSetter(this,unit,value),moment.updateOffset(this,keepTime),this;else return rawGetter(this,unit)}}function daysToYears(days){return 400*days/146097}function yearsToDays(years){return 146097*years/400}function makeDurationGetter(name){moment.duration.fn[name]=function(){return this._data[name]}}function makeGlobal(shouldDeprecate){if("undefined"!=typeof ender)return;if(oldGlobalMoment=globalScope.moment,shouldDeprecate)globalScope.moment=deprecate("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",moment);else globalScope.moment=moment}for(var moment,VERSION="2.8.4",globalScope="undefined"!=typeof global?global:this,oldGlobalMoment,round=Math.round,hasOwnProperty=Object.prototype.hasOwnProperty,i,YEAR=0,MONTH=1,DATE=2,HOUR=3,MINUTE=4,SECOND=5,MILLISECOND=6,locales={},momentProperties=[],hasModule="undefined"!=typeof module&&module&&module.exports,aspNetJsonRegex=/^\/?Date\((\-?\d+)/i,aspNetTimeSpanJsonRegex=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,isoDurationRegex=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,formattingTokens=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,localFormattingTokens=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,parseTokenOneOrTwoDigits=/\d\d?/,parseTokenOneToThreeDigits=/\d{1,3}/,parseTokenOneToFourDigits=/\d{1,4}/,parseTokenOneToSixDigits=/[+\-]?\d{1,6}/,parseTokenDigits=/\d+/,parseTokenWord=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,parseTokenTimezone=/Z|[\+\-]\d\d:?\d\d/gi,parseTokenT=/T/i,parseTokenOffsetMs=/[\+\-]?\d+/,parseTokenTimestampMs=/[\+\-]?\d+(\.\d{1,3})?/,parseTokenOneDigit=/\d/,parseTokenTwoDigits=/\d\d/,parseTokenThreeDigits=/\d{3}/,parseTokenFourDigits=/\d{4}/,parseTokenSixDigits=/[+-]?\d{6}/,parseTokenSignedNumber=/[+-]?\d+/,isoRegex=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,isoFormat="YYYY-MM-DDTHH:mm:ssZ",isoDates=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],isoTimes=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],parseTimezoneChunker=/([\+\-]|\d\d)/gi,proxyGettersAndSetters="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),unitMillisecondFactors={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},unitAliases={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},camelFunctions={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},formatFunctions={},relativeTimeThresholds={s:45,m:45,h:22,d:26,M:11},ordinalizeTokens="DDD w W M D d".split(" "),paddedTokens="M D H h m s w W".split(" "),formatTokenFunctions={M:function(){return this.month()+1},MMM:function(format){return this.localeData().monthsShort(this,format)},MMMM:function(format){return this.localeData().months(this,format)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(format){return this.localeData().weekdaysMin(this,format)},ddd:function(format){return this.localeData().weekdaysShort(this,format)},dddd:function(format){return this.localeData().weekdays(this,format)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return leftZeroFill(this.year()%100,2)},YYYY:function(){return leftZeroFill(this.year(),4)},YYYYY:function(){return leftZeroFill(this.year(),5)},YYYYYY:function(){var y=this.year(),sign=y>=0?"+":"-";return sign+leftZeroFill(Math.abs(y),6)},gg:function(){return leftZeroFill(this.weekYear()%100,2)},gggg:function(){return leftZeroFill(this.weekYear(),4)},ggggg:function(){return leftZeroFill(this.weekYear(),5)},GG:function(){return leftZeroFill(this.isoWeekYear()%100,2)},GGGG:function(){return leftZeroFill(this.isoWeekYear(),4)},GGGGG:function(){return leftZeroFill(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return toInt(this.milliseconds()/100)},SS:function(){return leftZeroFill(toInt(this.milliseconds()/10),2)},SSS:function(){return leftZeroFill(this.milliseconds(),3)},SSSS:function(){return leftZeroFill(this.milliseconds(),3)},Z:function(){var a=-this.zone(),b="+";if(0>a)a=-a,b="-";return b+leftZeroFill(toInt(a/60),2)+":"+leftZeroFill(toInt(a)%60,2)},ZZ:function(){var a=-this.zone(),b="+";if(0>a)a=-a,b="-";return b+leftZeroFill(toInt(a/60),2)+leftZeroFill(toInt(a)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()},Q:function(){return this.quarter()}},deprecations={},lists=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];ordinalizeTokens.length;)i=ordinalizeTokens.pop(),formatTokenFunctions[i+"o"]=ordinalizeToken(formatTokenFunctions[i],i);for(;paddedTokens.length;)i=paddedTokens.pop(),formatTokenFunctions[i+i]=padToken(formatTokenFunctions[i],2);formatTokenFunctions.DDDD=padToken(formatTokenFunctions.DDD,3),extend(Locale.prototype,{set:function(config){var prop,i;for(i in config)if(prop=config[i],"function"==typeof prop)this[i]=prop;else this["_"+i]=prop;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(m){return this._months[m.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(m){return this._monthsShort[m.month()]},monthsParse:function(monthName,format,strict){var i,mom,regex;if(!this._monthsParse)this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[];for(i=0;12>i;i++){if(mom=moment.utc([2e3,i]),strict&&!this._longMonthsParse[i])this._longMonthsParse[i]=new RegExp("^"+this.months(mom,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(mom,"").replace(".","")+"$","i");if(!strict&&!this._monthsParse[i])regex="^"+this.months(mom,"")+"|^"+this.monthsShort(mom,""),this._monthsParse[i]=new RegExp(regex.replace(".",""),"i");if(strict&&"MMMM"===format&&this._longMonthsParse[i].test(monthName))return i;else if(strict&&"MMM"===format&&this._shortMonthsParse[i].test(monthName))return i;else if(!strict&&this._monthsParse[i].test(monthName))return i}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(m){return this._weekdays[m.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(m){return this._weekdaysShort[m.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(m){return this._weekdaysMin[m.day()]},weekdaysParse:function(weekdayName){var i,mom,regex;if(!this._weekdaysParse)this._weekdaysParse=[];for(i=0;7>i;i++){if(!this._weekdaysParse[i])mom=moment([2e3,1]).day(i),regex="^"+this.weekdays(mom,"")+"|^"+this.weekdaysShort(mom,"")+"|^"+this.weekdaysMin(mom,""),this._weekdaysParse[i]=new RegExp(regex.replace(".",""),"i");if(this._weekdaysParse[i].test(weekdayName))return i}},_longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(key){var output=this._longDateFormat[key];if(!output&&this._longDateFormat[key.toUpperCase()])output=this._longDateFormat[key.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(val){return val.slice(1)}),this._longDateFormat[key]=output;return output},isPM:function(input){return"p"===(input+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(hours,minutes,isLower){if(hours>11)return isLower?"pm":"PM";else return isLower?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(key,mom,now){var output=this._calendar[key];return"function"==typeof output?output.apply(mom,[now]):output},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(number,withoutSuffix,string,isFuture){var output=this._relativeTime[string];return"function"==typeof output?output(number,withoutSuffix,string,isFuture):output.replace(/%d/i,number)},pastFuture:function(diff,output){var format=this._relativeTime[diff>0?"future":"past"];return"function"==typeof format?format(output):format.replace(/%s/i,output)},ordinal:function(number){return this._ordinal.replace("%d",number)},_ordinal:"%d",_ordinalParse:/\d{1,2}/,preparse:function(string){return string},postformat:function(string){return string},week:function(mom){return weekOfYear(mom,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),moment=function(input,format,locale,strict){var c;if("boolean"==typeof locale)strict=locale,locale=undefined;return c={},c._isAMomentObject=!0,c._i=input,c._f=format,c._l=locale,c._strict=strict,c._isUTC=!1,c._pf=defaultParsingFlags(),makeMoment(c)},moment.suppressDeprecationWarnings=!1,moment.createFromInputFallback=deprecate("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(config){config._d=new Date(config._i+(config._useUTC?" UTC":""))}),moment.min=function(){var args=[].slice.call(arguments,0);return pickBy("isBefore",args)},moment.max=function(){var args=[].slice.call(arguments,0);return pickBy("isAfter",args)},moment.utc=function(input,format,locale,strict){var c;if("boolean"==typeof locale)strict=locale,locale=undefined;return c={},c._isAMomentObject=!0,c._useUTC=!0,c._isUTC=!0,c._l=locale,c._i=input,c._f=format,c._strict=strict,c._pf=defaultParsingFlags(),makeMoment(c).utc()},moment.unix=function(input){return moment(1e3*input)},moment.duration=function(input,key){var duration=input,match=null,sign,ret,parseIso,diffRes;if(moment.isDuration(input))duration={ms:input._milliseconds,d:input._days,M:input._months};else if("number"==typeof input)if(duration={},key)duration[key]=input;else duration.milliseconds=input;else if(match=aspNetTimeSpanJsonRegex.exec(input))sign="-"===match[1]?-1:1,duration={y:0,d:toInt(match[DATE])*sign,h:toInt(match[HOUR])*sign,m:toInt(match[MINUTE])*sign,s:toInt(match[SECOND])*sign,ms:toInt(match[MILLISECOND])*sign};else if(match=isoDurationRegex.exec(input))sign="-"===match[1]?-1:1,parseIso=function(inp){var res=inp&&parseFloat(inp.replace(",","."));return(isNaN(res)?0:res)*sign},duration={y:parseIso(match[2]),M:parseIso(match[3]),d:parseIso(match[4]),h:parseIso(match[5]),m:parseIso(match[6]),s:parseIso(match[7]),w:parseIso(match[8])};else if("object"==typeof duration&&("from"in duration||"to"in duration))diffRes=momentsDifference(moment(duration.from),moment(duration.to)),duration={},duration.ms=diffRes.milliseconds,duration.M=diffRes.months;if(ret=new Duration(duration),moment.isDuration(input)&&hasOwnProp(input,"_locale"))ret._locale=input._locale;return ret},moment.version=VERSION,moment.defaultFormat=isoFormat,moment.ISO_8601=function(){},moment.momentProperties=momentProperties,moment.updateOffset=function(){},moment.relativeTimeThreshold=function(threshold,limit){if(relativeTimeThresholds[threshold]===undefined)return!1;if(limit===undefined)return relativeTimeThresholds[threshold];return relativeTimeThresholds[threshold]=limit,!0},moment.lang=deprecate("moment.lang is deprecated. Use moment.locale instead.",function(key,value){return moment.locale(key,value)}),moment.locale=function(key,values){var data;if(key){if("undefined"!=typeof values)data=moment.defineLocale(key,values);else data=moment.localeData(key);if(data)moment.duration._locale=moment._locale=data}return moment._locale._abbr},moment.defineLocale=function(name,values){if(null!==values){if(values.abbr=name,!locales[name])locales[name]=new Locale;return locales[name].set(values),moment.locale(name),locales[name]}else return delete locales[name],null},moment.langData=deprecate("moment.langData is deprecated. Use moment.localeData instead.",function(key){return moment.localeData(key)}),moment.localeData=function(key){var locale;if(key&&key._locale&&key._locale._abbr)key=key._locale._abbr;if(!key)return moment._locale;if(!isArray(key)){if(locale=loadLocale(key))return locale;key=[key]}return chooseLocale(key)},moment.isMoment=function(obj){return obj instanceof Moment||null!=obj&&hasOwnProp(obj,"_isAMomentObject")},moment.isDuration=function(obj){return obj instanceof Duration};for(i=lists.length-1;i>=0;--i)makeList(lists[i]);moment.normalizeUnits=function(units){return normalizeUnits(units)},moment.invalid=function(flags){var m=moment.utc(0/0);if(null!=flags)extend(m._pf,flags);else m._pf.userInvalidated=!0;return m},moment.parseZone=function(){return moment.apply(null,arguments).parseZone()},moment.parseTwoDigitYear=function(input){return toInt(input)+(toInt(input)>68?1900:2e3)},extend(moment.fn=Moment.prototype,{clone:function(){return moment(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var m=moment(this).utc();if(0<m.year()&&m.year()<=9999)if("function"==typeof Date.prototype.toISOString)return this.toDate().toISOString();else return formatMoment(m,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]");else return formatMoment(m,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var m=this;return[m.year(),m.month(),m.date(),m.hours(),m.minutes(),m.seconds(),m.milliseconds()]},isValid:function(){return isValid(this)},isDSTShifted:function(){if(this._a)return this.isValid()&&compareArrays(this._a,(this._isUTC?moment.utc(this._a):moment(this._a)).toArray())>0;return!1},parsingFlags:function(){return extend({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(keepLocalTime){return this.zone(0,keepLocalTime)},local:function(keepLocalTime){if(this._isUTC)if(this.zone(0,keepLocalTime),this._isUTC=!1,keepLocalTime)this.add(this._dateTzOffset(),"m");return this},format:function(inputString){var output=formatMoment(this,inputString||moment.defaultFormat);return this.localeData().postformat(output)},add:createAdder(1,"add"),subtract:createAdder(-1,"subtract"),diff:function(input,units,asFloat){var that=makeAs(input,this),zoneDiff=6e4*(this.zone()-that.zone()),diff,output,daysAdjust;if(units=normalizeUnits(units),"year"===units||"month"===units){if(diff=432e5*(this.daysInMonth()+that.daysInMonth()),output=12*(this.year()-that.year())+(this.month()-that.month()),daysAdjust=this-moment(this).startOf("month")-(that-moment(that).startOf("month")),daysAdjust-=6e4*(this.zone()-moment(this).startOf("month").zone()-(that.zone()-moment(that).startOf("month").zone())),output+=daysAdjust/diff,"year"===units)output/=12}else diff=this-that,output="second"===units?diff/1e3:"minute"===units?diff/6e4:"hour"===units?diff/36e5:"day"===units?(diff-zoneDiff)/864e5:"week"===units?(diff-zoneDiff)/6048e5:diff;return asFloat?output:absRound(output)},from:function(time,withoutSuffix){return moment.duration({to:this,from:time}).locale(this.locale()).humanize(!withoutSuffix)},fromNow:function(withoutSuffix){return this.from(moment(),withoutSuffix)},calendar:function(time){var now=time||moment(),sod=makeAs(now,this).startOf("day"),diff=this.diff(sod,"days",!0),format=-6>diff?"sameElse":-1>diff?"lastWeek":0>diff?"lastDay":1>diff?"sameDay":2>diff?"nextDay":7>diff?"nextWeek":"sameElse";return this.format(this.localeData().calendar(format,this,moment(now)))},isLeapYear:function(){return isLeapYear(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(input){var day=this._isUTC?this._d.getUTCDay():this._d.getDay();if(null!=input)return input=parseWeekday(input,this.localeData()),this.add(input-day,"d");else return day},month:makeAccessor("Month",!0),startOf:function(units){switch(units=normalizeUnits(units)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}if("week"===units)this.weekday(0);else if("isoWeek"===units)this.isoWeekday(1);if("quarter"===units)this.month(3*Math.floor(this.month()/3));return this},endOf:function(units){if(units=normalizeUnits(units),units===undefined||"millisecond"===units)return this;return this.startOf(units).add(1,"isoWeek"===units?"week":units).subtract(1,"ms")},isAfter:function(input,units){var inputMs;if(units=normalizeUnits("undefined"!=typeof units?units:"millisecond"),"millisecond"===units)return input=moment.isMoment(input)?input:moment(input),+this>+input;else return inputMs=moment.isMoment(input)?+input:+moment(input),inputMs<+this.clone().startOf(units)},isBefore:function(input,units){var inputMs;if(units=normalizeUnits("undefined"!=typeof units?units:"millisecond"),"millisecond"===units)return input=moment.isMoment(input)?input:moment(input),+input>+this;else return inputMs=moment.isMoment(input)?+input:+moment(input),+this.clone().endOf(units)<inputMs},isSame:function(input,units){var inputMs;if(units=normalizeUnits(units||"millisecond"),"millisecond"===units)return input=moment.isMoment(input)?input:moment(input),+this===+input;else return inputMs=+moment(input),+this.clone().startOf(units)<=inputMs&&inputMs<=+this.clone().endOf(units)},min:deprecate("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(other){return other=moment.apply(null,arguments),this>other?this:other}),max:deprecate("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(other){return other=moment.apply(null,arguments),other>this?this:other}),zone:function(input,keepLocalTime){var offset=this._offset||0,localAdjust;if(null!=input){if("string"==typeof input)input=timezoneMinutesFromString(input);if(Math.abs(input)<16)input=60*input;if(!this._isUTC&&keepLocalTime)localAdjust=this._dateTzOffset();if(this._offset=input,this._isUTC=!0,null!=localAdjust)this.subtract(localAdjust,"m");if(offset!==input)if(!keepLocalTime||this._changeInProgress)addOrSubtractDurationFromMoment(this,moment.duration(offset-input,"m"),1,!1);else if(!this._changeInProgress)this._changeInProgress=!0,moment.updateOffset(this,!0),this._changeInProgress=null}else return this._isUTC?offset:this._dateTzOffset();return this},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){if(this._tzm)this.zone(this._tzm);else if("string"==typeof this._i)this.zone(this._i);return this},hasAlignedHourOffset:function(input){if(!input)input=0;else input=moment(input).zone();return(this.zone()-input)%60===0},daysInMonth:function(){return daysInMonth(this.year(),this.month())},dayOfYear:function(input){var dayOfYear=round((moment(this).startOf("day")-moment(this).startOf("year"))/864e5)+1;return null==input?dayOfYear:this.add(input-dayOfYear,"d")},quarter:function(input){return null==input?Math.ceil((this.month()+1)/3):this.month(3*(input-1)+this.month()%3)},weekYear:function(input){var year=weekOfYear(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==input?year:this.add(input-year,"y")},isoWeekYear:function(input){var year=weekOfYear(this,1,4).year;return null==input?year:this.add(input-year,"y")},week:function(input){var week=this.localeData().week(this);return null==input?week:this.add(7*(input-week),"d")},isoWeek:function(input){var week=weekOfYear(this,1,4).week;return null==input?week:this.add(7*(input-week),"d")},weekday:function(input){var weekday=(this.day()+7-this.localeData()._week.dow)%7;return null==input?weekday:this.add(input-weekday,"d")},isoWeekday:function(input){return null==input?this.day()||7:this.day(this.day()%7?input:input-7)},isoWeeksInYear:function(){return weeksInYear(this.year(),1,4)},weeksInYear:function(){var weekInfo=this.localeData()._week;return weeksInYear(this.year(),weekInfo.dow,weekInfo.doy)},get:function(units){return units=normalizeUnits(units),this[units]()},set:function(units,value){if(units=normalizeUnits(units),"function"==typeof this[units])this[units](value);return this},locale:function(key){var newLocaleData;if(key===undefined)return this._locale._abbr;else{if(newLocaleData=moment.localeData(key),null!=newLocaleData)this._locale=newLocaleData;return this}},lang:deprecate("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(key){if(key===undefined)return this.localeData();else return this.locale(key)}),localeData:function(){return this._locale},_dateTzOffset:function(){return 15*Math.round(this._d.getTimezoneOffset()/15)}}),moment.fn.millisecond=moment.fn.milliseconds=makeAccessor("Milliseconds",!1),moment.fn.second=moment.fn.seconds=makeAccessor("Seconds",!1),moment.fn.minute=moment.fn.minutes=makeAccessor("Minutes",!1),moment.fn.hour=moment.fn.hours=makeAccessor("Hours",!0),moment.fn.date=makeAccessor("Date",!0),moment.fn.dates=deprecate("dates accessor is deprecated. Use date instead.",makeAccessor("Date",!0)),moment.fn.year=makeAccessor("FullYear",!0),moment.fn.years=deprecate("years accessor is deprecated. Use year instead.",makeAccessor("FullYear",!0)),moment.fn.days=moment.fn.day,moment.fn.months=moment.fn.month,moment.fn.weeks=moment.fn.week,moment.fn.isoWeeks=moment.fn.isoWeek,moment.fn.quarters=moment.fn.quarter,moment.fn.toJSON=moment.fn.toISOString,extend(moment.duration.fn=Duration.prototype,{_bubble:function(){var milliseconds=this._milliseconds,days=this._days,months=this._months,data=this._data,seconds,minutes,hours,years=0;data.milliseconds=milliseconds%1e3,seconds=absRound(milliseconds/1e3),data.seconds=seconds%60,minutes=absRound(seconds/60),data.minutes=minutes%60,hours=absRound(minutes/60),data.hours=hours%24,days+=absRound(hours/24),years=absRound(daysToYears(days)),days-=absRound(yearsToDays(years)),months+=absRound(days/30),days%=30,years+=absRound(months/12),months%=12,data.days=days,data.months=months,data.years=years},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return absRound(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*toInt(this._months/12)},humanize:function(withSuffix){var output=relativeTime(this,!withSuffix,this.localeData());if(withSuffix)output=this.localeData().pastFuture(+this,output);return this.localeData().postformat(output)},add:function(input,val){var dur=moment.duration(input,val);return this._milliseconds+=dur._milliseconds,this._days+=dur._days,this._months+=dur._months,this._bubble(),this},subtract:function(input,val){var dur=moment.duration(input,val);return this._milliseconds-=dur._milliseconds,this._days-=dur._days,this._months-=dur._months,this._bubble(),this},get:function(units){return units=normalizeUnits(units),this[units.toLowerCase()+"s"]()},as:function(units){var days,months;if(units=normalizeUnits(units),"month"===units||"year"===units)return days=this._days+this._milliseconds/864e5,months=this._months+12*daysToYears(days),"month"===units?months:months/12;else switch(days=this._days+Math.round(yearsToDays(this._months/12)),units){case"week":return days/7+this._milliseconds/6048e5;case"day":return days+this._milliseconds/864e5;case"hour":return 24*days+this._milliseconds/36e5;case"minute":return 24*days*60+this._milliseconds/6e4;case"second":return 24*days*60*60+this._milliseconds/1e3;case"millisecond":return Math.floor(24*days*60*60*1e3)+this._milliseconds;default:throw new Error("Unknown unit "+units)}},lang:moment.fn.lang,locale:moment.fn.locale,toIsoString:deprecate("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var years=Math.abs(this.years()),months=Math.abs(this.months()),days=Math.abs(this.days()),hours=Math.abs(this.hours()),minutes=Math.abs(this.minutes()),seconds=Math.abs(this.seconds()+this.milliseconds()/1e3);if(!this.asSeconds())return"P0D";return(this.asSeconds()<0?"-":"")+"P"+(years?years+"Y":"")+(months?months+"M":"")+(days?days+"D":"")+(hours||minutes||seconds?"T":"")+(hours?hours+"H":"")+(minutes?minutes+"M":"")+(seconds?seconds+"S":"")},localeData:function(){return this._locale}}),moment.duration.fn.toString=moment.duration.fn.toISOString;for(i in unitMillisecondFactors)if(hasOwnProp(unitMillisecondFactors,i))makeDurationGetter(i.toLowerCase());if(moment.duration.fn.asMilliseconds=function(){return this.as("ms")},moment.duration.fn.asSeconds=function(){return this.as("s")},moment.duration.fn.asMinutes=function(){return this.as("m")},moment.duration.fn.asHours=function(){return this.as("h")},moment.duration.fn.asDays=function(){return this.as("d")},moment.duration.fn.asWeeks=function(){return this.as("weeks")},moment.duration.fn.asMonths=function(){return this.as("M")},moment.duration.fn.asYears=function(){return this.as("y")},moment.locale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(number){var b=number%10,output=1===toInt(number%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return number+output}}),hasModule)module.exports=moment;else if("function"==typeof define&&define.amd)define("moment",["require","exports","module"],function(require,exports,module){if(module.config&&module.config()&&module.config().noGlobal===!0)globalScope.moment=oldGlobalMoment;return moment}),makeGlobal(!0);else makeGlobal()}.call(this),define("bundles/courseraCatalogAPI/lib/concatName",["require","underscore"],function(require){function concatName(nameObj){var full=_(["prefix","first","middle","last"]).chain().map(function(key){return nameObj[key]}).compact().value().join(" ");if(nameObj.suffix)full+=", "+nameObj.suffix;return full}var _=require("underscore");return concatName}),define("bundles/courseraCatalogAPI/lib/stringifyList",["require","underscore"],function(require){var _=require("underscore");return function(list){list=list||[];var initial=_.initial(list),last=_.last(list);return _.compact([initial.join(", "),last]).join(" & ")}}),define("pages/accomplishments/common/models/courseRecord",["require","backbone","js/lib/path","pages/accomplishments/constants"],function(require){var Backbone=require("backbone"),path=require("js/lib/path"),constants=require("pages/accomplishments/constants"),CourseRecord=Backbone.Model.extend({getAchievementLevel:function(){return this.get("achievement_level")
},getGrade:function(){var courseGrade;if(this.isDistinction()&&this.get("grade_distinction"))courseGrade=this.get("grade_distinction");else courseGrade=this.get("grade_normal");return parseFloat(courseGrade)||0},getGradePercentString:function(){return(Math.round(10*this.getGrade())/10).toFixed(1)},isDistinction:function(){return 2===this.getAchievementLevel()},passedCourse:function(){return this.getAchievementLevel()>0&&this.getGrade()>0},getCertificateLink:function(){return path.join(constants.rootPath,"certificate",this.getVerifiedCertificateId())},getSharedCertificateLink:function(){return path.join(constants.config.url.base,this.getCertificateLink())},getVerifyLink:function(){return path.join(constants.rootPath,"verify",this.getVerifiedCertificateId())},getSharedVerifyLink:function(){return path.join(constants.config.url.base,this.getVerifyLink())},getRecordLink:function(){return path.join(constants.rootPath,"records",this.getVerifiedCertificateWithGradeId())},getSharedRecordLink:function(){return path.join(constants.config.url.base,this.getRecordLink())}});return CourseRecord}),define("pages/accomplishments/common/models/verifiedCourseRecord",["require","underscore","moment","bundles/courseraCatalogAPI/lib/concatName","bundles/courseraCatalogAPI/lib/stringifyList","pages/accomplishments/common/models/courseRecord"],function(require){var _=require("underscore"),moment=require("moment"),concatName=require("bundles/courseraCatalogAPI/lib/concatName"),stringifyList=require("bundles/courseraCatalogAPI/lib/stringifyList"),CourseRecord=require("pages/accomplishments/common/models/courseRecord"),VerifiedCourseRecord=CourseRecord.extend({getCourseId:function(){return this.get("topic_id")},getSessionId:function(){return this.get("course_id")},getCourseLink:function(){return this.get("home_link")},getVerifiedCertificateId:function(){return this.get("verify_code")},getVerifiedCertificateWithGradeId:function(){return this.get("verify_code_with_grade")},getInstructorNames:function(){return stringifyList(_(this.get("instructor_details")).pluck("name"))},getUniversityNames:function(){return stringifyList(this.get("university_names"))},getUniversityLogo:function(){return _(this.get("university_logos")).first()},getCourseEndMoment:function(){return moment(this.get("end_date"))},getUserFullName:function(){return concatName({first:this.get("student_first_name"),middle:this.get("student_middle_name"),last:this.get("student_last_name")})},getUserId:function(){return this.get("user_id")}});return VerifiedCourseRecord}),define("pages/accomplishments/common/promises/verifiedCourseRecord",["require","underscore","pages/accomplishments/common/data/verifiedCourseRecord","pages/accomplishments/common/models/verifiedCourseRecord"],function(require){var _=require("underscore"),verifiedCourseRecordData=require("pages/accomplishments/common/data/verifiedCourseRecord"),VerifiedCourseRecord=require("pages/accomplishments/common/models/verifiedCourseRecord");return function(options){return options=options||{},verifiedCourseRecordData(options).then(function(data){if(options.includeGrade)_.extend(data,{verify_code_with_grade:options.code});return new VerifiedCourseRecord(data)})}}),define("bundles/phoenix/template/layout/nls/fullscreen",{}),!function(wndw){var jadify=function(jade,_t,_h){var yudify=function template(locals){var buf=[],jade_mixins={},jade_interp;return buf.push('<div class="c-phoenix-template-fullscreen"><div data-js="phoenix-template-fullscreen-body" class="c-phoenix-template-fullscreen-body bt3-container-fluid"><div data-js="phoenix-template-region-modal"></div></div></div>'),buf.join("")};return function(locals){if(locals)if(locals._t)_t=locals._t.merge(_t);return yudify(locals)}};if("function"==typeof define&&define.amd)define("bundles/phoenix/template/layout/fullscreen.html",["js/vendor/jade","i18n!bundles/phoenix/template/layout/nls/fullscreen"],function(jade,_t){var _h;return jadify(jade,_t,_h)});else wndw.jade.templates["bundles.phoenix.template.layout.fullscreen"]=jadify(wndw.jade.helpers)}(window),define("js/lib/assert",[],function(){function assert(expression,error){if(!expression)if("string"==typeof error)throw new Error(error);else throw error||new Error;return expression}return assert}),define("bundles/phoenix/lib/mixin",["require","js/lib/assert","underscore"],function(require){var assert=require("js/lib/assert"),_=require("underscore");return function(obj){var mixins=_.toArray(arguments).slice(1),mixed={};return assert(_.isObject(obj),"mixin called with a non-object target"),assert(mixins.length>=1,"mixin called with no mixins"),_(mixins).each(function(mixin){_(mixin).chain().keys().each(function(key){assert(!_(mixed).has(key),'Attempted to use multiple mixins that define the same property "'+key+'"'),mixed[key]=mixin[key]})}),_(mixed).chain().keys().each(function(key){if(!_(obj).has(key))obj[key]=mixed[key]}),obj}}),define("bundles/phoenix/lib/multitrackerMixin",["require","js/app/multitrackerSingleton.v0-0-1","underscore"],function(require){var Multitracker=require("js/app/multitrackerSingleton.v0-0-1"),_=require("underscore"),_private={expandProperties:function(key){var args,baseValues,declaration,events;if(args=arguments,declaration=this.multitracker&&this.multitracker.events&&this.multitracker.events[key]||[],_.isString(declaration)||_.isObject(declaration)&&!_.isArray(declaration))events=_.has(declaration,"values")?declaration.values:[];else events=declaration;return baseValues=this.multitracker&&this.multitracker.baseValues||[],_.reduce(baseValues.concat(events),function(memo,property){var definition=this.multitracker.definitions[property];if(!definition)throw new Error("Event property not defined");var finalValue;if(_.isFunction(definition))finalValue=definition.apply(this,_.rest(args,1));else finalValue=definition;return memo[property]=finalValue,memo},{},this)},expandKey:function(key){if(this.multitracker&&_.has(this.multitracker,"namespace"))return this.multitracker.namespace+"."+key;else return key},track:function(key,value){var fullEventKey=_private.expandKey.call(this,key);if(value){if(_.isObject(value))value=_.extend({},_private.expandProperties.call(this,key),value);_private.push.call(this,[fullEventKey,value])}else{var finalValue=_private.expandProperties.call(this,key);if(finalValue)_private.push.call(this,[fullEventKey,finalValue])}},trackHandler:function(key){var fullEventKey=_private.expandKey.call(this,key);return _.wrap(_private.expandProperties,function(func){var finalValue=func.apply(this,[key].concat(_.rest(arguments,1)));if(finalValue)_private.push.call(this,[fullEventKey,finalValue])}.bind(this))},push:function(event){if(this.multitracker&&(2===this.multitracker.eventingVersion||"2"===this.multitracker.eventingVersion))Multitracker.pushV2(event);else Multitracker.push(event)}};return{delegateEvents:function(events){if(this.multitracker){var delegatedEvents=_.reduce(this.multitracker.events,function(memo,val,key){if(_.isString(val))memo[val]=this.trackHandler(key);else if(_.has(val,"delegate"))memo[val.delegate]=this.trackHandler(key);return memo},{},this);if(events)_.extend(delegatedEvents,events);else _.extend(delegatedEvents,this.events,delegatedEvents);events=_.extend({},delegatedEvents)}return Backbone.View.prototype.delegateEvents.call(this,events)},track:function(key,value){return _private.track.call(this,key,value)},trackHandler:function(key){return _private.trackHandler.call(this,key)}}}),define("bundles/phoenix/lib/viewMixin",["require","underscore"],function(require){var _=require("underscore"),ViewMixin={templateOptions:function(){return this},render:function(){if(this.template){var templateOptions=_.result(this,"templateOptions")||{};this.$el.html(this.template(templateOptions))}if(this[this.stateModelProperty])this.listenTo(this[this.stateModelProperty],"state:change",this.renderState),this.renderFsm(),this.renderState();if(this.renderSubviews(),this.postRender(),this.bindings)this.stickit();return this},renderSubviews:function(){},postRender:function(){},$$:function(dataJsValue){return this.$('[data-js~="'+dataJsValue+'"]')}};return ViewMixin}),define("js/lib/fsm",["require","underscore","js/app/loggerSingleton.v0-0-1","js/vendor/jquery.v2-1"],function(require){var _=require("underscore"),logger=require("js/app/loggerSingleton.v0-0-1"),$=require("js/vendor/jquery.v2-1"),slice=Array.prototype.slice,fsm={};return fsm.FiniteStateMachine={logTransitions:!1,stateProperty:"state",state:function(){return this.get(this.stateProperty)},isState:function(statesArray){var states=_.isArray(statesArray)?statesArray:slice.call(arguments);return _(states).contains(this.state())},isValidState:function(state){if(!state)return!1;if(!this.fsm||!this.fsm.states)return!0;return _(this.fsm.states).contains(state)},isValidTransition:function(fromState,toState){if(!fromState||!toState)return!1;if(!(this.fsm&&this.fsm.transitions&&this.fsm.transitions[toState]))return!0;return _(this.fsm.transitions[toState]).contains(fromState)},validTransitionsFrom:function(fromState){if(!this.fsm||!this.fsm.transitions)return[];var transitions=this.fsm.transitions;return _(transitions).keys().filter(function(key){return _(transitions[key]).include(fromState)})},validTransitionsTo:function(toState){if(!(this.fsm&&this.fsm.transitions&&this.fsm.transitions[toState]))return[];return this.fsm.transitions[toState].concat()},ensureState:function(){if(!this.isState.apply(this,arguments)){var states=Array.prototype.slice.call(arguments).map(function(state){return'"'+state+'"'});if(1===states.length)throw"Expected state to be "+states[0]+' but was "'+this.state()+'"';else{var statesString=_.initial(states).join(", ")+" or "+_.last(states);throw"Expected state to be one of "+statesString+' but was "'+this.state()+'"'}}return this},transition:function(toState,properties){var fromState=this.state();if(toState===fromState)throw'Attempting transition to existing state "'+toState+'"';if(!this.isValidState(toState))throw'Attempting transition to an invalid state "'+toState+'"';if(!this.isValidTransition(fromState,toState))throw'Transitioning to state "'+toState+'" from an invalid state "'+fromState+'"';return properties=_({}).extend(properties),properties[this.stateProperty]=toState,this.beforeTransition(fromState,toState),this.set(properties),this.afterTransition(fromState,toState),this.trigger("state:change",fromState,toState,this.stateProperty),this},transitionIfNot:function(toState){if(!this.isState(toState))this.transition(toState);return this},beforeTransition:function(fromState,toState){return this.trigger("transitioning",fromState,toState),this.trigger("transitioning:"+fromState+":"+toState),this},afterTransition:function(fromState,toState){if(this.logTransitions)logger.info('[FSM] Transitioned state from "'+fromState+'" to "'+toState+'"');return this.trigger("transitioned",fromState,toState),this.trigger("transitioned:"+fromState+":"+toState),this.trigger("state:exit:"+fromState,fromState,toState),this.trigger("state:enter:"+toState,fromState,toState),this}},fsm.FiniteStateMachineView={stateModelProperty:"stateModel",renderFsm:function(){this.fsm=this.fsm||{},this.fsm.elements={showHide:this.$("[data-state],[data-state-not]"),classToggle:this.$("[data-state-classes]")}},state:function(){if(!_(this).has(this.stateModelProperty))throw new Error('View has no state model "'+this.stateModelProperty+'"');var model=this[this.stateModelProperty];if(!_.isFunction(model.state))throw new Error('State model "'+this.stateModelProperty+'" has no state method');return model.state()},renderState:function(){var state=this.state(),showElSelectors=['[data-state~="'+state+'"]:not([data-state-not~="'+state+'"])'],hideElSelectors=['[data-state-not~="'+state+'"]:not([data-state~="'+state+'"])','[data-state]:not([data-state~="'+state+'"])'];if(this.lastState)showElSelectors.push('[data-state-not~="'+this.lastState+'"]:not([data-state-not~="'+state+'"])'),hideElSelectors.push('[data-state~="'+this.lastState+'"]:not([data-state~="'+state+'"])');var showEl=this.fsm.elements.showHide.filter(showElSelectors.join(",")),hideEl=this.fsm.elements.showHide.filter(hideElSelectors.join(","));this.transitionElements(hideEl,showEl),this.toggleClasses(),this.lastState=state},transitionElements:function(hideEl,showEl){hideEl.hide(),showEl.show()},toggleClasses:function(){var state=this.state();this.fsm.elements.classToggle.each(function(){var elem=$(this),parsedAttribute="state-classes-parsed";if(!elem.data(parsedAttribute)){var parsedOptions=JSON.parse(elem.attr("data-state-classes"));elem.data(parsedAttribute,parsedOptions)}var options=elem.data(parsedAttribute);_(options).chain().values().each(function(value){elem.removeClass(value)}),_(options).chain().keys().each(function(key){if(_(key.split(" ")).contains(state))elem.addClass(options[key])})})}},fsm}),define("bundles/phoenix/lib/view",["require","bundles/phoenix/lib/mixin","bundles/phoenix/lib/multitrackerMixin","bundles/phoenix/lib/viewMixin","js/lib/fsm","backbone"],function(require){var mixin=require("bundles/phoenix/lib/mixin"),MultitrackerMixin=require("bundles/phoenix/lib/multitrackerMixin"),ViewMixin=require("bundles/phoenix/lib/viewMixin"),fsm=require("js/lib/fsm"),Backbone=require("backbone"),PhoenixView=Backbone.View.extend();return mixin(PhoenixView.prototype,fsm.FiniteStateMachineView,MultitrackerMixin,ViewMixin),PhoenixView}),define("bundles/phoenix/template/layout/body",["require","bundles/phoenix/lib/view"],function(require){var PhoenixView=require("bundles/phoenix/lib/view"),Body=PhoenixView.extend({name:"body",className:"c-phoenix-template-body-container"});return Body}),define("js/vendor/normalize.v0-1-2",[],function(){function convertURIBase(uri,fromBase,toBase){if(uri.match(absUrlRegEx)||uri.match(protocolRegEx))return uri;uri=removeDoubleSlashes(uri);var toBaseProtocol=toBase.match(protocolRegEx),fromBaseProtocol=fromBase.match(protocolRegEx);if(fromBaseProtocol&&(!toBaseProtocol||toBaseProtocol[1]!=fromBaseProtocol[1]||toBaseProtocol[2]!=fromBaseProtocol[2]))return absoluteURI(uri,fromBase);else return relativeURI(absoluteURI(uri,fromBase),toBase)}function absoluteURI(uri,base){if("./"==uri.substr(0,2))uri=uri.substr(2);if(uri.match(absUrlRegEx)||uri.match(protocolRegEx))return uri;var baseParts=base.split("/"),uriParts=uri.split("/");for(baseParts.pop();curPart=uriParts.shift();)if(".."==curPart)baseParts.pop();else baseParts.push(curPart);return baseParts.join("/")}function relativeURI(uri,base){var baseParts=base.split("/");for(baseParts.pop(),base=baseParts.join("/")+"/",i=0;base.substr(i,1)==uri.substr(i,1);)i++;for(;"/"!=base.substr(i,1);)i--;base=base.substr(i+1),uri=uri.substr(i+1),baseParts=base.split("/");var uriParts=uri.split("/");for(out="";baseParts.shift();)out+="../";for(;curPart=uriParts.shift();)out+=curPart+"/";return out.substr(0,out.length-1)}var slashes=/([^:])\/+/g,removeDoubleSlashes=function(uri){return uri.replace(slashes,"$1/")},protocolRegEx=/[^\:\/]*:\/\/([^\/])*/,absUrlRegEx=/^(\/|data:)/,normalizeCSS=function(source,fromBase,toBase){fromBase=removeDoubleSlashes(fromBase),toBase=removeDoubleSlashes(toBase);for(var urlRegEx=/@import\s*("([^"]*)"|'([^']*)')|url\s*\(\s*(\s*"([^"]*)"|'([^']*)'|[^\)]*\s*)\s*\)/gi,result,url,source;result=urlRegEx.exec(source);){url=result[3]||result[2]||result[5]||result[6]||result[4];var newUrl;newUrl=convertURIBase(url,fromBase,toBase);var quoteLen=result[5]||result[6]?1:0;source=source.substr(0,urlRegEx.lastIndex-url.length-quoteLen-1)+newUrl+source.substr(urlRegEx.lastIndex-quoteLen-1),urlRegEx.lastIndex=urlRegEx.lastIndex+(newUrl.length-url.length)}return source};return normalizeCSS.convertURIBase=convertURIBase,normalizeCSS.absoluteURI=absoluteURI,normalizeCSS.relativeURI=relativeURI,normalizeCSS}),define("js/vendor/require.css.v0-1-2",[],function(){if("undefined"==typeof window)return{load:function(n,r,load){load()}};var head=document.getElementsByTagName("head")[0],engine=window.navigator.userAgent.match(/Trident\/([^ ;]*)|AppleWebKit\/([^ ;]*)|Opera\/([^ ;]*)|rv\:([^ ;]*)(.*?)Gecko\/([^ ;]*)|MSIE\s([^ ;]*)/)||0,useImportLoad=!1,useOnload=!0;if(engine[1]||engine[7])useImportLoad=parseInt(engine[1])<6||parseInt(engine[7])<=9;else if(engine[2])useOnload=!1;else if(engine[4])useImportLoad=parseInt(engine[4])<18;var cssAPI={};cssAPI.pluginBuilder="./css-builder.v0-1-2";var curStyle,curSheet,createStyle=function(){curStyle=document.createElement("style"),head.appendChild(curStyle),curSheet=curStyle.styleSheet||curStyle.sheet},ieCnt=0,ieLoads=[],ieCurCallback,createIeLoad=function(url){if(ieCnt++,32==ieCnt)createStyle(),ieCnt=0;curSheet.addImport(url),curStyle.onload=processIeLoad},processIeLoad=function(){ieCurCallback();var nextLoad=ieLoads.shift();if(!nextLoad)return void(ieCurCallback=null);ieCurCallback=nextLoad[1],createIeLoad(nextLoad[0])},importLoad=function(url,callback){if(!curSheet||!curSheet.addImport)createStyle();if(curSheet&&curSheet.addImport)if(ieCurCallback)ieLoads.push([url,callback]);else createIeLoad(url),ieCurCallback=callback;else{curStyle.textContent='@import "'+url+'";';var loadInterval=setInterval(function(){try{curStyle.sheet.cssRules,clearInterval(loadInterval),callback()}catch(e){}},10)}},linkLoad=function(url,callback){var link=document.createElement("link");if(link.type="text/css",link.rel="stylesheet",useOnload)link.onload=function(){link.onload=function(){},setTimeout(callback,7)};else var loadInterval=setInterval(function(){for(var i=0;i<document.styleSheets.length;i++){var sheet=document.styleSheets[i];if(sheet.href==link.href)return clearInterval(loadInterval),callback()}},10);link.href=url,head.appendChild(link)};return cssAPI.normalize=function(name,normalize){if(".css"==name.substr(name.length-4,4))name=name.substr(0,name.length-4);return normalize(name)},cssAPI.load=function(cssId,req,load,config){(useImportLoad?importLoad:linkLoad)(req.toUrl(cssId+".css"),load)},cssAPI}),define("js/vendor/require.css.v0-1-2!bundles/phoenix/template/styl/index",[],function(){}),define("bundles/phoenix/template/layout/fullscreen",["require","bundles/phoenix/template/layout/fullscreen.html","backbone","jquery","bundles/phoenix/template/layout/body","css!bundles/phoenix/template/styl/index.css"],function(require){var template=require("bundles/phoenix/template/layout/fullscreen.html"),Backbone=require("backbone"),$=require("jquery");require("bundles/phoenix/template/layout/body"),require("css!bundles/phoenix/template/styl/index.css");var Page=Backbone.View.extend({name:"page",template:template,defaultBodyClass:"c-layout-fullscreen",bodyClasses:null,subregions:{body:{"bundles/phoenix/template/layout/body":{to:'[data-js="phoenix-template-fullscreen-body"]'}}},className:"c-phoenix-template-fullscreen-container",initialize:function(options){if(this.bodyClasses=[this.defaultBodyClass],options&&options.bodyClasses)this.bodyClasses.push(options.bodyClasses);this.on("view:appended",this.onAppended,this),this.on("view:closed",this.onClose,this)},onAppended:function(){$("body").addClass(this.getBodyClasses())},onClose:function(){$("body").removeClass(this.getBodyClasses())},render:function(){this.$el.html(this.template())},getBodyClasses:function(){return this.bodyClasses.join(" ")}});return Page}),define("pages/accomplishments/certificate/views/nls/body",{es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}),!function(wndw){var jadify=function(jade,_t,_h){var yudify=function template(locals){var buf=[],jade_mixins={},jade_interp,locals_for_with=locals||{};return function(pdfUrl,_t){buf.push('<div class="c-accomplishments-certificate"><div data-js="accomplishments-certificate-header"></div><div class="c-accomplishments-certificate-body-container bt3-row"><div data-js="accomplishments-certificate-body" class="c-accomplishments-certificate-body"><object data-js="certificate-pdf"'+jade.attr("data",pdfUrl,!0,!1)+' type="application/pdf" width="100%" height="100%"><p data-js="no-pdf" class="c-accomplishments-certificate-nopdf">'+(null==(jade_interp=_t("It appears you don't have a PDF plugin for this browser. You can&nbsp;"))?"":jade_interp)+"<a"+jade.attr("href",pdfUrl,!0,!1)+jade.attr("download",pdfUrl,!0,!1)+' target="_blank" class="c-accomplishments-certificate-pdflink"><u>'+jade.escape(null==(jade_interp=_t("click here to download the PDF file."))?"":jade_interp)+"</u></a></p></object></div></div></div>")}.call(this,"pdfUrl"in locals_for_with?locals_for_with.pdfUrl:"undefined"!=typeof pdfUrl?pdfUrl:void 0,"_t"in locals_for_with?locals_for_with._t:"undefined"!=typeof _t?_t:void 0),buf.join("")};return function(locals){if(locals)if(locals._t)_t=locals._t.merge(_t);return yudify(locals)}};if("function"==typeof define&&define.amd)define("pages/accomplishments/certificate/views/body.html",["js/vendor/jade","i18n!pages/accomplishments/certificate/views/nls/body"],function(jade,_t){var _h;return jadify(jade,_t,_h)});else wndw.jade.templates["pages.accomplishments.certificate.views.body"]=jadify(wndw.jade.helpers)}(window),define("pages/accomplishments/certificate/views/body",["require","jquery","bundles/phoenix/lib/view","pages/accomplishments/certificate/views/body.html"],function(require){var $=require("jquery"),PhoenixView=require("bundles/phoenix/lib/view"),template=require("pages/accomplishments/certificate/views/body.html"),CertificateBody=PhoenixView.extend({name:"body",template:template,initialize:function(options){this.pdfUrl=options.pdfUrl},templateOptions:function(){return{pdfUrl:this.pdfUrl}},postRender:function(){var headerHeight=this.$$("accomplishments-certificate-header").height();this.$$("accomplishments-certificate-body").height($(window).height()-headerHeight)}});return CertificateBody}),!function(window,undefined){var _window=window,_document=_window.document,_navigator=_window.navigator,_setTimeout=_window.setTimeout,_encodeURIComponent=_window.encodeURIComponent,_ActiveXObject=_window.ActiveXObject,_Error=_window.Error,_parseInt=_window.Number.parseInt||_window.parseInt,_parseFloat=_window.Number.parseFloat||_window.parseFloat,_isNaN=_window.Number.isNaN||_window.isNaN,_round=_window.Math.round,_now=_window.Date.now,_keys=_window.Object.keys,_defineProperty=_window.Object.defineProperty,_hasOwn=_window.Object.prototype.hasOwnProperty,_slice=_window.Array.prototype.slice,_unwrap=function(){var unwrapper=function(el){return el};if("function"==typeof _window.wrap&&"function"==typeof _window.unwrap)try{var div=_document.createElement("div"),unwrappedDiv=_window.unwrap(div);if(1===div.nodeType&&unwrappedDiv&&1===unwrappedDiv.nodeType)unwrapper=_window.unwrap}catch(e){}return unwrapper}(),_args=function(argumentsObj){return _slice.call(argumentsObj,0)},_extend=function(){var i,len,arg,prop,src,copy,args=_args(arguments),target=args[0]||{};for(i=1,len=args.length;len>i;i++)if(null!=(arg=args[i]))for(prop in arg)if(_hasOwn.call(arg,prop))if(src=target[prop],copy=arg[prop],target!==copy&&copy!==undefined)target[prop]=copy;return target},_deepCopy=function(source){var copy,i,len,prop;if("object"!=typeof source||null==source)copy=source;else if("number"==typeof source.length){for(copy=[],i=0,len=source.length;len>i;i++)if(_hasOwn.call(source,i))copy[i]=_deepCopy(source[i])}else{copy={};for(prop in source)if(_hasOwn.call(source,prop))copy[prop]=_deepCopy(source[prop])}return copy},_pick=function(obj,keys){for(var newObj={},i=0,len=keys.length;len>i;i++)if(keys[i]in obj)newObj[keys[i]]=obj[keys[i]];return newObj},_omit=function(obj,keys){var newObj={};for(var prop in obj)if(-1===keys.indexOf(prop))newObj[prop]=obj[prop];return newObj},_deleteOwnProperties=function(obj){if(obj)for(var prop in obj)if(_hasOwn.call(obj,prop))delete obj[prop];return obj},_containedBy=function(el,ancestorEl){if(el&&1===el.nodeType&&el.ownerDocument&&ancestorEl&&(1===ancestorEl.nodeType&&ancestorEl.ownerDocument&&ancestorEl.ownerDocument===el.ownerDocument||9===ancestorEl.nodeType&&!ancestorEl.ownerDocument&&ancestorEl===el.ownerDocument))do{if(el===ancestorEl)return!0;el=el.parentNode}while(el);return!1},_getDirPathOfUrl=function(url){var dir;if("string"==typeof url&&url)dir=url.split("#")[0].split("?")[0],dir=url.slice(0,url.lastIndexOf("/")+1);return dir},_getCurrentScriptUrlFromErrorStack=function(stack){var url,matches;if("string"==typeof stack&&stack)if(matches=stack.match(/^(?:|[^:@]*@|.+\)@(?=http[s]?|file)|.+?\s+(?: at |@)(?:[^:\(]+ )*[\(]?)((?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/),matches&&matches[1])url=matches[1];else if(matches=stack.match(/\)@((?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/),matches&&matches[1])url=matches[1];return url},_getCurrentScriptUrlFromError=function(){var url,err;try{throw new _Error}catch(e){err=e}if(err)url=err.sourceURL||err.fileName||_getCurrentScriptUrlFromErrorStack(err.stack);return url},_getCurrentScriptUrl=function(){var jsPath,scripts,i;if(_document.currentScript&&(jsPath=_document.currentScript.src))return jsPath;if(scripts=_document.getElementsByTagName("script"),1===scripts.length)return scripts[0].src||undefined;if("readyState"in scripts[0])for(i=scripts.length;i--;)if("interactive"===scripts[i].readyState&&(jsPath=scripts[i].src))return jsPath;if("loading"===_document.readyState&&(jsPath=scripts[scripts.length-1].src))return jsPath;if(jsPath=_getCurrentScriptUrlFromError())return jsPath;return undefined},_getUnanimousScriptParentDir=function(){var i,jsDir,jsPath,scripts=_document.getElementsByTagName("script");for(i=scripts.length;i--;){if(!(jsPath=scripts[i].src)){jsDir=null;break}if(jsPath=_getDirPathOfUrl(jsPath),null==jsDir)jsDir=jsPath;else if(jsDir!==jsPath){jsDir=null;break}}return jsDir||undefined},_getDefaultSwfPath=function(){var jsDir=_getDirPathOfUrl(_getCurrentScriptUrl())||_getUnanimousScriptParentDir()||"";return jsDir+"ZeroClipboard.swf"},_flashState={bridge:null,version:"0.0.0",pluginType:"unknown",disabled:null,outdated:null,unavailable:null,deactivated:null,overdue:null,ready:null},_minimumFlashVersion="11.0.0",_handlers={},_currentElement,_copyTarget,_clipData={},_clipDataFormatMap=null,_eventMessages={ready:"Flash communication is established",error:{"flash-disabled":"Flash is disabled or not installed","flash-outdated":"Flash is too outdated to support ZeroClipboard","flash-unavailable":"Flash is unable to communicate bidirectionally with JavaScript","flash-deactivated":"Flash is too outdated for your browser and/or is configured as click-to-activate","flash-overdue":"Flash communication was established but NOT within the acceptable time limit"}},_globalConfig={swfPath:_getDefaultSwfPath(),trustedDomains:window.location.host?[window.location.host]:[],cacheBust:!0,forceEnhancedClipboard:!1,flashLoadTimeout:3e4,autoActivate:!0,bubbleEvents:!0,containerId:"global-zeroclipboard-html-bridge",containerClass:"global-zeroclipboard-container",swfObjectId:"global-zeroclipboard-flash-bridge",hoverClass:"zeroclipboard-is-hover",activeClass:"zeroclipboard-is-active",forceHandCursor:!1,title:null,zIndex:999999999},_config=function(options){if("object"==typeof options&&null!==options)for(var prop in options)if(_hasOwn.call(options,prop))if(/^(?:forceHandCursor|title|zIndex|bubbleEvents)$/.test(prop))_globalConfig[prop]=options[prop];else if(null==_flashState.bridge)if("containerId"===prop||"swfObjectId"===prop)if(_isValidHtml4Id(options[prop]))_globalConfig[prop]=options[prop];else throw new Error("The specified `"+prop+"` value is not valid as an HTML4 Element ID");else _globalConfig[prop]=options[prop];if("string"==typeof options&&options){if(_hasOwn.call(_globalConfig,options))return _globalConfig[options];return}return _deepCopy(_globalConfig)},_state=function(){return{browser:_pick(_navigator,["userAgent","platform","appName"]),flash:_omit(_flashState,["bridge"]),zeroclipboard:{version:ZeroClipboard.version,config:ZeroClipboard.config()}}},_isFlashUnusable=function(){return!!(_flashState.disabled||_flashState.outdated||_flashState.unavailable||_flashState.deactivated)},_on=function(eventType,listener){var i,len,events,added={};if("string"==typeof eventType&&eventType)events=eventType.toLowerCase().split(/\s+/);else if("object"==typeof eventType&&eventType&&"undefined"==typeof listener)for(i in eventType)if(_hasOwn.call(eventType,i)&&"string"==typeof i&&i&&"function"==typeof eventType[i])ZeroClipboard.on(i,eventType[i]);if(events&&events.length){for(i=0,len=events.length;len>i;i++){if(eventType=events[i].replace(/^on/,""),added[eventType]=!0,!_handlers[eventType])_handlers[eventType]=[];_handlers[eventType].push(listener)}if(added.ready&&_flashState.ready)ZeroClipboard.emit({type:"ready"});if(added.error){var errorTypes=["disabled","outdated","unavailable","deactivated","overdue"];for(i=0,len=errorTypes.length;len>i;i++)if(_flashState[errorTypes[i]]===!0){ZeroClipboard.emit({type:"error",name:"flash-"+errorTypes[i]});break}}}return ZeroClipboard},_off=function(eventType,listener){var i,len,foundIndex,events,perEventHandlers;if(0===arguments.length)events=_keys(_handlers);else if("string"==typeof eventType&&eventType)events=eventType.split(/\s+/);else if("object"==typeof eventType&&eventType&&"undefined"==typeof listener)for(i in eventType)if(_hasOwn.call(eventType,i)&&"string"==typeof i&&i&&"function"==typeof eventType[i])ZeroClipboard.off(i,eventType[i]);if(events&&events.length)for(i=0,len=events.length;len>i;i++)if(eventType=events[i].toLowerCase().replace(/^on/,""),perEventHandlers=_handlers[eventType],perEventHandlers&&perEventHandlers.length)if(listener)for(foundIndex=perEventHandlers.indexOf(listener);-1!==foundIndex;)perEventHandlers.splice(foundIndex,1),foundIndex=perEventHandlers.indexOf(listener,foundIndex);else perEventHandlers.length=0;return ZeroClipboard},_listeners=function(eventType){var copy;if("string"==typeof eventType&&eventType)copy=_deepCopy(_handlers[eventType])||null;else copy=_deepCopy(_handlers);return copy},_emit=function(event){var eventCopy,returnVal,tmp;if(event=_createEvent(event),!event)return;if(_preprocessEvent(event))return;if("ready"===event.type&&_flashState.overdue===!0)return ZeroClipboard.emit({type:"error",name:"flash-overdue"});if(eventCopy=_extend({},event),_dispatchCallbacks.call(this,eventCopy),"copy"===event.type)tmp=_mapClipDataToFlash(_clipData),returnVal=tmp.data,_clipDataFormatMap=tmp.formatMap;return returnVal},_create=function(){if("boolean"!=typeof _flashState.ready)_flashState.ready=!1;if(!ZeroClipboard.isFlashUnusable()&&null===_flashState.bridge){var maxWait=_globalConfig.flashLoadTimeout;if("number"==typeof maxWait&&maxWait>=0)_setTimeout(function(){if("boolean"!=typeof _flashState.deactivated)_flashState.deactivated=!0;if(_flashState.deactivated===!0)ZeroClipboard.emit({type:"error",name:"flash-deactivated"})},maxWait);_flashState.overdue=!1,_embedSwf()}},_destroy=function(){ZeroClipboard.clearData(),ZeroClipboard.blur(),ZeroClipboard.emit("destroy"),_unembedSwf(),ZeroClipboard.off()},_setData=function(format,data){var dataObj;if("object"==typeof format&&format&&"undefined"==typeof data)dataObj=format,ZeroClipboard.clearData();else if("string"==typeof format&&format)dataObj={},dataObj[format]=data;else return;for(var dataFormat in dataObj)if("string"==typeof dataFormat&&dataFormat&&_hasOwn.call(dataObj,dataFormat)&&"string"==typeof dataObj[dataFormat]&&dataObj[dataFormat])_clipData[dataFormat]=dataObj[dataFormat]},_clearData=function(format){if("undefined"==typeof format)_deleteOwnProperties(_clipData),_clipDataFormatMap=null;else if("string"==typeof format&&_hasOwn.call(_clipData,format))delete _clipData[format]},_getData=function(format){if("undefined"==typeof format)return _deepCopy(_clipData);else if("string"==typeof format&&_hasOwn.call(_clipData,format))return _clipData[format]},_focus=function(element){if(!element||1!==element.nodeType)return;if(_currentElement)if(_removeClass(_currentElement,_globalConfig.activeClass),_currentElement!==element)_removeClass(_currentElement,_globalConfig.hoverClass);_currentElement=element,_addClass(element,_globalConfig.hoverClass);
var newTitle=element.getAttribute("title")||_globalConfig.title;if("string"==typeof newTitle&&newTitle){var htmlBridge=_getHtmlBridge(_flashState.bridge);if(htmlBridge)htmlBridge.setAttribute("title",newTitle)}var useHandCursor=_globalConfig.forceHandCursor===!0||"pointer"===_getStyle(element,"cursor");_setHandCursor(useHandCursor),_reposition()},_blur=function(){var htmlBridge=_getHtmlBridge(_flashState.bridge);if(htmlBridge)htmlBridge.removeAttribute("title"),htmlBridge.style.left="0px",htmlBridge.style.top="-9999px",htmlBridge.style.width="1px",htmlBridge.style.top="1px";if(_currentElement)_removeClass(_currentElement,_globalConfig.hoverClass),_removeClass(_currentElement,_globalConfig.activeClass),_currentElement=null},_activeElement=function(){return _currentElement||null},_isValidHtml4Id=function(id){return"string"==typeof id&&id&&/^[A-Za-z][A-Za-z0-9_:\-\.]*$/.test(id)},_createEvent=function(event){var eventType;if("string"==typeof event&&event)eventType=event,event={};else if("object"==typeof event&&event&&"string"==typeof event.type&&event.type)eventType=event.type;if(!eventType)return;if(!event.target&&/^(copy|aftercopy|_click)$/.test(eventType.toLowerCase()))event.target=_copyTarget;_extend(event,{type:eventType.toLowerCase(),target:event.target||_currentElement||null,relatedTarget:event.relatedTarget||null,currentTarget:_flashState&&_flashState.bridge||null,timeStamp:event.timeStamp||_now()||null});var msg=_eventMessages[event.type];if("error"===event.type&&event.name&&msg)msg=msg[event.name];if(msg)event.message=msg;if("ready"===event.type)_extend(event,{target:null,version:_flashState.version});if("error"===event.type){if(/^flash-(disabled|outdated|unavailable|deactivated|overdue)$/.test(event.name))_extend(event,{target:null,minimumVersion:_minimumFlashVersion});if(/^flash-(outdated|unavailable|deactivated|overdue)$/.test(event.name))_extend(event,{version:_flashState.version})}if("copy"===event.type)event.clipboardData={setData:ZeroClipboard.setData,clearData:ZeroClipboard.clearData};if("aftercopy"===event.type)event=_mapClipResultsFromFlash(event,_clipDataFormatMap);if(event.target&&!event.relatedTarget)event.relatedTarget=_getRelatedTarget(event.target);return event=_addMouseData(event)},_getRelatedTarget=function(targetEl){var relatedTargetId=targetEl&&targetEl.getAttribute&&targetEl.getAttribute("data-clipboard-target");return relatedTargetId?_document.getElementById(relatedTargetId):null},_addMouseData=function(event){if(event&&/^_(?:click|mouse(?:over|out|down|up|move))$/.test(event.type)){var srcElement=event.target,fromElement="_mouseover"===event.type&&event.relatedTarget?event.relatedTarget:undefined,toElement="_mouseout"===event.type&&event.relatedTarget?event.relatedTarget:undefined,pos=_getDOMObjectPosition(srcElement),screenLeft=_window.screenLeft||_window.screenX||0,screenTop=_window.screenTop||_window.screenY||0,scrollLeft=_document.body.scrollLeft+_document.documentElement.scrollLeft,scrollTop=_document.body.scrollTop+_document.documentElement.scrollTop,pageX=pos.left+("number"==typeof event._stageX?event._stageX:0),pageY=pos.top+("number"==typeof event._stageY?event._stageY:0),clientX=pageX-scrollLeft,clientY=pageY-scrollTop,screenX=screenLeft+clientX,screenY=screenTop+clientY,moveX="number"==typeof event.movementX?event.movementX:0,moveY="number"==typeof event.movementY?event.movementY:0;delete event._stageX,delete event._stageY,_extend(event,{srcElement:srcElement,fromElement:fromElement,toElement:toElement,screenX:screenX,screenY:screenY,pageX:pageX,pageY:pageY,clientX:clientX,clientY:clientY,x:clientX,y:clientY,movementX:moveX,movementY:moveY,offsetX:0,offsetY:0,layerX:0,layerY:0})}return event},_shouldPerformAsync=function(event){var eventType=event&&"string"==typeof event.type&&event.type||"";return!/^(?:(?:before)?copy|destroy)$/.test(eventType)},_dispatchCallback=function(func,context,args,async){if(async)_setTimeout(function(){func.apply(context,args)},0);else func.apply(context,args)},_dispatchCallbacks=function(event){if("object"!=typeof event||!event||!event.type)return;var async=_shouldPerformAsync(event),wildcardTypeHandlers=_handlers["*"]||[],specificTypeHandlers=_handlers[event.type]||[],handlers=wildcardTypeHandlers.concat(specificTypeHandlers);if(handlers&&handlers.length){var i,len,func,context,eventCopy,originalContext=this;for(i=0,len=handlers.length;len>i;i++){if(func=handlers[i],context=originalContext,"string"==typeof func&&"function"==typeof _window[func])func=_window[func];if("object"==typeof func&&func&&"function"==typeof func.handleEvent)context=func,func=func.handleEvent;if("function"==typeof func)eventCopy=_extend({},event),_dispatchCallback(func,context,[eventCopy],async)}}return this},_preprocessEvent=function(event){var element=event.target||_currentElement||null,sourceIsSwf="swf"===event._source;delete event._source;var flashErrorNames=["flash-disabled","flash-outdated","flash-unavailable","flash-deactivated","flash-overdue"];switch(event.type){case"error":if(-1!==flashErrorNames.indexOf(event.name))_extend(_flashState,{disabled:"flash-disabled"===event.name,outdated:"flash-outdated"===event.name,unavailable:"flash-unavailable"===event.name,deactivated:"flash-deactivated"===event.name,overdue:"flash-overdue"===event.name,ready:!1});break;case"ready":var wasDeactivated=_flashState.deactivated===!0;_extend(_flashState,{disabled:!1,outdated:!1,unavailable:!1,deactivated:!1,overdue:wasDeactivated,ready:!wasDeactivated});break;case"beforecopy":_copyTarget=element;break;case"copy":var textContent,htmlContent,targetEl=event.relatedTarget;if(!_clipData["text/html"]&&!_clipData["text/plain"]&&targetEl&&(htmlContent=targetEl.value||targetEl.outerHTML||targetEl.innerHTML)&&(textContent=targetEl.value||targetEl.textContent||targetEl.innerText)){if(event.clipboardData.clearData(),event.clipboardData.setData("text/plain",textContent),htmlContent!==textContent)event.clipboardData.setData("text/html",htmlContent)}else if(!_clipData["text/plain"]&&event.target&&(textContent=event.target.getAttribute("data-clipboard-text")))event.clipboardData.clearData(),event.clipboardData.setData("text/plain",textContent);break;case"aftercopy":if(ZeroClipboard.clearData(),element&&element!==_safeActiveElement()&&element.focus)element.focus();break;case"_mouseover":if(ZeroClipboard.focus(element),_globalConfig.bubbleEvents===!0&&sourceIsSwf){if(element&&element!==event.relatedTarget&&!_containedBy(event.relatedTarget,element))_fireMouseEvent(_extend({},event,{type:"mouseenter",bubbles:!1,cancelable:!1}));_fireMouseEvent(_extend({},event,{type:"mouseover"}))}break;case"_mouseout":if(ZeroClipboard.blur(),_globalConfig.bubbleEvents===!0&&sourceIsSwf){if(element&&element!==event.relatedTarget&&!_containedBy(event.relatedTarget,element))_fireMouseEvent(_extend({},event,{type:"mouseleave",bubbles:!1,cancelable:!1}));_fireMouseEvent(_extend({},event,{type:"mouseout"}))}break;case"_mousedown":if(_addClass(element,_globalConfig.activeClass),_globalConfig.bubbleEvents===!0&&sourceIsSwf)_fireMouseEvent(_extend({},event,{type:event.type.slice(1)}));break;case"_mouseup":if(_removeClass(element,_globalConfig.activeClass),_globalConfig.bubbleEvents===!0&&sourceIsSwf)_fireMouseEvent(_extend({},event,{type:event.type.slice(1)}));break;case"_click":if(_copyTarget=null,_globalConfig.bubbleEvents===!0&&sourceIsSwf)_fireMouseEvent(_extend({},event,{type:event.type.slice(1)}));break;case"_mousemove":if(_globalConfig.bubbleEvents===!0&&sourceIsSwf)_fireMouseEvent(_extend({},event,{type:event.type.slice(1)}))}if(/^_(?:click|mouse(?:over|out|down|up|move))$/.test(event.type))return!0},_fireMouseEvent=function(event){if(!event||"string"!=typeof event.type||!event)return;var e,target=event.target||null,doc=target&&target.ownerDocument||_document,defaults={view:doc.defaultView||_window,canBubble:!0,cancelable:!0,detail:"click"===event.type?1:0,button:"number"==typeof event.which?event.which-1:"number"==typeof event.button?event.button:doc.createEvent?0:1},args=_extend(defaults,event);if(!target)return;if(doc.createEvent&&target.dispatchEvent)if(args=[args.type,args.canBubble,args.cancelable,args.view,args.detail,args.screenX,args.screenY,args.clientX,args.clientY,args.ctrlKey,args.altKey,args.shiftKey,args.metaKey,args.button,args.relatedTarget],e=doc.createEvent("MouseEvents"),e.initMouseEvent)e.initMouseEvent.apply(e,args),e._source="js",target.dispatchEvent(e)},_createHtmlBridge=function(){var container=_document.createElement("div");return container.id=_globalConfig.containerId,container.className=_globalConfig.containerClass,container.style.position="absolute",container.style.left="0px",container.style.top="-9999px",container.style.width="1px",container.style.height="1px",container.style.zIndex=""+_getSafeZIndex(_globalConfig.zIndex),container},_getHtmlBridge=function(flashBridge){for(var htmlBridge=flashBridge&&flashBridge.parentNode;htmlBridge&&"OBJECT"===htmlBridge.nodeName&&htmlBridge.parentNode;)htmlBridge=htmlBridge.parentNode;return htmlBridge||null},_embedSwf=function(){var len,flashBridge=_flashState.bridge,container=_getHtmlBridge(flashBridge);if(!flashBridge){var allowScriptAccess=_determineScriptAccess(_window.location.host,_globalConfig),allowNetworking="never"===allowScriptAccess?"none":"all",flashvars=_vars(_globalConfig),swfUrl=_globalConfig.swfPath+_cacheBust(_globalConfig.swfPath,_globalConfig);container=_createHtmlBridge();var divToBeReplaced=_document.createElement("div");container.appendChild(divToBeReplaced),_document.body.appendChild(container);var tmpDiv=_document.createElement("div"),oldIE="activex"===_flashState.pluginType;tmpDiv.innerHTML='<object id="'+_globalConfig.swfObjectId+'" name="'+_globalConfig.swfObjectId+'" width="100%" height="100%" '+(oldIE?'classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"':'type="application/x-shockwave-flash" data="'+swfUrl+'"')+">"+(oldIE?'<param name="movie" value="'+swfUrl+'"/>':"")+'<param name="allowScriptAccess" value="'+allowScriptAccess+'"/><param name="allowNetworking" value="'+allowNetworking+'"/><param name="menu" value="false"/><param name="wmode" value="transparent"/><param name="flashvars" value="'+flashvars+'"/></object>',flashBridge=tmpDiv.firstChild,tmpDiv=null,_unwrap(flashBridge).ZeroClipboard=ZeroClipboard,container.replaceChild(flashBridge,divToBeReplaced)}if(!flashBridge){if(flashBridge=_document[_globalConfig.swfObjectId],flashBridge&&(len=flashBridge.length))flashBridge=flashBridge[len-1];if(!flashBridge&&container)flashBridge=container.firstChild}return _flashState.bridge=flashBridge||null,flashBridge},_unembedSwf=function(){var flashBridge=_flashState.bridge;if(flashBridge){var htmlBridge=_getHtmlBridge(flashBridge);if(htmlBridge)if("activex"===_flashState.pluginType&&"readyState"in flashBridge)flashBridge.style.display="none",function removeSwfFromIE(){if(4===flashBridge.readyState){for(var prop in flashBridge)if("function"==typeof flashBridge[prop])flashBridge[prop]=null;if(flashBridge.parentNode)flashBridge.parentNode.removeChild(flashBridge);if(htmlBridge.parentNode)htmlBridge.parentNode.removeChild(htmlBridge)}else _setTimeout(removeSwfFromIE,10)}();else{if(flashBridge.parentNode)flashBridge.parentNode.removeChild(flashBridge);if(htmlBridge.parentNode)htmlBridge.parentNode.removeChild(htmlBridge)}_flashState.ready=null,_flashState.bridge=null,_flashState.deactivated=null}},_mapClipDataToFlash=function(clipData){var newClipData={},formatMap={};if("object"!=typeof clipData||!clipData)return;for(var dataFormat in clipData)if(dataFormat&&_hasOwn.call(clipData,dataFormat)&&"string"==typeof clipData[dataFormat]&&clipData[dataFormat])switch(dataFormat.toLowerCase()){case"text/plain":case"text":case"air:text":case"flash:text":newClipData.text=clipData[dataFormat],formatMap.text=dataFormat;break;case"text/html":case"html":case"air:html":case"flash:html":newClipData.html=clipData[dataFormat],formatMap.html=dataFormat;break;case"application/rtf":case"text/rtf":case"rtf":case"richtext":case"air:rtf":case"flash:rtf":newClipData.rtf=clipData[dataFormat],formatMap.rtf=dataFormat}return{data:newClipData,formatMap:formatMap}},_mapClipResultsFromFlash=function(clipResults,formatMap){if("object"!=typeof clipResults||!clipResults||"object"!=typeof formatMap||!formatMap)return clipResults;var newResults={};for(var prop in clipResults)if(_hasOwn.call(clipResults,prop)){if("success"!==prop&&"data"!==prop){newResults[prop]=clipResults[prop];continue}newResults[prop]={};var tmpHash=clipResults[prop];for(var dataFormat in tmpHash)if(dataFormat&&_hasOwn.call(tmpHash,dataFormat)&&_hasOwn.call(formatMap,dataFormat))newResults[prop][formatMap[dataFormat]]=tmpHash[dataFormat]}return newResults},_cacheBust=function(path,options){var cacheBust=null==options||options&&options.cacheBust===!0;if(cacheBust)return(-1===path.indexOf("?")?"?":"&")+"noCache="+_now();else return""},_vars=function(options){var i,len,domain,domains,str="",trustedOriginsExpanded=[];if(options.trustedDomains)if("string"==typeof options.trustedDomains)domains=[options.trustedDomains];else if("object"==typeof options.trustedDomains&&"length"in options.trustedDomains)domains=options.trustedDomains;if(domains&&domains.length)for(i=0,len=domains.length;len>i;i++)if(_hasOwn.call(domains,i)&&domains[i]&&"string"==typeof domains[i]){if(domain=_extractDomain(domains[i]),!domain)continue;if("*"===domain){trustedOriginsExpanded.length=0,trustedOriginsExpanded.push(domain);break}trustedOriginsExpanded.push.apply(trustedOriginsExpanded,[domain,"//"+domain,_window.location.protocol+"//"+domain])}if(trustedOriginsExpanded.length)str+="trustedOrigins="+_encodeURIComponent(trustedOriginsExpanded.join(","));if(options.forceEnhancedClipboard===!0)str+=(str?"&":"")+"forceEnhancedClipboard=true";if("string"==typeof options.swfObjectId&&options.swfObjectId)str+=(str?"&":"")+"swfObjectId="+_encodeURIComponent(options.swfObjectId);return str},_extractDomain=function(originOrUrl){if(null==originOrUrl||""===originOrUrl)return null;if(originOrUrl=originOrUrl.replace(/^\s+|\s+$/g,""),""===originOrUrl)return null;var protocolIndex=originOrUrl.indexOf("//");originOrUrl=-1===protocolIndex?originOrUrl:originOrUrl.slice(protocolIndex+2);var pathIndex=originOrUrl.indexOf("/");if(originOrUrl=-1===pathIndex?originOrUrl:-1===protocolIndex||0===pathIndex?null:originOrUrl.slice(0,pathIndex),originOrUrl&&".swf"===originOrUrl.slice(-4).toLowerCase())return null;return originOrUrl||null},_determineScriptAccess=function(){var _extractAllDomains=function(origins){var i,len,tmp,resultsArray=[];if("string"==typeof origins)origins=[origins];if("object"!=typeof origins||!origins||"number"!=typeof origins.length)return resultsArray;for(i=0,len=origins.length;len>i;i++)if(_hasOwn.call(origins,i)&&(tmp=_extractDomain(origins[i]))){if("*"===tmp){resultsArray.length=0,resultsArray.push("*");break}if(-1===resultsArray.indexOf(tmp))resultsArray.push(tmp)}return resultsArray};return function(currentDomain,configOptions){var swfDomain=_extractDomain(configOptions.swfPath);if(null===swfDomain)swfDomain=currentDomain;var trustedDomains=_extractAllDomains(configOptions.trustedDomains),len=trustedDomains.length;if(len>0){if(1===len&&"*"===trustedDomains[0])return"always";if(-1!==trustedDomains.indexOf(currentDomain)){if(1===len&&currentDomain===swfDomain)return"sameDomain";return"always"}}return"never"}}(),_safeActiveElement=function(){try{return _document.activeElement}catch(err){return null}},_addClass=function(element,value){if(!element||1!==element.nodeType)return element;if(element.classList){if(!element.classList.contains(value))element.classList.add(value);return element}if(value&&"string"==typeof value){var classNames=(value||"").split(/\s+/);if(1===element.nodeType)if(!element.className)element.className=value;else{for(var className=" "+element.className+" ",setClass=element.className,c=0,cl=classNames.length;cl>c;c++)if(className.indexOf(" "+classNames[c]+" ")<0)setClass+=" "+classNames[c];element.className=setClass.replace(/^\s+|\s+$/g,"")}}return element},_removeClass=function(element,value){if(!element||1!==element.nodeType)return element;if(element.classList){if(element.classList.contains(value))element.classList.remove(value);return element}if("string"==typeof value&&value){var classNames=value.split(/\s+/);if(1===element.nodeType&&element.className){for(var className=(" "+element.className+" ").replace(/[\n\t]/g," "),c=0,cl=classNames.length;cl>c;c++)className=className.replace(" "+classNames[c]+" "," ");element.className=className.replace(/^\s+|\s+$/g,"")}}return element},_getStyle=function(el,prop){var value=_window.getComputedStyle(el,null).getPropertyValue(prop);if("cursor"===prop)if(!value||"auto"===value)if("A"===el.nodeName)return"pointer";return value},_getZoomFactor=function(){var rect,physicalWidth,logicalWidth,zoomFactor=1;if("function"==typeof _document.body.getBoundingClientRect)rect=_document.body.getBoundingClientRect(),physicalWidth=rect.right-rect.left,logicalWidth=_document.body.offsetWidth,zoomFactor=_round(physicalWidth/logicalWidth*100)/100;return zoomFactor},_getDOMObjectPosition=function(obj){var info={left:0,top:0,width:0,height:0};if(obj.getBoundingClientRect){var rect=obj.getBoundingClientRect(),pageXOffset,pageYOffset,zoomFactor;if("pageXOffset"in _window&&"pageYOffset"in _window)pageXOffset=_window.pageXOffset,pageYOffset=_window.pageYOffset;else zoomFactor=_getZoomFactor(),pageXOffset=_round(_document.documentElement.scrollLeft/zoomFactor),pageYOffset=_round(_document.documentElement.scrollTop/zoomFactor);var leftBorderWidth=_document.documentElement.clientLeft||0,topBorderWidth=_document.documentElement.clientTop||0;info.left=rect.left+pageXOffset-leftBorderWidth,info.top=rect.top+pageYOffset-topBorderWidth,info.width="width"in rect?rect.width:rect.right-rect.left,info.height="height"in rect?rect.height:rect.bottom-rect.top}return info},_reposition=function(){var htmlBridge;if(_currentElement&&(htmlBridge=_getHtmlBridge(_flashState.bridge))){var pos=_getDOMObjectPosition(_currentElement);_extend(htmlBridge.style,{width:pos.width+"px",height:pos.height+"px",top:pos.top+"px",left:pos.left+"px",zIndex:""+_getSafeZIndex(_globalConfig.zIndex)})}},_setHandCursor=function(enabled){if(_flashState.ready===!0)if(_flashState.bridge&&"function"==typeof _flashState.bridge.setHandCursor)_flashState.bridge.setHandCursor(enabled);else _flashState.ready=!1},_getSafeZIndex=function(val){if(/^(?:auto|inherit)$/.test(val))return val;var zIndex;if("number"==typeof val&&!_isNaN(val))zIndex=val;else if("string"==typeof val)zIndex=_getSafeZIndex(_parseInt(val,10));return"number"==typeof zIndex?zIndex:"auto"},_detectFlashSupport=function(ActiveXObject){function parseFlashVersion(desc){var matches=desc.match(/[\d]+/g);return matches.length=3,matches.join(".")}function isPepperFlash(flashPlayerFileName){return!!flashPlayerFileName&&(flashPlayerFileName=flashPlayerFileName.toLowerCase())&&(/^(pepflashplayer\.dll|libpepflashplayer\.so|pepperflashplayer\.plugin)$/.test(flashPlayerFileName)||"chrome.plugin"===flashPlayerFileName.slice(-13))}function inspectPlugin(plugin){if(plugin){if(hasFlash=!0,plugin.version)flashVersion=parseFlashVersion(plugin.version);if(!flashVersion&&plugin.description)flashVersion=parseFlashVersion(plugin.description);if(plugin.filename)isPPAPI=isPepperFlash(plugin.filename)}}var plugin,ax,mimeType,hasFlash=!1,isActiveX=!1,isPPAPI=!1,flashVersion="";if(_navigator.plugins&&_navigator.plugins.length){if(plugin=_navigator.plugins["Shockwave Flash"],inspectPlugin(plugin),_navigator.plugins["Shockwave Flash 2.0"])hasFlash=!0,flashVersion="2.0.0.11"}else if(_navigator.mimeTypes&&_navigator.mimeTypes.length)mimeType=_navigator.mimeTypes["application/x-shockwave-flash"],plugin=mimeType&&mimeType.enabledPlugin,inspectPlugin(plugin);else if("undefined"!=typeof ActiveXObject){isActiveX=!0;try{ax=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7"),hasFlash=!0,flashVersion=parseFlashVersion(ax.GetVariable("$version"))}catch(e1){try{ax=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),hasFlash=!0,flashVersion="6.0.21"}catch(e2){try{ax=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),hasFlash=!0,flashVersion=parseFlashVersion(ax.GetVariable("$version"))}catch(e3){isActiveX=!1}}}}_flashState.disabled=hasFlash!==!0,_flashState.outdated=flashVersion&&_parseFloat(flashVersion)<_parseFloat(_minimumFlashVersion),_flashState.version=flashVersion||"0.0.0",_flashState.pluginType=isPPAPI?"pepper":isActiveX?"activex":hasFlash?"netscape":"unknown"};_detectFlashSupport(_ActiveXObject);var ZeroClipboard=function(){if(!(this instanceof ZeroClipboard))return new ZeroClipboard;if("function"==typeof ZeroClipboard._createClient)ZeroClipboard._createClient.apply(this,_args(arguments))};_defineProperty(ZeroClipboard,"version",{value:"2.1.6",writable:!1,configurable:!0,enumerable:!0}),ZeroClipboard.config=function(){return _config.apply(this,_args(arguments))},ZeroClipboard.state=function(){return _state.apply(this,_args(arguments))},ZeroClipboard.isFlashUnusable=function(){return _isFlashUnusable.apply(this,_args(arguments))},ZeroClipboard.on=function(){return _on.apply(this,_args(arguments))},ZeroClipboard.off=function(){return _off.apply(this,_args(arguments))},ZeroClipboard.handlers=function(){return _listeners.apply(this,_args(arguments))},ZeroClipboard.emit=function(){return _emit.apply(this,_args(arguments))},ZeroClipboard.create=function(){return _create.apply(this,_args(arguments))},ZeroClipboard.destroy=function(){return _destroy.apply(this,_args(arguments))},ZeroClipboard.setData=function(){return _setData.apply(this,_args(arguments))},ZeroClipboard.clearData=function(){return _clearData.apply(this,_args(arguments))},ZeroClipboard.getData=function(){return _getData.apply(this,_args(arguments))},ZeroClipboard.focus=ZeroClipboard.activate=function(){return _focus.apply(this,_args(arguments))},ZeroClipboard.blur=ZeroClipboard.deactivate=function(){return _blur.apply(this,_args(arguments))},ZeroClipboard.activeElement=function(){return _activeElement.apply(this,_args(arguments))};var _clientIdCounter=0,_clientMeta={},_elementIdCounter=0,_elementMeta={},_mouseHandlers={};_extend(_globalConfig,{autoActivate:!0});var _clientConstructor=function(elements){var client=this;if(client.id=""+_clientIdCounter++,_clientMeta[client.id]={instance:client,elements:[],handlers:{}},elements)client.clip(elements);ZeroClipboard.on("*",function(event){return client.emit(event)}),ZeroClipboard.on("destroy",function(){client.destroy()}),ZeroClipboard.create()},_clientOn=function(eventType,listener){var i,len,events,added={},handlers=_clientMeta[this.id]&&_clientMeta[this.id].handlers;if("string"==typeof eventType&&eventType)events=eventType.toLowerCase().split(/\s+/);else if("object"==typeof eventType&&eventType&&"undefined"==typeof listener)for(i in eventType)if(_hasOwn.call(eventType,i)&&"string"==typeof i&&i&&"function"==typeof eventType[i])this.on(i,eventType[i]);if(events&&events.length){for(i=0,len=events.length;len>i;i++){if(eventType=events[i].replace(/^on/,""),added[eventType]=!0,!handlers[eventType])handlers[eventType]=[];handlers[eventType].push(listener)}if(added.ready&&_flashState.ready)this.emit({type:"ready",client:this});if(added.error){var errorTypes=["disabled","outdated","unavailable","deactivated","overdue"];for(i=0,len=errorTypes.length;len>i;i++)if(_flashState[errorTypes[i]]){this.emit({type:"error",name:"flash-"+errorTypes[i],client:this});break}}}return this},_clientOff=function(eventType,listener){var i,len,foundIndex,events,perEventHandlers,handlers=_clientMeta[this.id]&&_clientMeta[this.id].handlers;if(0===arguments.length)events=_keys(handlers);else if("string"==typeof eventType&&eventType)events=eventType.split(/\s+/);else if("object"==typeof eventType&&eventType&&"undefined"==typeof listener)for(i in eventType)if(_hasOwn.call(eventType,i)&&"string"==typeof i&&i&&"function"==typeof eventType[i])this.off(i,eventType[i]);if(events&&events.length)for(i=0,len=events.length;len>i;i++)if(eventType=events[i].toLowerCase().replace(/^on/,""),perEventHandlers=handlers[eventType],perEventHandlers&&perEventHandlers.length)if(listener)for(foundIndex=perEventHandlers.indexOf(listener);-1!==foundIndex;)perEventHandlers.splice(foundIndex,1),foundIndex=perEventHandlers.indexOf(listener,foundIndex);else perEventHandlers.length=0;return this},_clientListeners=function(eventType){var copy=null,handlers=_clientMeta[this.id]&&_clientMeta[this.id].handlers;if(handlers)if("string"==typeof eventType&&eventType)copy=handlers[eventType]?handlers[eventType].slice(0):[];else copy=_deepCopy(handlers);return copy},_clientEmit=function(event){if(_clientShouldEmit.call(this,event)){if("object"==typeof event&&event&&"string"==typeof event.type&&event.type)event=_extend({},event);var eventCopy=_extend({},_createEvent(event),{client:this});_clientDispatchCallbacks.call(this,eventCopy)}return this},_clientClip=function(elements){elements=_prepClip(elements);for(var i=0;i<elements.length;i++)if(_hasOwn.call(elements,i)&&elements[i]&&1===elements[i].nodeType){if(!elements[i].zcClippingId){if(elements[i].zcClippingId="zcClippingId_"+_elementIdCounter++,_elementMeta[elements[i].zcClippingId]=[this.id],_globalConfig.autoActivate===!0)_addMouseHandlers(elements[i])}else if(-1===_elementMeta[elements[i].zcClippingId].indexOf(this.id))_elementMeta[elements[i].zcClippingId].push(this.id);var clippedElements=_clientMeta[this.id]&&_clientMeta[this.id].elements;if(-1===clippedElements.indexOf(elements[i]))clippedElements.push(elements[i])}return this},_clientUnclip=function(elements){var meta=_clientMeta[this.id];if(!meta)return this;var clippedElements=meta.elements,arrayIndex;if("undefined"==typeof elements)elements=clippedElements.slice(0);else elements=_prepClip(elements);for(var i=elements.length;i--;)if(_hasOwn.call(elements,i)&&elements[i]&&1===elements[i].nodeType){for(arrayIndex=0;-1!==(arrayIndex=clippedElements.indexOf(elements[i],arrayIndex));)clippedElements.splice(arrayIndex,1);var clientIds=_elementMeta[elements[i].zcClippingId];if(clientIds){for(arrayIndex=0;-1!==(arrayIndex=clientIds.indexOf(this.id,arrayIndex));)clientIds.splice(arrayIndex,1);if(0===clientIds.length){if(_globalConfig.autoActivate===!0)_removeMouseHandlers(elements[i]);delete elements[i].zcClippingId}}}return this},_clientElements=function(){var meta=_clientMeta[this.id];return meta&&meta.elements?meta.elements.slice(0):[]},_clientDestroy=function(){this.unclip(),this.off(),delete _clientMeta[this.id]},_clientShouldEmit=function(event){if(!event||!event.type)return!1;if(event.client&&event.client!==this)return!1;var clippedEls=_clientMeta[this.id]&&_clientMeta[this.id].elements,hasClippedEls=!!clippedEls&&clippedEls.length>0,goodTarget=!event.target||hasClippedEls&&-1!==clippedEls.indexOf(event.target),goodRelTarget=event.relatedTarget&&hasClippedEls&&-1!==clippedEls.indexOf(event.relatedTarget),goodClient=event.client&&event.client===this;if(!(goodTarget||goodRelTarget||goodClient))return!1;return!0},_clientDispatchCallbacks=function(event){if("object"!=typeof event||!event||!event.type)return;var async=_shouldPerformAsync(event),wildcardTypeHandlers=_clientMeta[this.id]&&_clientMeta[this.id].handlers["*"]||[],specificTypeHandlers=_clientMeta[this.id]&&_clientMeta[this.id].handlers[event.type]||[],handlers=wildcardTypeHandlers.concat(specificTypeHandlers);if(handlers&&handlers.length){var i,len,func,context,eventCopy,originalContext=this;for(i=0,len=handlers.length;len>i;i++){if(func=handlers[i],context=originalContext,"string"==typeof func&&"function"==typeof _window[func])func=_window[func];if("object"==typeof func&&func&&"function"==typeof func.handleEvent)context=func,func=func.handleEvent;if("function"==typeof func)eventCopy=_extend({},event),_dispatchCallback(func,context,[eventCopy],async)}}return this},_prepClip=function(elements){if("string"==typeof elements)elements=[];return"number"!=typeof elements.length?[elements]:elements},_addMouseHandlers=function(element){if(!element||1!==element.nodeType)return;var _suppressMouseEvents=function(event){if(!event&&!(event=_window.event))return;if("js"!==event._source)event.stopImmediatePropagation(),event.preventDefault();delete event._source},_elementMouseOver=function(event){if(!event&&!(event=_window.event))return;_suppressMouseEvents(event),ZeroClipboard.focus(element)};element.addEventListener("mouseover",_elementMouseOver,!1),element.addEventListener("mouseout",_suppressMouseEvents,!1),element.addEventListener("mouseenter",_suppressMouseEvents,!1),element.addEventListener("mouseleave",_suppressMouseEvents,!1),element.addEventListener("mousemove",_suppressMouseEvents,!1),_mouseHandlers[element.zcClippingId]={mouseover:_elementMouseOver,mouseout:_suppressMouseEvents,mouseenter:_suppressMouseEvents,mouseleave:_suppressMouseEvents,mousemove:_suppressMouseEvents}},_removeMouseHandlers=function(element){if(!element||1!==element.nodeType)return;var mouseHandlers=_mouseHandlers[element.zcClippingId];if("object"!=typeof mouseHandlers||!mouseHandlers)return;for(var key,val,mouseEvents=["move","leave","enter","out","over"],i=0,len=mouseEvents.length;len>i;i++)if(key="mouse"+mouseEvents[i],val=mouseHandlers[key],"function"==typeof val)element.removeEventListener(key,val,!1);delete _mouseHandlers[element.zcClippingId]};if(ZeroClipboard._createClient=function(){_clientConstructor.apply(this,_args(arguments))},ZeroClipboard.prototype.on=function(){return _clientOn.apply(this,_args(arguments))},ZeroClipboard.prototype.off=function(){return _clientOff.apply(this,_args(arguments))},ZeroClipboard.prototype.handlers=function(){return _clientListeners.apply(this,_args(arguments))},ZeroClipboard.prototype.emit=function(){return _clientEmit.apply(this,_args(arguments))},ZeroClipboard.prototype.clip=function(){return _clientClip.apply(this,_args(arguments))},ZeroClipboard.prototype.unclip=function(){return _clientUnclip.apply(this,_args(arguments))},ZeroClipboard.prototype.elements=function(){return _clientElements.apply(this,_args(arguments))},ZeroClipboard.prototype.destroy=function(){return _clientDestroy.apply(this,_args(arguments))},ZeroClipboard.prototype.setText=function(text){return ZeroClipboard.setData("text/plain",text),this},ZeroClipboard.prototype.setHtml=function(html){return ZeroClipboard.setData("text/html",html),this},ZeroClipboard.prototype.setRichText=function(richText){return ZeroClipboard.setData("application/rtf",richText),this},ZeroClipboard.prototype.setData=function(){return ZeroClipboard.setData.apply(this,_args(arguments)),this},ZeroClipboard.prototype.clearData=function(){return ZeroClipboard.clearData.apply(this,_args(arguments)),this},ZeroClipboard.prototype.getData=function(){return ZeroClipboard.getData.apply(this,_args(arguments))},"function"==typeof define&&define.amd)define("bundles/zeroclipboard/ZeroClipboard.v2-1-6",[],function(){return ZeroClipboard});else if("object"==typeof module&&module&&"object"==typeof module.exports&&module.exports)module.exports=ZeroClipboard;else window.ZeroClipboard=ZeroClipboard}(function(){return this||window}()),define("bundles/zeroclipboard/coursera.zeroclipboard.v2-1-6",["require","jquery","bundles/zeroclipboard/ZeroClipboard.v2-1-6","js/app/config","js/lib/path"],function(require){var $=require("jquery"),ZeroClipboard=require("bundles/zeroclipboard/ZeroClipboard.v2-1-6"),config=require("js/app/config"),path=require("js/lib/path"),swfPath=path.join(config.url.app_assets,"bundles/zeroclipboard/ZeroClipboard.swf");ZeroClipboard.config({swfPath:swfPath});var _private={constants:{"data.clipboard":"clipboard.me"},getClipboard:function(el){return $(el).data(_private.constants["data.clipboard"])},makeClipboard:function(el){var $el=$(el),clipboard=new ZeroClipboard(el);return $el.data(_private.constants["data.clipboard"],clipboard),clipboard}},external=function(){if(!ZeroClipboard.isFlashUnusable())return _private.getClipboard.apply(null,arguments)||_private.makeClipboard.apply(this,arguments)
};return external.isEnabled=function(){return!ZeroClipboard.isFlashUnusable()},external}),define("pages/accomplishments/certificate/views/nls/header",{es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}),!function(wndw){var jadify=function(jade,_t,_h){var yudify=function template(locals){var buf=[],jade_mixins={},jade_interp,locals_for_with=locals||{};return function(_t,recordLink,certificateLink,zeroClipboardEnabled,pdfUrl){jade_mixins["c-copy-link"]=function(name,link,zeroClipboardEnabled){var block=this&&this.block,attributes=this&&this.attributes||{};if(zeroClipboardEnabled)buf.push('<div class="bt3-input-group"><input'+jade.attr("id",name,!0,!1)+' type="text"'+jade.attr("value",link,!0,!1)+' class="c-accomplishments-copylink bt3-form-control"/><strong'+jade.attr("data-clipboard-target",name,!0,!1)+jade.attr("data-js","zero-clipboard-copy "+name,!0,!1)+' class="c-accomplishments-copylink-button c-uppercase bt3-input-group-addon bt3-btn">'+jade.escape(null==(jade_interp=_t("Copy"))?"":jade_interp)+"</strong></div>");else buf.push("<input"+jade.attr("id",name,!0,!1)+' type="text"'+jade.attr("value",link,!0,!1)+' class="c-accomplishments-copylink bt3-form-control"/>')},buf.push('<div class="c-accomplishments-certificate-header bt3-row"><div class="c-accomplishments-certificate-header-content"><div class="c-accomplishments-certificate-left c-accomplishments-certificate-text bt3-col-md-2 bt3-col-xs-6"><a'+jade.attr("href",recordLink,!0,!1)+' data-js="accomplishments-link records-link" class="c-accomplishments-certificate-links"><span class="fa fa-chevron-left"></span>&nbsp;&nbsp;<span class="c-font-normal">'+jade.escape(null==(jade_interp=_t("Course Record"))?"":jade_interp)+'</span></a></div><div class="c-accomplishments-certificate-right bt3-col-md-8 bt3-text-right bt3-hidden-sm bt3-hidden-xs"><div class="c-accomplishments-certificate-copylink bt3-row"><div class="bt3-col-sm-5"><span class="c-accomplishments-certificate-text c-uppercase c-font-light bt3-small">'+jade.escape(null==(jade_interp=_t("Share Verified Certificate:"))?"":jade_interp)+'</span></div><div class="c-accomplishments-certificate-copylink-form bt3-col-sm-7">'),jade_mixins["c-copy-link"]("header-copylink",certificateLink,zeroClipboardEnabled),buf.push('</div></div></div><div class="bt3-col-md-2 bt3-col-xs-6 bt3-text-right"><a target="_blank"'+jade.attr("href",pdfUrl,!0,!1)+jade.attr("download",pdfUrl,!0,!1)+' data-js="download-pdf" class="c-accomplishments-certificate-links"><em class="c-accomplishments-certificate-text fa fa-download fa-2x"></em></a></div></div></div>')}.call(this,"_t"in locals_for_with?locals_for_with._t:"undefined"!=typeof _t?_t:void 0,"recordLink"in locals_for_with?locals_for_with.recordLink:"undefined"!=typeof recordLink?recordLink:void 0,"certificateLink"in locals_for_with?locals_for_with.certificateLink:"undefined"!=typeof certificateLink?certificateLink:void 0,"zeroClipboardEnabled"in locals_for_with?locals_for_with.zeroClipboardEnabled:"undefined"!=typeof zeroClipboardEnabled?zeroClipboardEnabled:void 0,"pdfUrl"in locals_for_with?locals_for_with.pdfUrl:"undefined"!=typeof pdfUrl?pdfUrl:void 0),buf.join("")};return function(locals){if(locals)if(locals._t)_t=locals._t.merge(_t);return yudify(locals)}};if("function"==typeof define&&define.amd)define("pages/accomplishments/certificate/views/header.html",["js/vendor/jade","i18n!pages/accomplishments/certificate/views/nls/header"],function(jade,_t){var _h;return jadify(jade,_t,_h)});else wndw.jade.templates["pages.accomplishments.certificate.views.header"]=jadify(wndw.jade.helpers)}(window),define("pages/accomplishments/certificate/views/header",["require","jquery","bundles/phoenix/lib/view","bundles/zeroclipboard/coursera.zeroclipboard.v2-1-6","pages/accomplishments/certificate/views/header.html"],function(require){var $=require("jquery"),PhoenixView=require("bundles/phoenix/lib/view"),ZeroClipboard=require("bundles/zeroclipboard/coursera.zeroclipboard.v2-1-6"),template=require("pages/accomplishments/certificate/views/header.html"),CertificateHeader=PhoenixView.extend({name:"header",template:template,multitracker:{namespace:"accomplishments.certificatePage",baseValues:["zeroClipboardEnabled","courseName","courseId","sessionId","achievementLevel","grade","pdfEnabled"],definitions:{zeroClipboardEnabled:function(){return ZeroClipboard.isEnabled()},courseName:function(){return this.courseRecord.get("course_name")},courseId:function(){return this.courseRecord.getCourseId()},sessionId:function(){return this.courseRecord.getSessionId()},achievementLevel:function(){return this.courseRecord.getAchievementLevel()},grade:function(){return this.courseRecord.getGrade()},pdfEnabled:function(){return!$('[data-js~="no-pdf"]').is(":visible")}},events:{"click.recordsBackLink":'click [data-js~="records-link"]',"click.shareCertificateCopyLink":'click [data-js~="header-copylink"]',"click.downloadPdfLink":'click [data-js~="download-pdf"]'}},initialize:function(options){this.courseRecord=options.courseRecord,this.pdfUrl=options.pdfUrl},templateOptions:function(){return{recordLink:this.courseRecord.getVerifyLink(),certificateLink:this.courseRecord.getSharedCertificateLink(),pdfUrl:this.pdfUrl,zeroClipboardEnabled:ZeroClipboard.isEnabled()}},postRender:function(){ZeroClipboard(this.$$("zero-clipboard-copy"))}});return CertificateHeader}),define("pages/accomplishments/certificate/entry",["require","origami","pages/accomplishments/constants","memoize!pages/accomplishments/common/promises/verifiedCourseRecord","bundles/phoenix/template/layout/fullscreen","pages/accomplishments/certificate/views/body","pages/accomplishments/certificate/views/header"],function(require){var origami=require("origami"),constants=require("pages/accomplishments/constants"),verifiedCourseRecordPromise=require("memoize!pages/accomplishments/common/promises/verifiedCourseRecord");require("bundles/phoenix/template/layout/fullscreen"),require("pages/accomplishments/certificate/views/body"),require("pages/accomplishments/certificate/views/header");var certificateEntry={open:function(code){verifiedCourseRecordPromise({code:code,includeGrade:!1}).then(function(verifiedCourseRecord){var pdfUrl=constants.getCertPdfUrl(verifiedCourseRecord.getVerifiedCertificateId());return origami.region.open({"bundles/phoenix/template/layout/fullscreen":{regions:{body:{"pages/accomplishments/certificate/views/body":{initialize:{pdfUrl:pdfUrl},to:'[data-js~="phoenix-template-fullscreen-body"]',regions:{header:{"pages/accomplishments/certificate/views/header":{to:'[data-js~="accomplishments-certificate-header"]',initialize:{courseRecord:verifiedCourseRecord,pdfUrl:pdfUrl}}}}}}}}})}).fail(function(){origami.router.trigger("error",404)}).done()}};return certificateEntry}),define("bundles/catalogP/api/api",["require","bundles/phoenix/lib/apiWrapper"],function(require){var API=require("bundles/phoenix/lib/apiWrapper");return API("/api/",{type:"rest","batch.enabled":!0})}),define("bundles/catalogP/api/api.promise",["require","bundles/catalogP/api/api","q"],function(require){var catalogApi=require("bundles/catalogP/api/api"),Q=require("q");return function(path){return Q(catalogApi.get(path))}}),define("bundles/catalogP/constants",["require","js/app/config"],function(require){var config=require("js/app/config");return{config:config,paymentsApi:"payments/redeem_free_course_voucher",accomplishments:{baseUrl:"/account/accomplishments"}}}),define("js/lib/coursera.redirect.v0-0-1",["require","js/app/config","js/vendor/jquery.v2-1","js/vendor/underscore.v1-6"],function(require){function auth(page,params){if(!_.isUndefined(params)){if(!_.isUndefined(params.r))params.post_redirect=params.r;var urlParams=$.param(_.omit(params,"r"));return page+"?"+urlParams.split("+").join("%20")}return page}function href(){return window.location.href}function pathname(){return window.location.pathname}function setPathname(newPath){window.location.pathname=newPath}function origin(){return window.location.origin}function redirectWithAuth(page,params){return window.location.replace(auth(page,params))}function redirectWithAuthToPath(path,params){return window.location.replace(auth(origin()+path,params))}function getQueryParams(){return window.location.search}function unversionUrl(url){var posAt=url.indexOf("@");if(posAt>=0)url=url.substring(0,posAt);return url}function setLocation(page){return window.location=page}function refresh(){window.location.reload()}function replaceUrl(newUrl){window.history.replaceState({},"",newUrl)}var config=require("js/app/config"),$=require("js/vendor/jquery.v2-1"),_=require("js/vendor/underscore.v1-6");return{auth:auth,href:href,pathname:pathname,setPathname:setPathname,redirectWithAuth:redirectWithAuth,redirectWithAuthToPath:redirectWithAuthToPath,unversionUrl:unversionUrl,setLocation:setLocation,refresh:refresh,getQueryParams:getQueryParams,replaceUrl:replaceUrl}}),define("pages/open-course/common/constants",["require","js/app/config","js/lib/coursera","js/lib/path","js/lib/coursera.redirect.v0-0-1"],function(require){var config=require("js/app/config"),Coursera=require("js/lib/coursera"),path=require("js/lib/path"),pathname=require("js/lib/coursera.redirect.v0-0-1").pathname,learnRoot="/learn",courseSlug="",rootPath,courseSlugMatch=pathname().match(/^(\/(?:learn|tools\/yoda|capstone|teach))(?:\/([^\/]*))?/);if(courseSlugMatch){if(rootPath=courseSlugMatch[1],courseSlugMatch.length>2&&void 0!==courseSlugMatch[2])courseSlug=courseSlugMatch[2]}else rootPath=learnRoot;return{config:config,rootPath:rootPath,learnRoot:learnRoot,teachRoot:"/teach/",adminEmailApi:"/api/openCourseAdminEmails.v1",openCourseApi:"/api/opencourse.v1",assessApi:"/api/assess/v1",assetApi:"/api/openCourseAssets.v1",peerAssignmentApi:"/api/peerAssignments.v1",sigTrackApi:"/api/sigtrack.v1",openCourseMembershipApi:"/api/openCourseMemberships.v1",reportsApi:"/api/reports.v1",courseRootPath:path.join(rootPath,courseSlug),courseSlug:courseSlug,courseRolesWithTeachAccess:["INSTRUCTOR","TEACHING_STAFF","PARTNER_ADMIN"],assessments:{defaultPassingFraction:.8},assets:{rootPath:Coursera.config.url.assets},signatureTrack:{photoDisapproved:-1,keystrokeAutosubmitDelay:500,transitionToWebcamDuration:3e3,messageScrollToMargin:50,defaultErrorMessageDuration:4e3,firefoxWebcamHelpImage:path.join(Coursera.config.url.assets,"/images/signature/firefox_html5_webcam_help.png"),chromeWebcamHelpImage:path.join(Coursera.config.url.assets,"/images/signature/chrome_html5_webcam_help.png"),swfFile:path.join(Coursera.config.url.base,"/site-static/swf/sAS3Cam.swf"),keystrokeAuthBackgroundImage:path.join(Coursera.config.url.assets,"/images/signature/keystroke_auth_background.png"),webcamConstraintImage:path.join(Coursera.config.url.assets,"/images/webcam/face_placeholder_L.png"),webcamConstraintImageWidthPercent:16,webcamConstraintImageMarginPercent:20,smallImageScaleFactor:.6,webcamWidth:530,webcamAspectRatio:.75,coursePaywalls:{childnutrition:20},paywallAnimationDuration:250,verificationSteps:{keystrokes:"KeystrokeRecognition",webcam:"FaceRecognition",webcamManual:"Delayed",authenticated:"Success"},vcBannerImg:"/static/images/open-course/cert_icon.png"},gallery:{maxTitleLength:60},progressCompleted:"Completed",progressStarted:"Started",progressNotStarted:"NotStarted",verifiedCertificateImage:"/static/images/signature/template-cert-preview.png",vcLandingBulletOne:"/static/images/open-course/LandingPage_BulletedNumbers_01.png",vcLandingBulletTwo:"/static/images/open-course/LandingPage_BulletedNumbers_02.png",vcLandingBulletThree:"/static/images/open-course/LandingPage_BulletedNumbers_03.png",vcUsPrice:49,vcDefaultCurrency:840,videoEndPercentage:.9,defaultVideoPlayerWidth:"960px",defaultVideoPlayerHeight:"540px",defaultVideoPlayerResolution:"540p",videoPlayerAspectRatio:9/16,videoPlayerMinHeight:240,adminButtonsTopMargin:30,adminJsonEditorDivTopMargin:40,learnerCountsReportName:"activity_learner_counts",showLessonProgressBar:{development:["childnutrition"],staging:["childnutrition"],production:["competitivestrategy"]},completionExperiment:{development:["childnutrition"],staging:["childnutrition"],production:["calculus1"]}}}),define("bundles/catalogP/models/catalogModel",["require","memoize!bundles/catalogP/api/api.promise","backbone-associations","underscore","q"],function(require){var catalogData=require("memoize!bundles/catalogP/api/api.promise"),Backbone=require("backbone-associations"),_=require("underscore"),Q=require("q"),CatalogModel=Backbone.AssociatedModel.extend({defaults:{fields:[],includes:{},resourceName:""},getIncludeAttribute:function(include){if(_(this.includes).has(include))return this.includes[include].attribute;else return include},getIncludeResource:function(include){if(_(this.includes).has(include))return this.includes[include].resource;else return void 0},sync:function(method,model,options){if("read"===method){var promise=catalogData(model.url()).then(options&&options.success).catch(options&&options.error);return promise.done(),promise}else return Q(Backbone.AssociatedModel.prototype.sync.apply(this,arguments))}});return CatalogModel}),define("bundles/catalogP/models/course",["require","moment","underscore","bundles/catalogP/constants","pages/open-course/common/constants","bundles/catalogP/models/catalogModel","js/lib/path"],function(require){var moment=require("moment"),_=require("underscore"),constants=require("bundles/catalogP/constants"),openCourseConstants=require("pages/open-course/common/constants"),CatalogModel=require("bundles/catalogP/models/catalogModel"),path=require("js/lib/path"),Course=CatalogModel.extend({defaults:{categories:[],certificates:[]},includes:{instructors:{resource:"instructors.v1",attribute:"instructorIds"},details:{resource:"v1Details.v1",attribute:"v1Details"},partners:{resource:"partners.v1",attribute:"partnerIds"},primaryLanguages:{resource:"languages.v1",attribute:"primaryLanguages"},subtitleLanguages:{resource:"languages.v1",attribute:"subtitleLanguages"},categories:{resource:"categories.v1",attribute:"categories"},specializations:{resource:"specializations.v1",attribute:"specializations"},memberships:{resource:"memberships.v1",attribute:"membershipIds"}},resourceName:"courses.v1",getCertLogo:function(){var backupLogo=this.get("partners").chain().map(function(partner){return partner.get("classLogo")||partner.get("logo")}).compact().first().value();return this.get("universityLogoSt")||backupLogo},getLink:function(){if(this.isOnDemand())return path.join("/","learn",this.get("slug"));else return path.join(constants.config.dir.home,"course",this.get("slug"),this.get("session.id"))},getFullLink:function(){return path.join(constants.config.url.base,this.getLink())},getCourseRecordsLink:function(){return"/account/accomplishments"},getTeachLink:function(){return path.join(openCourseConstants.teachRoot,this.get("slug"))},eligibleFor:function(certificateType){return _(this.get("certificates")).contains(certificateType)},isOnDemand:function(){return"v2.ondemand"===this.get("courseType")},isCapstone:function(type){return"v1.capstone"===this.get("courseType")},getStartDate:function(){if(this.get("startDate"))return moment.utc(this.get("startDate"))},upcomingSession:function(){return this.get("details.upcomingSession")},hasUpcomingSession:function(){return void 0!==this.upcomingSession()},hasUpcomingSigTrackSession:function(){return this.get("details.upcomingSession.hasSigTrack")},getUpcomingSessionSigTrackLink:function(){if(this.hasUpcomingSigTrackSession()){var upcomingSession=this.upcomingSession();return path.join(constants.config.dir.home,"signature","course",this.get("slug"),upcomingSession.get("id"))}else return""},getEnrolledSessions:function(){return this.get("memberships").getEnrolledSessions()},getVCSessions:function(){if(this.get("details.sessions"))return this.get("details.sessions").getVCSessions();else return[]},getUpcomingVCSessions:function(){return this.getVCSessions().filter(function(session){var isEnrolledInVCSession=this.isEnrolledInVCSession(session),canEnrollInVCSession=(1===session.get("status")||this.isEnrolledInSession(session))&&!!session.get("v1VcSession.vcRegistrationOpen");return isEnrolledInVCSession||canEnrollInVCSession},this)},isEnrolledInVCSession:function(session){return!this.get("memberships").getMembershipsForVCSession(session).isEmpty()},isEnrolledInSession:function(session){return!this.get("memberships").getMembershipsForSession(session).isEmpty()},hasPassed:function(vc){return this.get("memberships").any(function(membership){return membership.hasPassed(vc)})},courseLengthInWeeks:function(){return this.get("details.upcomingSession.durationWeeks")},getRealInstructors:function(){return this.get("instructors").reject(function(instructor){return""===instructor.getFullName().trim()})},getFirstSpecialization:function(){return this.get("specializations").first()}});return Course}),define("bundles/catalogP/models/catalogCollection",["require","backbone"],function(require){var Backbone=require("backbone"),CatalogCollection=Backbone.Collection.extend({resourceName:"",fields:null,includes:null});return CatalogCollection}),define("bundles/catalogP/models/courses",["require","bundles/catalogP/models/catalogCollection","bundles/catalogP/models/course"],function(require){var CatalogCollection=require("bundles/catalogP/models/catalogCollection"),Course=require("bundles/catalogP/models/course"),CourseCollection=CatalogCollection.extend({model:Course,resourceName:"courses.v1"});return CourseCollection}),define("bundles/catalogP/lib/stringifyList",["require","underscore"],function(require){var _=require("underscore");return function(list){list=list||[];var initial=_.initial(list),last=_.last(list);return _.compact([initial.join(", "),last]).join(" & ")}}),define("bundles/catalogP/lib/concatName",["require","underscore"],function(require){function concatName(nameObj){var full=_(["prefix","first","middle","last"]).chain().map(function(key){return nameObj[key]}).compact().value().join(" ");if(nameObj.suffix)full+=", "+nameObj.suffix;return full}var _=require("underscore");return concatName}),define("bundles/catalogP/models/instructor",["require","bundles/catalogP/constants","bundles/catalogP/lib/concatName","bundles/catalogP/models/catalogModel","js/lib/path"],function(require){var constants=require("bundles/catalogP/constants"),concatName=require("bundles/catalogP/lib/concatName"),CatalogModel=require("bundles/catalogP/models/catalogModel"),path=require("js/lib/path"),Instructor=CatalogModel.extend({includes:{partners:{resource:"partners.v1",attribute:"partnerIds"},courses:{resource:"courses.v1",attribute:"courseIds"}},resourceName:"instructors.v1",urlPath:"instructors",getFullName:function(){return concatName({prefix:this.get("prefixName"),first:this.get("firstName"),middle:this.get("middleName"),last:this.get("lastName"),suffix:this.get("suffixName")})},getLink:function(){return path.join(constants.config.url.home,"instructor",this.get("shortName")||"~"+this.get("profileId"))},getPrettyWebsite:function(){var url=this.get("website");return url=url.replace(/^.*:\/\//,""),url=url.replace(/\/$/,"")},shouldDisplay:function(){return!!this.getFullName()},shouldDisplayOnPartnerPage:function(){return this.shouldDisplay()&&this.get("displayOnPartnerPage")},getPhoto:function(){return this.get("photo")||path.join(constants.config.url.assets,"images/icons/avatar.jpg")}});return Instructor}),define("bundles/catalogP/models/instructors",["require","bundles/catalogP/lib/stringifyList","bundles/catalogP/models/catalogCollection","bundles/catalogP/models/instructor"],function(require){var stringifyList=require("bundles/catalogP/lib/stringifyList"),CatalogCollection=require("bundles/catalogP/models/catalogCollection"),Instructor=require("bundles/catalogP/models/instructor"),Instructors=CatalogCollection.extend({model:Instructor,resourceName:"instructors.v1",getNamesString:function(){return stringifyList(this.invoke("getFullName"))}});return Instructors}),define("bundles/catalogP/models/language",["require","bundles/catalogP/models/catalogModel"],function(require){var CatalogModel=require("bundles/catalogP/models/catalogModel"),Language=CatalogModel.extend({fields:["name"],resourceName:"languages.v1"});return Language}),define("bundles/catalogP/models/languages",["require","bundles/catalogP/lib/stringifyList","bundles/catalogP/models/catalogCollection","bundles/catalogP/models/language"],function(require){var stringifyList=require("bundles/catalogP/lib/stringifyList"),CatalogCollection=require("bundles/catalogP/models/catalogCollection"),Language=require("bundles/catalogP/models/language"),Languages=CatalogCollection.extend({model:Language,resourceName:"languages.v1",getLanguagesString:function(){return stringifyList(this.pluck("name"))}});return Languages}),define("bundles/catalogP/models/specialization",["require","underscore","bundles/catalogP/constants","bundles/catalogP/models/catalogModel","bundles/phoenix/lib/apiWrapper","js/lib/path"],function(require){var _=require("underscore"),constants=require("bundles/catalogP/constants"),CatalogModel=require("bundles/catalogP/models/catalogModel"),API=require("bundles/phoenix/lib/apiWrapper"),path=require("js/lib/path"),Specialization=CatalogModel.extend({fields:["name","shortName","byline","logo","video"],includes:{courses:{resource:"courses.v1",attribute:"primaryCourseIds"},interchangeableCourses:{resource:"courses.v1",attribute:"interchangeableCourseIds"},partners:{resource:"partners.v1",attribute:"partnerIds"}},resourceName:"specializations.v1",getLink:function(){return path.join(constants.config.dir.home,"specialization",this.get("shortName"),this.get("id"))},getInterchangeableCourses:function(course){if(this.has("interchangeableMap")){var courseIds=this.get("interchangeableMap")[course.get("id")];return this.get("interchangeableCourses").filter(function(course){return _(courseIds).contains(course.get("id"))})}},getCapstoneCourse:function(){return this.get("courses").chain().filter(function(course){return course.isCapstone()}).first().value()}},{getLinkForSession:function(course,session){return path.join(constants.config.dir.home,"signature/specializationCourse",course.get("slug"),session.get("id"))},enrollWithVoucher:function(sessionId,bulkVoucherId){return API(constants.config.url.api,{type:"rest"}).post(constants.paymentsApi,{data:{"course-id":sessionId,"voucher-id":bulkVoucherId}})}});return Specialization}),define("js/json/constants",[],function(){return{openCourses:["calculus1","childnutrition","competitivestrategy","sustainabledevelopment1","chineseforbeginners","ageofjefferson","epidemiology","kennedy","publicspeaking","businessinsociety","togetherteacher","competitivestrategyzh","financialengineering1","financialengineering2","insidetheinternet","advancedchemistry"],pinnedCourses:["publicspeaking"],specializationsFlaggedForNoPayment:["businessoperations","digitalmarketing","cloudcomputing","datamining","interactiondesign","projectmanagement","bizcommunication","managementbasics","biztools","engineeringgraphics","compsci","socialscience","contentstrategy"],topicsFlaggedForNoPayment:["foundationmedneuro"],specializationsFlaggedForPriceChange:["jhudatascience"],chineseOnlyTopicToCourses:{datascitoolbox:[973978],rprog:[973973],getdata:[974176],exdata:[974177]},flexjoin_course_ids:[970641,972058,971830,971921,971981,972197,972476,972475,972296,972242,972189,972750,972893,972894,972895,971772,970726,972974,972902,971727,971558,972832,972560,972196,971211,971994,973098,5e6,5000001],student_stories_topics:{88:[{text:"I've begun using Python for data analysis. My Certificate not only gave me commitmment to complete the course but also something to highlight in school applications.",student:"Timothy W.",title:"Business Analyst at Boeing"},{text:"The course material made me a better data analyst. I was able to get a promotion and raise within weeks of completing my first course. I am just thrilled!",student:"Corey K.",title:"IT & Support Professional"},{text:"I needed to upgrade my programming skills to cope with the ever-increasing software-defined infrastructure in the industry. I know the Verified Certificate will help my career.",student:"Bernard T.",title:"Hardware Engineer at Cisco"},{text:"I took this course to better prepare myself for upcoming projects at work. The Certificate helps to verify my effort. It reassures my employer that I’m capable to take on Python-related tasks.",student:"Andy L.",title:"Systems Administrator - Florida Museum of History"}],168:[{text:"The course improved my knowledge in the field, and the Verified Certificate gives me a lot more credibility.",student:"Clayton S.",title:"Business Development Manager"},{text:"I'm using what I learned in the course to develop new products in my company, one of the oldest and most respected newspapers in Brazil.",student:"Nelson P.",title:"CIO from Brazil"},{text:"After the course, I was inspired to write the business plan for my start-up. My certificate proves what I’ve accomplished!",student:"Florian A.",title:"Account Manager from Switzerland"},{text:"By showing my Verified Certificate to my employer, I was able to get support to turn my idea into a new project.",student:"Sebastian S.",title:"Programmer from Costa Rica"}],747:[{text:"This course helped me identify a target market and understand aspects of marketing that I hadn't been aware of, and for that I am grateful. I'll use the certificate I received from Coursera as a seal of approval for my work.",student:"Bartholomew N.",title:"Director of Fundraising at WQED in Pittsburgh, PA"},{text:"The course validated the analytics functions we’ve instituted within our company. And the Verified Certificate validates my skill set.",student:"Michael D.",title:"Director of Sales from Portland"},{text:"Learning is a never-ending process. Now I know what needs to get done before I start rebranding my company.",student:"Saundra L.",title:"CEO from Miami, Florida"},{text:"My employers were happy to hear that I'd completed the course. The Verified Certificate shows my dedication to performing better at my current position.",student:"Stephanie N.",title:"Marketing Communications Manager from Newark, Delaware"}]}}}),define("bundles/catalogP/models/session",["require","moment","underscore","bundles/catalogP/models/catalogModel","bundles/catalogP/models/specialization","bundles/phoenix/lib/apiWrapper","bundles/phoenix/template/models/userIdentity","js/json/constants"],function(require){var moment=require("moment"),_=require("underscore"),CatalogModel=require("bundles/catalogP/models/catalogModel"),Specialization=require("bundles/catalogP/models/specialization"),API=require("bundles/phoenix/lib/apiWrapper"),userIdentity=require("bundles/phoenix/template/models/userIdentity"),chineseOnlyTopicToCourses=require("js/json/constants").chineseOnlyTopicToCourses,now=function(){return moment.utc()},Session=CatalogModel.extend({api:new API("/api/enrollments.v1"),resourceName:"v1Sessions.v1",urlPath:"sessions",includes:{instructors:{resource:"instructors.v1",attribute:"instructorIds"},v1VcSession:{resource:"v1VcSessions.v1",attribute:"v1VcSessionId"}},getLink:function(){return this.get("homeLink")},hasStarted:function(){return this.getStartMoment().isBefore(now(),"days")},getStartMoment:function(){if(this.get("startDay")&&this.get("startYear")&&this.get("startMonth"))return moment([this.get("startYear"),this.get("startMonth")-1,this.get("startDay")]);else return void 0},getStartString:function(){var startMoment=moment([this.get("startYear"),this.get("startMonth")-1,this.get("startDay")||1]);if(void 0!==this.get("startDay"))return startMoment.format("ll");else return startMoment.format("MMMM YYYY")},setStartMoment:function(momentObj,options){this.set({startYear:momentObj.year(),startMonth:momentObj.month()+1,startDay:momentObj.date()},options)},getStartMomentFromToday:function(){var diff=this.getStartMoment().diff(now());return moment.duration(diff)},isChineseOnly:function(){var chineseOnlySessionIds=_(chineseOnlyTopicToCourses).chain().values().flatten().value();return _(chineseOnlySessionIds).contains(this.get("id"))},getDuration:function(){return this.get("durationString")},getDurationMoment:function(){var parts=(this.getDuration()||"").split(" ");return moment.duration(parseInt(parts[0],10),parts[1])},getDurationDays:function(){return Math.floor(this.getDurationMoment().asDays())},getDurationWeeks:function(){return Math.floor(this.getDurationMoment().asDays()/7)},getEndMoment:function(){if(this.get("dbEndDate"))return moment(this.get("dbEndDate"));else return this.getStartMoment().add(this.getDurationMoment())},hasEnded:function(){return this.getEndMoment().isBefore(now(),"days")},eligibleForSignatureTrack:function(){return this.get("hasSigTrack")},isEligibleForVC:function(){return void 0!==this.get("v1VcSession")},enroll:function(){return this.api.put(userIdentity.get("id")+"~"+this.get("id"),{data:"{}"})},enrollWithVoucher:function(bulkVoucherId){return Specialization.enrollWithVoucher(this.get("id"),bulkVoucherId)},unenroll:function(){return this.api.delete(userIdentity.get("id")+"~"+this.get("id"))}});return Session}),define("bundles/catalogP/models/v1VcSession",["require","bundles/catalogP/models/catalogModel"],function(require){var CatalogModel=require("bundles/catalogP/models/catalogModel"),v1VcSession=CatalogModel.extend({fields:["signatureTrackRegistrationOpen","eligibleForFlexJoin"],includes:{},resourceName:"vcMemberships.v1"});return v1VcSession}),define("bundles/catalogP/models/v1VcSessions",["require","bundles/catalogP/models/catalogCollection","bundles/catalogP/models/v1VcSession"],function(require){var CatalogCollection=require("bundles/catalogP/models/catalogCollection"),v1VcSession=require("bundles/catalogP/models/v1VcSession"),v1VcSessions=CatalogCollection.extend({model:v1VcSession,resourceName:"v1VcSessions.v1"});return v1VcSessions}),define("js/lib/language.v0-0-1",["require","js/vendor/jquery.v2-1","js/vendor/underscore.v1-6"],function(require){function shortenLanguageCode(code){return(normalizeLanguageCode(code)||"").split("-")[0]}function languageCodeCSVtoLanguages(csv){var subtitlesLangs=_.compact((csv||"").split(/,\s*/g));return _.reduce(subtitlesLangs,function(memo,code){return memo[code]=languageCodeToName(code),memo},{})}function isRightToLeft(language){var rightToLeftLanguages=["ar","he"];return _.contains(rightToLeftLanguages,shortenLanguageCode(language))}function languageCodeToName(code){code=normalizeLanguageCode(code||"");var components=code.split("-"),language,languageMappingExists=_.any(components,function(c,i){var codeToTest=components.slice(0,components.length-i).join("-");return language=languageCodeToNameObj[codeToTest],!!language});return languageMappingExists?language:code}function normalizeLanguageCode(languageCode){var code=(languageCode||"").toLowerCase().replace(/_/g,"-");return code.split(/[;=,]/)[0]}function getLanguageCode(){var code;try{code=window.require.s.contexts._.config.config.i18n.locale}catch(e){code=normalizeLanguageCode($("#_require").attr("data-locale"))||"en"}return code}function latinizeText(string){return string.replace(/[^A-Za-z0-9\[\] ]/g,function(a){return LATIN_MAP[a]||a})}var $=require("js/vendor/jquery.v2-1"),_=require("js/vendor/underscore.v1-6"),languageCodeToNameObj={ab:"Abkhaz",aa:"Afar",af:"Afrikaans",ak:"Akan",sq:"Albanian",am:"Amharic",ar:"Arabic",an:"Aragonese",hy:"Armenian",as:"Assamese",av:"Avaric",ae:"Avestan",ay:"Aymara",az:"Azerbaijani",bm:"Bambara",ba:"Bashkir",eu:"Basque",be:"Belarusian",bn:"Bengali",bh:"Bihari",bi:"Bislama",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",ny:"Chichewa",zh:"Chinese","zh-cn":"Chinese (Simplified)","zh-tw":"Chinese (Traditional)",cv:"Chuvash",kw:"Cornish",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",dv:"Divehi",nl:"Dutch",dz:"Dzongkha",en:"English",eo:"Esperanto",et:"Estonian",ee:"Ewe",fo:"Faroese",fj:"Fijian",fi:"Finnish",fr:"French",ff:"Fula",gl:"Galician",ka:"Georgian",de:"German",el:"Greek",gn:"Guaraní",gu:"Gujarati",ht:"Haitian",ha:"Hausa",he:"Hebrew",hz:"Herero",hi:"Hindi",ho:"Hiri Motu",hu:"Hungarian",ia:"Interlingua",id:"Indonesian",ie:"Interlingue",ga:"Irish",ig:"Igbo",ik:"Inupiaq",io:"Ido",is:"Icelandic",it:"Italian",iu:"Inuktitut",ja:"Japanese",jv:"Javanese",kl:"Kalaallisut",kn:"Kannada",kr:"Kanuri",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ki:"Kikuyu",rw:"Kinyarwanda",ky:"Kyrgyz",kv:"Komi",kg:"Kongo",ko:"Korean",ku:"Kurdish",kj:"Kwanyama",la:"Latin",lb:"Luxembourgish",lg:"Ganda",li:"Limburgish",ln:"Lingala",lo:"Lao",lt:"Lithuanian",lu:"Luba-Katanga",lv:"Latvian",gv:"Manx",mk:"Macedonian",mg:"Malagasy",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Māori",mr:"Marathi",mh:"Marshallese",mn:"Mongolian",na:"Nauru",nv:"Navajo",nb:"Norwegian Bokmål",nd:"North Ndebele",ne:"Nepali",ng:"Ndonga",nn:"Norwegian Nynorsk",no:"Norwegian",ii:"Nuosu",nr:"South Ndebele",oc:"Occitan",oj:"Ojibwe",cu:"Old Church Slavonic",om:"Oromo",or:"Oriya",os:"Ossetian",pa:"Panjabi",pi:"Pāli",fa:"Persian",pl:"Polish",ps:"Pashto",pt:"Portuguese","pt-br":"Portuguese (Brazilian)",qu:"Quechua",rm:"Romansh",rn:"Kirundi",ro:"Romanian",ru:"Russian",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",se:"Northern Sami",sm:"Samoan",sg:"Sango",sr:"Serbian",gd:"Gaelic",sn:"Shona",si:"Sinhala",sk:"Slovak",sl:"Slovene",so:"Somali",st:"Southern Sotho",es:"Spanish",su:"Sundanese",sw:"Swahili",ss:"Swati",sv:"Swedish",ta:"Tamil",te:"Telugu",tg:"Tajik",th:"Thai",ti:"Tigrinya",bo:"Tibetan",tk:"Turkmen",tl:"Tagalog",tn:"Tswana",to:"Tonga",tr:"Turkish",ts:"Tsonga",tt:"Tatar",tw:"Twi",ty:"Tahitian",ug:"Uighur",uk:"Ukrainian",ur:"Urdu",uz:"Uzbek",ve:"Venda",vi:"Vietnamese",vo:"Volapük",wa:"Walloon",cy:"Welsh",wo:"Wolof",fy:"Western Frisian",xh:"Xhosa",yi:"Yiddish",yo:"Yoruba",za:"Zhuang",zu:"Zulu"},LATIN_MAP={A:"Á Ă Ắ Ặ Ằ Ẳ Ẵ Ǎ Â Ấ Ậ Ầ Ẩ Ẫ Ä Ǟ Ȧ Ǡ Ạ Ȁ À Ả Ȃ Ā Ą Å Ǻ Ḁ Ⱥ Ã Ɐ ᴀ",AA:"Ꜳ",AE:"Æ Ǽ Ǣ ᴁ",AO:"Ꜵ",AU:"Ꜷ",AV:"Ꜹ Ꜻ",AY:"Ꜽ",B:"Ḃ Ḅ Ɓ Ḇ Ƀ Ƃ ʙ ᴃ",C:"Ć Č Ç Ḉ Ĉ Ċ Ƈ Ȼ Ꜿ ᴄ",D:"Ď Ḑ Ḓ Ḋ Ḍ Ɗ Ḏ ǲ ǅ Đ Ƌ Ꝺ ᴅ",DZ:"Ǳ Ǆ",E:"É Ĕ Ě Ȩ Ḝ Ê Ế Ệ Ề Ể Ễ Ḙ Ë Ė Ẹ Ȅ È Ẻ Ȇ Ē Ḗ Ḕ Ę Ɇ Ẽ Ḛ Ɛ Ǝ ᴇ ⱻ",ET:"Ꝫ",F:"Ḟ Ƒ Ꝼ ꜰ",G:"Ǵ Ğ Ǧ Ģ Ĝ Ġ Ɠ Ḡ Ǥ Ᵹ ɢ ʛ",H:"Ḫ Ȟ Ḩ Ĥ Ⱨ Ḧ Ḣ Ḥ Ħ ʜ",I:"Í Ĭ Ǐ Î Ï Ḯ İ Ị Ȉ Ì Ỉ Ȋ Ī Į Ɨ Ĩ Ḭ ɪ",R:"Ꞃ Ŕ Ř Ŗ Ṙ Ṛ Ṝ Ȑ Ȓ Ṟ Ɍ Ɽ ʁ ʀ ᴙ ᴚ",S:"Ꞅ Ś Ṥ Š Ṧ Ş Ŝ Ș Ṡ Ṣ Ṩ ꜱ",T:"Ꞇ Ť Ţ Ṱ Ț Ⱦ Ṫ Ṭ Ƭ Ṯ Ʈ Ŧ ᴛ",IS:"Ꝭ",J:"Ĵ Ɉ ᴊ",K:"Ḱ Ǩ Ķ Ⱪ Ꝃ Ḳ Ƙ Ḵ Ꝁ Ꝅ ᴋ",L:"Ĺ Ƚ Ľ Ļ Ḽ Ḷ Ḹ Ⱡ Ꝉ Ḻ Ŀ Ɫ ǈ Ł Ꞁ ʟ ᴌ",LJ:"Ǉ",M:"Ḿ Ṁ Ṃ Ɱ Ɯ ᴍ",N:"Ń Ň Ņ Ṋ Ṅ Ṇ Ǹ Ɲ Ṉ Ƞ ǋ Ñ ɴ ᴎ",NJ:"Ǌ",O:"Ó Ŏ Ǒ Ô Ố Ộ Ồ Ổ Ỗ Ö Ȫ Ȯ Ȱ Ọ Ő Ȍ Ò Ỏ Ơ Ớ Ợ Ờ Ở Ỡ Ȏ Ꝋ Ꝍ Ō Ṓ Ṑ Ɵ Ǫ Ǭ Ø Ǿ Õ Ṍ Ṏ Ȭ Ɔ ᴏ ᴐ",OI:"Ƣ",OO:"Ꝏ",OU:"Ȣ ᴕ",P:"Ṕ Ṗ Ꝓ Ƥ Ꝕ Ᵽ Ꝑ ᴘ",Q:"Ꝙ Ꝗ",V:"Ʌ Ꝟ Ṿ Ʋ Ṽ ᴠ",TZ:"Ꜩ",U:"Ú Ŭ Ǔ Û Ṷ Ü Ǘ Ǚ Ǜ Ǖ Ṳ Ụ Ű Ȕ Ù Ủ Ư Ứ Ự Ừ Ử Ữ Ȗ Ū Ṻ Ų Ů Ũ Ṹ Ṵ ᴜ",VY:"Ꝡ",W:"Ẃ Ŵ Ẅ Ẇ Ẉ Ẁ Ⱳ ᴡ",X:"Ẍ Ẋ",Y:"Ý Ŷ Ÿ Ẏ Ỵ Ỳ Ƴ Ỷ Ỿ Ȳ Ɏ Ỹ ʏ",Z:"Ź Ž Ẑ Ⱬ Ż Ẓ Ȥ Ẕ Ƶ ᴢ",IJ:"Ĳ",OE:"Œ ɶ",a:"á ă ắ ặ ằ ẳ ẵ ǎ â ấ ậ ầ ẩ ẫ ä ǟ ȧ ǡ ạ ȁ à ả ȃ ā ą ᶏ ẚ å ǻ ḁ ⱥ ã ɐ ₐ",aa:"ꜳ",ae:"æ ǽ ǣ ᴂ",ao:"ꜵ",au:"ꜷ",av:"ꜹ ꜻ",ay:"ꜽ",b:"ḃ ḅ ɓ ḇ ᵬ ᶀ ƀ ƃ",o:"ɵ ó ŏ ǒ ô ố ộ ồ ổ ỗ ö ȫ ȯ ȱ ọ ő ȍ ò ỏ ơ ớ ợ ờ ở ỡ ȏ ꝋ ꝍ ⱺ ō ṓ ṑ ǫ ǭ ø ǿ õ ṍ ṏ ȭ ɔ ᶗ ᴑ ᴓ ₒ",c:"ć č ç ḉ ĉ ɕ ċ ƈ ȼ ↄ ꜿ",d:"ď ḑ ḓ ȡ ḋ ḍ ɗ ᶑ ḏ ᵭ ᶁ đ ɖ ƌ ꝺ",i:"ı í ĭ ǐ î ï ḯ ị ȉ ì ỉ ȋ ī į ᶖ ɨ ĩ ḭ ᴉ ᵢ",j:"ȷ ɟ ʄ ǰ ĵ ʝ ɉ ⱼ",dz:"ǳ ǆ",e:"é ĕ ě ȩ ḝ ê ế ệ ề ể ễ ḙ ë ė ẹ ȅ è ẻ ȇ ē ḗ ḕ ⱸ ę ᶒ ɇ ẽ ḛ ɛ ᶓ ɘ ǝ ₑ",et:"ꝫ",f:"ḟ ƒ ᵮ ᶂ ꝼ",g:"ǵ ğ ǧ ģ ĝ ġ ɠ ḡ ᶃ ǥ ᵹ ɡ ᵷ",h:"ḫ ȟ ḩ ĥ ⱨ ḧ ḣ ḥ ɦ ẖ ħ ɥ ʮ ʯ",hv:"ƕ",r:"ꞃ ŕ ř ŗ ṙ ṛ ṝ ȑ ɾ ᵳ ȓ ṟ ɼ ᵲ ᶉ ɍ ɽ ɿ ɹ ɻ ɺ ⱹ ᵣ",s:"ꞅ ſ ẜ ẛ ẝ ś ṥ š ṧ ş ŝ ș ṡ ṣ ṩ ʂ ᵴ ᶊ ȿ",t:"ꞇ ť ţ ṱ ț ȶ ẗ ⱦ ṫ ṭ ƭ ṯ ᵵ ƫ ʈ ŧ ʇ",is:"ꝭ",k:"ḱ ǩ ķ ⱪ ꝃ ḳ ƙ ḵ ᶄ ꝁ ꝅ ʞ",l:"ĺ ƚ ɬ ľ ļ ḽ ȴ ḷ ḹ ⱡ ꝉ ḻ ŀ ɫ ᶅ ɭ ł ꞁ",lj:"ǉ",m:"ḿ ṁ ṃ ɱ ᵯ ᶆ ɯ ɰ",n:"ń ň ņ ṋ ȵ ṅ ṇ ǹ ɲ ṉ ƞ ᵰ ᶇ ɳ ñ",nj:"ǌ",oi:"ƣ",oo:"ꝏ",ou:"ȣ",p:"ṕ ṗ ꝓ ƥ ᵱ ᶈ ꝕ ᵽ ꝑ",q:"ꝙ ʠ ɋ ꝗ",u:"ᴝ ú ŭ ǔ û ṷ ü ǘ ǚ ǜ ǖ ṳ ụ ű ȕ ù ủ ư ứ ự ừ ử ữ ȗ ū ṻ ų ᶙ ů ũ ṹ ṵ ᵤ",th:"ᵺ",oe:"ᴔ œ",v:"ʌ ⱴ ꝟ ṿ ʋ ᶌ ⱱ ṽ ᵥ",w:"ʍ ẃ ŵ ẅ ẇ ẉ ẁ ⱳ ẘ",y:"ʎ ý ŷ ÿ ẏ ỵ ỳ ƴ ỷ ỿ ȳ ẙ ɏ ỹ",tz:"ꜩ",ue:"ᵫ",um:"ꝸ",vy:"ꝡ",x:"ẍ ẋ ᶍ ₓ",z:"ź ž ẑ ʑ ⱬ ż ẓ ȥ ẕ ᵶ ᶎ ʐ ƶ ɀ",ff:"ﬀ",ffi:"ﬃ",ffl:"ﬄ",fi:"ﬁ",fl:"ﬂ",ij:"ĳ",st:"ﬆ"};
return LATIN_MAP=_.chain(LATIN_MAP).map(function(value,key){return _.map(value.split(" "),function(v){return[v,key]})}).flatten(!0).reduce(function(memo,pair){return memo[pair[0]]=pair[1],memo},{}).value(),{shortenLanguageCode:shortenLanguageCode,languageCodeCSVtoLanguages:languageCodeCSVtoLanguages,languageCodeToName:languageCodeToName,latinizeText:latinizeText,isRightToLeft:isRightToLeft,normalizeLanguageCode:normalizeLanguageCode,getLanguageCode:getLanguageCode,languages:languageCodeToNameObj}}),define("bundles/catalogP/models/sessions",["require","bundles/catalogP/models/catalogCollection","bundles/catalogP/models/session","bundles/catalogP/models/v1VcSessions","js/lib/language.v0-0-1"],function(require){var CatalogCollection=require("bundles/catalogP/models/catalogCollection"),Session=require("bundles/catalogP/models/session"),V1VcSessions=require("bundles/catalogP/models/v1VcSessions"),language=require("js/lib/language.v0-0-1"),Sessions=CatalogCollection.extend({model:Session,resourceName:"sessions.v1",getVCSessions:function(){return new Sessions(this.filter(function(session){return session.has("v1VcSession")}))},lastForLanguagePreference:function(){var isChinesePreferred="zh"===language.shortenLanguageCode(language.getLanguageCode())&&this.some(function(session){return session.isChineseOnly()});return this.chain().filter(function(session){return isChinesePreferred?session.isChineseOnly():!session.isChineseOnly()}).last().value()}});return Sessions}),define("bundles/catalogP/models/v1Detail",["require","bundles/catalogP/models/catalogModel"],function(require){var CatalogModel=require("bundles/catalogP/models/catalogModel"),v1Detail=CatalogModel.extend({fields:["classId","aboutTheCourse","aboutTheInstructor","courseFormat","courseSyllabus","faq","recommendedBackground","shortDescription","readings","video"],includes:{sessions:{resource:"v1Sessions.v1",attribute:"sessionIds"},upcomingSession:{resource:"v1Sessions.v1",attribute:"upcomingSessionId"}},resourceName:"v1Details.v1"});return v1Detail}),define("bundles/catalogP/models/v1Details",["require","bundles/catalogP/models/catalogCollection","bundles/catalogP/models/v1Detail"],function(require){var CatalogCollection=require("bundles/catalogP/models/catalogCollection"),v1Detail=require("bundles/catalogP/models/v1Detail"),v1Details=CatalogCollection.extend({model:v1Detail,resourceName:"v1details.v1"});return v1Details}),define("js/lib/util",["require","jquery","underscore","js/lib/coursera","js/lib/cookie","js/vendor/moment.v2-2"],function(require){function handleAPIError(err,requestUrl){if(404==err)Coursera.router.trigger("error",404,requestUrl,{message:"this page does not exist"});else if(500==err)Coursera.router.trigger("error",500,requestUrl,{message:"backend server has seen an error"});else if(401==err)location.href=Coursera.config.url.accounts+"signin?post_redirect="+requestUrl;else if(403==err)Coursera.router.trigger("error",403,requestUrl,{message:"you do not have permission to view this page"})}function checkRedirect(redirectUrl,isProd){if(!isProd)return!0;var prodRegex=/^((https?:)?\/\/([a-zA-Z0-9\-]+\.)?coursera.org)?(\/([^\/].*)?)?$/;return prodRegex.test(redirectUrl)}function handleRedirect(redirect){if(!redirect)return;var isProd=1!=Coursera.config.environment.indexOf("prod");if(!checkRedirect(redirect,isProd))Coursera.router.navigate(Coursera.config.dir.home,!0);var parse=/^(?:https?:\/\/)?((?:[\d\w\-]+?\.)?[\w\d-]+(?:\.[\w]+)?)(\/.*|$)/,parts=parse.exec(redirect),host=(parts&&parts.length?parts[1]:"").split("."),hostm=parse.exec(location.host)[1].split(".");if(host&&host.length&&host[host.length-1]==hostm[hostm.length-1]&&host[host.length-2]==hostm[hostm.length-2])location.href=redirect;else if(/^\/.*/.test(redirect))location.href=redirect;else Coursera.router.navigate(Coursera.config.dir.home,!0)}function redirectToAccounts(page){location.href=Coursera.config.url.accounts+page}function createAccountsUrl(page,params){if(void 0!==params){if(void 0!==params.r)params.post_redirect=params.r,delete params.r;var urlParams=$.param(params);return Coursera.config.url.accounts+page+"?"+urlParams.split("+").join("%20")}return Coursera.config.url.accounts+page}function scrollToInternalLink($dom,section,prefix){prefix=prefix||"";var $target=$dom.find('[data-section="'+section+'"]');if(!$target.length)return;var newTop=$target.position().top,scrollDiff=Math.abs($(document).scrollTop()-newTop);if(scrollDiff>1e3)$("html,body").scrollTop(newTop);else $("html,body").animate({scrollTop:newTop});if(Coursera.multitracker)Coursera.multitracker.push([prefix+" "+section,"Open"])}function setupInternalLinks(view,prefix){view.bind("view:appended",function(){scrollToInternalLink(view.$el,this.options&&this.options.section,prefix)}),view.$el.on("click",'a.internal-page, [data-js="internal-link"]',function(e){if(!e.ctrlKey&&!e.metaKey){var linkPath=e.currentTarget.pathname,section=linkPath.substr(linkPath.lastIndexOf("/")+1);if(view.$("[data-section="+section+"]").length)e.preventDefault(),scrollToInternalLink(view.$el,section,prefix),Coursera.router.navigateTo(linkPath,{trigger:!1})}})}function getToday(){return new Date}function prettyJoin(items,options){options=_.extend({symbol:!1},options);var and=options.symbol?"&":"and";if(items)if(items.length>1){var initialElements=_(items).initial().join(", "),lastElement=_(items).last();return[initialElements,and,lastElement].join(" ")}else return items.toString()}function addCommas(numberStr){return numberStr.replace(/(^|[^\w.])(\d{4,})/g,function($0,$1,$2){return $1+$2.replace(/\d(?=(?:\d\d\d)+(?!\d))/g,"$&,")})}function makeHttps(url){return url.replace(/^http:\/\//i,"https://")}function getUrlParam(url,name){name=name.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var regexS="[\\?&]"+name+"=([^&#]*)",regex=new RegExp(regexS),results=regex.exec(decodeURI(url));if(null===results)return null;else return results[1]}function changeUrlParam(uri,key,value){var re=new RegExp("([?&])"+key+"=[^&]*(&|$)","i"),separator=-1!==uri.indexOf("?")?"&":"?";if(uri.match(re))return uri.replace(re,"$1"+key+"="+value+"$2");else return uri+separator+key+"="+value}function getUrlPath(url){return(url||"").replace(Coursera.config.url.base,"/")}function setupFormSave($form,xhrOptions,autoSave){function changeButtonText(message){var messageText=$saveButton.attr("data-"+message+"-message");$saveButton.html(messageText)}function resetButton(){var $requiredCheckboxes=$form.find('input[type="checkbox"]').filter("[required]");if($requiredCheckboxes.length&&!$requiredCheckboxes.is(":checked"))return void $saveButton.attr("disabled","disabled");$saveButton.removeAttr("disabled"),changeButtonText("default")}function sendXHR(){lastFormData=$form.serialize();var type=(xhrOptions.type||"POST").toLowerCase();if(Coursera.api[type])Coursera.api[type](xhrOptions.url,{data:xhrOptions.data||$form.serialize()||null,headers:xhrOptions.headers||{},dataType:xhrOptions.dataType||"json"}).done(function(responseJSON,textStatus,xhr){if(xhrOptions.success)xhrOptions.success(responseJSON,textStatus,xhr);changeButtonText("success"),$saveStatus.html("(Saved!)"),renderAllErrors($form,null)}).fail(function(xhr,textStatus,errorThrown){var data=$.parseJSON(xhr.responseText);if(xhrOptions.error)xhrOptions.error(xhr,textStatus,errorThrown);resetButton(),$form.find("input").off(".validate"),renderAllErrors($form,data)})}function triggerSave(){if($form.serialize()!=lastFormData)$saveButton.trigger("click"),$saveStatus.html("(Saving...)")}xhrOptions=xhrOptions||{};var lastFormData=$form.serialize();xhrOptions.url=xhrOptions.url||$form.attr("action"),xhrOptions.type=xhrOptions.type||$form.attr("type");var $saveButton=$form.find('button[type="submit"]'),$saveStatus=$($saveButton.attr("data-update"));$form.find("input, select").on("change",resetButton),$form.find("input, textarea").on("keyup",resetButton);var $allInputs=$form.find("input, select");$allInputs.each(function(ind,elem){if(ind!=$allInputs.length-1)$(elem).on("keypress",function(event){return 13!=event.keyCode})});var shouldValidateForm="true"==$form.attr("data-validate");if(shouldValidateForm)$form.find("input").each(function(){var $field=$(this);if("checkbox"==$field.attr("type"))return;$field.on("keyup.validate",function(){if(!validateField($field))renderFieldErrors($field,null)}),$field.on("blur.validate paste.validate",function(){renderFieldErrors($field,validateField($field))})});if($saveButton.on("click",function(event){if(event.preventDefault(),!shouldValidateForm||shouldValidateForm&&!validateForm($form))changeButtonText("inflight"),$saveButton.attr("disabled","disabled"),sendXHR(xhrOptions)}),autoSave){var triggerSaveD=_.debounce(triggerSave,1e3);$form.find("input, select").on("change.autosave",triggerSaveD),$form.find("input, textarea").on("keyup.autosave",triggerSaveD),$form.find("input, select, blur").on("blur.autosave paste.autosave",triggerSave)}}function validateForm($form){var foundError=null;if($form.find("input").each(function(){var $field=$(this),fieldError=validateField($field);if(renderFieldErrors($field,fieldError),foundError=foundError||fieldError,fieldError&&!foundError&&0===$("input:focus").length)$field.focus()}),foundError){var invalidMessage=$form.attr("data-invalid-message")||"Uh-oh, please check the form!";renderFormError($form,invalidMessage),$form.find('button[type="submit"]').animate({opacity:.4},100).animate({"margin-left":"-=10"},100).animate({"margin-left":"+=20"},100).animate({"margin-left":"-=20"},100).animate({"margin-left":"+=10"},100).animate({opacity:1},100)}return foundError}function validateField($field){var fieldType=$field.attr("type"),fieldValue=$field.val(),fieldPattern=$field.attr("pattern"),error=null,regEx=null;if("email"==fieldType)regEx=new RegExp(/[a-zA-Z0-9!#$%&'*+\/=?\^_`{|}~\-]+(?:\.[a-zA-Z0-9!#$%&'*+\/=?\^_`{|}~\-]+)*@(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?/);else if(fieldPattern)regEx=new RegExp(fieldPattern);if(regEx)if(!regEx.test(fieldValue))error=$field.attr("data-invalid-message")||"Invalid field";if($field.attr("required")){if("text"==fieldType&&0===fieldValue.length)error="This field is required.";if("checkbox"==fieldType&&!$field.is(":checked"))error="⬆ Please check this!"}return error}function renderAllErrors($form,data){var $errorsDom;if($form.find(".form-errors").remove(),$form.find(".error .help-inline").remove(),$form.find(".error").removeClass("error"),!data)return;if(data.error_message)renderFormError($form,data.error_message);if(data.field_errors)for(var fieldName in data.field_errors){var $fieldDom=$form.find('*[name="'+fieldName+'"]');renderFieldErrors($fieldDom,data.field_errors[fieldName]),$fieldDom.focus()}}function renderFormError($form,error){$form.find(".form-errors").remove();var $errorsDom=$("<span></span>").addClass("form-errors").attr("role","alert").attr("aria-live","assertive").html(error);if($form.find(".actions").length)$form.find(".actions").children(":last").after($errorsDom);else if($form.find(".modal-footer").length)$form.find(".modal-footer").children(":last").after($errorsDom);else if($form.find('button[type="submit"]'))$form.find('button[type="submit"]').after($errorsDom)}function renderFieldErrors($fieldDom,fieldErrors){var $parentGroup=$fieldDom.parents(".control-mini-group").length&&$fieldDom.parents(".control-mini-group")||$fieldDom.parents(".control-group");if($parentGroup.removeClass("error"),$parentGroup.find(".help-inline.error").remove(),fieldErrors){var errorId=($fieldDom.attr("id")||"")+"-form-field-error-"+(new Date).getTime(),describedBy=($fieldDom.attr("aria-describedby")||"").split(",");describedBy.push(errorId),$fieldDom.attr("aria-describedby",describedBy.join(","));var $errorsDom=$("<span></span>").addClass("help-inline error").attr("role","alert").attr("aria-live","assertive").attr("id",errorId);if(fieldErrors instanceof Array)for(var i=0;i<fieldErrors.length;i++)$errorsDom.append("<span>"+fieldErrors[i]+"</span>");else $errorsDom.append(fieldErrors);if($parentGroup.addClass("error"),"checkbox"==$fieldDom.attr("type"))$parentGroup.find(".controls").append($errorsDom);else $fieldDom.after($errorsDom)}}function isMobileDevice(){var ua=navigator.userAgent||navigator.vendor||window.opera;return/iPhone|iPod|iPad|Android|BlackBerry|Opera Mini|IEMobile/.test(ua)}function isIOS(){var ua=navigator.userAgent||navigator.vendor||window.opera;return/iPhone|iPod|iPad/.test(ua)}function isTouchSupported(){return"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch}function isCanvasSupported(){var elem=document.createElement("canvas");return!(!elem.getContext||!elem.getContext("2d"))}function getViewportHeight(){var height=window.innerHeight,mode=document.compatMode;if(mode||!$.support.boxModel)height="CSS1Compat"==mode?document.documentElement.clientHeight:document.body.clientHeight;return height}function inView($elem,nearThreshold){nearThreshold=nearThreshold||0;var viewportHeight=getViewportHeight(),scrollTop=document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop,startRange=scrollTop-nearThreshold,endRange=scrollTop+viewportHeight+nearThreshold,elemTop=$elem.offset().top,elemHeight=$elem.height(),elemBottom=elemTop+elemHeight;return endRange>elemBottom&&elemBottom>startRange}function countCS(courses){var numCS=0,csCats=["cs-programming","cs-systems","cs-theory","cs-ai","cs","fmgb"];return courses.each(function(course){if(course.get("topic")&&_.intersection(course.get("topic").get("category-ids"),csCats).length>0)numCS++}),numCS}function setupPromos(){var $promos=$("[data-promo-id]");$promos.each(function(){var $promo=$(this);if($promo.find(".close").length){var promoId=$promo.attr("data-promo-id");if(cookie.get(promoId))$promo.hide();else $promo.show(),$promo.find(".close").on("click",function(){$promo.hide(),cookie.set(promoId,"closed")})}})}function prettifyTime($dom){var dateTime=moment.unix($dom.attr("datetime"));if(Math.abs(moment().diff(dateTime))<6e4)$dom.text("just now");else $dom.text(dateTime.fromNow());$dom.attr("title",dateTime.format("dddd, MMMM Do YYYY, h:mm a Z"))}function prettifyUrl(url){return url=url.replace(/^.*:\/\//,""),url=url.replace(/\/$/,"")}function extractFirstSubdir(url){var urlRegex=/(.*\/).*\//;return urlRegex.exec(url)[1]}function linkifyText(string){if(string)string=string.replace(/((https?\:\/\/)|(www\.))(\S+)(\w{2,4})(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/gi,function(url){var full_url=url;if(!full_url.match("^https?://"))full_url="http://"+full_url;return'<a target="_blank" href="'+full_url+'">'+url+"</a>"});return string}function rgbToHsl(r,g,b){r/=255,g/=255,b/=255;var max=Math.max(r,g,b),min=Math.min(r,g,b),h=(max+min)/2,s=(max+min)/2,l=(max+min)/2;if(max==min)h=s=0;else{var d=max-min;switch(s=l>.5?d/(2-max-min):d/(max+min),max){case r:h=(g-b)/d+(b>g?6:0);break;case g:h=(b-r)/d+2;break;case b:h=(r-g)/d+4}h/=6}return[h,s,l]}function hslToRgb(h,s,l){var r,g,b;if(0===s)r=g=b=l;else{var hue2rgb=function(p,q,t){if(0>t)t+=1;if(t>1)t-=1;if(1/6>t)return p+6*(q-p)*t;if(.5>t)return q;if(2/3>t)return p+(q-p)*(2/3-t)*6;return p},q=.5>l?l*(1+s):l+s-l*s,p=2*l-q;r=hue2rgb(p,q,h+1/3),g=hue2rgb(p,q,h),b=hue2rgb(p,q,h-1/3)}return[Math.round(255*r),Math.round(255*g),Math.round(255*b)]}function rgbToHsv(r,g,b){r/=255,g/=255,b/=255;var max=Math.max(r,g,b),min=Math.min(r,g,b),h=max,s=max,v=max,d=max-min;if(s=0===max?0:d/max,max==min)h=0;else{switch(max){case r:h=(g-b)/d+(b>g?6:0);break;case g:h=(b-r)/d+2;break;case b:h=(r-g)/d+4}h/=6}return[h,s,v]}function hsvToRgb(h,s,v){var r,g,b,i=Math.floor(6*h),f=6*h-i,p=v*(1-s),q=v*(1-f*s),t=v*(1-(1-f)*s);switch(i%6){case 0:r=v,g=t,b=p;break;case 1:r=q,g=v,b=p;break;case 2:r=p,g=v,b=t;break;case 3:r=p,g=q,b=v;break;case 4:r=t,g=p,b=v;break;case 5:r=v,g=p,b=q}return[Math.round(255*r),Math.round(255*g),Math.round(255*b)]}function sortedGroupBy(list,groupByIter,sortByIter){var groups=_.groupBy(list,groupByIter);return groups=_.sortBy(groups,sortByIter)}function splitIntoGroups(list,nGroups){var groups=[];if(!list)return groups;for(var groupSize=Math.ceil(list.length/nGroups),i=0;i<list.length;i+=groupSize)groups.push(list.slice(i,i+groupSize));return groups}function verticalCenterEl($container,$el){$el.css("position","relative"),$el.css("top",$container.height()/2-$el.height()/2)}function concatName(nameObj){var full_name=nameObj.first_name;if(nameObj.middle_name)full_name=full_name+" "+nameObj.middle_name;if(nameObj.last_name)full_name=full_name+" "+nameObj.last_name;return full_name}function removeDiacritics(str){for(var i=0;i<defaultDiacriticsRemovalMap.length;i++)str=str.replace(defaultDiacriticsRemovalMap[i].letters,defaultDiacriticsRemovalMap[i].base);return str}function getCourseName(home_link){if(!_.isString(home_link))return null;var regexp=new RegExp("^https://([^.]+)\\.[^.]+\\.org/(.*)$"),match=regexp.exec(home_link);if(null===match)return null;else return{courseDomain:match[1],courseName:match[2]}}function isChina(){var subdomain=window.location.hostname.split(".")[0];return["cn","staging-china"].indexOf(subdomain)>=0}function styleRightToLeft($el){$el.find("[data-user-generated]").attr("dir","auto"),$el.find("[data-user-generated] code").attr("dir","ltr"),$el.find("[data-user-generated] > ol,ul").attr("dir","rtl"),$el.find("[data-user-generated] a,li").wrapInner("<bdi></bdi>")}function makeCheckCertFn(filename){return function(universityShortName){var deferred=$.Deferred();if(universityShortName=universityShortName||"_generic",universityShortName in ST_CERT_CACHE){if(ST_CERT_CACHE[universityShortName])deferred.resolve("https://s3.amazonaws.com/coursera/universities/"+universityShortName+"/"+filename);else deferred.resolve("https://s3.amazonaws.com/coursera/universities/_generic/"+filename);return deferred}var img=new Image;return img.onload=function(){ST_CERT_CACHE[universityShortName]=!0,deferred.resolve("https://s3.amazonaws.com/coursera/universities/"+universityShortName+"/"+filename)},img.onerror=function(){ST_CERT_CACHE[universityShortName]=!1,deferred.resolve("https://s3.amazonaws.com/coursera/universities/_generic/"+filename)},img.src="https://s3.amazonaws.com/coursera/universities/"+universityShortName+"/"+filename,deferred}}var $=require("jquery"),_=require("underscore"),Coursera=require("js/lib/coursera"),cookie=require("js/lib/cookie"),moment=require("js/vendor/moment.v2-2"),defaultDiacriticsRemovalMap=[{base:"A",letters:/[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]/g},{base:"AA",letters:/[\uA732]/g},{base:"AE",letters:/[\u00C6\u01FC\u01E2]/g},{base:"AO",letters:/[\uA734]/g},{base:"AU",letters:/[\uA736]/g},{base:"AV",letters:/[\uA738\uA73A]/g},{base:"AY",letters:/[\uA73C]/g},{base:"B",letters:/[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]/g},{base:"C",letters:/[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]/g},{base:"D",letters:/[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]/g},{base:"DZ",letters:/[\u01F1\u01C4]/g},{base:"Dz",letters:/[\u01F2\u01C5]/g},{base:"E",letters:/[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]/g},{base:"F",letters:/[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]/g},{base:"G",letters:/[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]/g},{base:"H",letters:/[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]/g},{base:"I",letters:/[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]/g},{base:"J",letters:/[\u004A\u24BF\uFF2A\u0134\u0248]/g},{base:"K",letters:/[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]/g},{base:"L",letters:/[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]/g},{base:"LJ",letters:/[\u01C7]/g},{base:"Lj",letters:/[\u01C8]/g},{base:"M",letters:/[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]/g},{base:"N",letters:/[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]/g},{base:"NJ",letters:/[\u01CA]/g},{base:"Nj",letters:/[\u01CB]/g},{base:"O",letters:/[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]/g},{base:"OI",letters:/[\u01A2]/g},{base:"OO",letters:/[\uA74E]/g},{base:"OU",letters:/[\u0222]/g},{base:"P",letters:/[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]/g},{base:"Q",letters:/[\u0051\u24C6\uFF31\uA756\uA758\u024A]/g},{base:"R",letters:/[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]/g},{base:"S",letters:/[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]/g},{base:"T",letters:/[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]/g},{base:"TZ",letters:/[\uA728]/g},{base:"U",letters:/[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]/g},{base:"V",letters:/[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]/g},{base:"VY",letters:/[\uA760]/g},{base:"W",letters:/[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]/g},{base:"X",letters:/[\u0058\u24CD\uFF38\u1E8A\u1E8C]/g},{base:"Y",letters:/[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]/g},{base:"Z",letters:/[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]/g},{base:"a",letters:/[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/g},{base:"aa",letters:/[\uA733]/g},{base:"ae",letters:/[\u00E6\u01FD\u01E3]/g},{base:"ao",letters:/[\uA735]/g},{base:"au",letters:/[\uA737]/g},{base:"av",letters:/[\uA739\uA73B]/g},{base:"ay",letters:/[\uA73D]/g},{base:"b",letters:/[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/g},{base:"c",letters:/[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/g},{base:"d",letters:/[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/g},{base:"dz",letters:/[\u01F3\u01C6]/g},{base:"e",letters:/[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/g},{base:"f",letters:/[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]/g},{base:"g",letters:/[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/g},{base:"h",letters:/[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/g},{base:"hv",letters:/[\u0195]/g},{base:"i",letters:/[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/g},{base:"j",letters:/[\u006A\u24D9\uFF4A\u0135\u01F0\u0249]/g},{base:"k",letters:/[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/g},{base:"l",letters:/[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/g},{base:"lj",letters:/[\u01C9]/g},{base:"m",letters:/[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/g},{base:"n",letters:/[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/g},{base:"nj",letters:/[\u01CC]/g},{base:"o",letters:/[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/g},{base:"oi",letters:/[\u01A3]/g},{base:"ou",letters:/[\u0223]/g},{base:"oo",letters:/[\uA74F]/g},{base:"p",letters:/[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/g},{base:"q",letters:/[\u0071\u24E0\uFF51\u024B\uA757\uA759]/g},{base:"r",letters:/[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/g},{base:"s",letters:/[\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]/g},{base:"t",letters:/[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/g},{base:"tz",letters:/[\uA729]/g},{base:"u",letters:/[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/g},{base:"v",letters:/[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/g},{base:"vy",letters:/[\uA761]/g},{base:"w",letters:/[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/g},{base:"x",letters:/[\u0078\u24E7\uFF58\u1E8B\u1E8D]/g},{base:"y",letters:/[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/g},{base:"z",letters:/[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/g}],ST_CERT_CACHE={_generic:!0};return{handleAPIError:handleAPIError,checkRedirect:checkRedirect,handleRedirect:handleRedirect,redirectToAccounts:redirectToAccounts,createAccountsUrl:createAccountsUrl,setupInternalLinks:setupInternalLinks,setupFormSave:setupFormSave,renderAllErrors:renderAllErrors,renderFieldErrors:renderFieldErrors,isMobileDevice:isMobileDevice,isIOS:isIOS,isTouchSupported:isTouchSupported,isCanvasSupported:isCanvasSupported,scrollToInternalLink:scrollToInternalLink,makeHttps:makeHttps,getToday:getToday,prettyJoin:prettyJoin,getUrlParam:getUrlParam,changeUrlParam:changeUrlParam,getUrlPath:getUrlPath,inView:inView,countCS:countCS,setupPromos:setupPromos,prettifyTime:prettifyTime,prettifyUrl:prettifyUrl,addCommas:addCommas,extractFirstSubdir:extractFirstSubdir,linkifyText:linkifyText,rgbToHsl:rgbToHsl,hslToRgb:hslToRgb,rgbToHsv:rgbToHsv,hsvToRgb:hsvToRgb,verticalCenterEl:verticalCenterEl,sortedGroupBy:sortedGroupBy,splitIntoGroups:splitIntoGroups,concatName:concatName,removeDiacritics:removeDiacritics,getCourseName:getCourseName,isChina:isChina,styleRightToLeft:styleRightToLeft,getSTCertCorner:makeCheckCertFn("signature-cert-corner.png"),getSTCertIcon:makeCheckCertFn("signature-cert-icon.png")}}),define("bundles/catalogP/models/partner",["require","bundles/catalogP/constants","bundles/catalogP/models/catalogModel","js/lib/path","js/lib/util"],function(require){var constants=require("bundles/catalogP/constants"),CatalogModel=require("bundles/catalogP/models/catalogModel"),path=require("js/lib/path"),util=require("js/lib/util"),Partner=CatalogModel.extend({includes:{instructors:{resource:"instructors.v1",attribute:"instructorIds"},courses:{resource:"courses.v1",attribute:"courseIds"}},resourceName:"partners.v1",urlPath:"partners",getLink:function(){return this.get("homeLink")||path.join(constants.config.dir.home,this.get("shortName"))},getName:function(){return this.get("name")},getPrettyWebsiteUrl:function(){var url=this.get("links").website;return url=url.replace(/^.*:\/\//,""),url=url.replace(/\/$/,"")},getCertLogoUrlPromise:function(){return util.getSTCertIcon(this.get("shortName"))}});return Partner}),define("bundles/catalogP/models/partners",["require","bundles/catalogP/lib/stringifyList","bundles/catalogP/models/catalogCollection","bundles/catalogP/models/partner"],function(require){var stringifyList=require("bundles/catalogP/lib/stringifyList"),CatalogCollection=require("bundles/catalogP/models/catalogCollection"),Partner=require("bundles/catalogP/models/partner"),Partners=CatalogCollection.extend({model:Partner,resourceName:"partners.v1",getNamesString:function(){return stringifyList(this.pluck("name"))}});return Partners}),define("bundles/catalogP/models/category",["require","bundles/catalogP/models/catalogModel"],function(require){var CatalogModel=require("bundles/catalogP/models/catalogModel"),Category=CatalogModel.extend({resourceName:"categories.v1"});return Category}),define("bundles/catalogP/models/categories",["require","bundles/catalogP/models/catalogCollection","bundles/catalogP/models/category"],function(require){var CatalogCollection=require("bundles/catalogP/models/catalogCollection"),Category=require("bundles/catalogP/models/category"),Categories=CatalogCollection.extend({model:Category,resourceName:"categories.v1"});return Categories}),define("bundles/catalogP/models/specializations",["require","bundles/catalogP/models/catalogCollection","bundles/catalogP/models/specialization"],function(require){var CatalogCollection=require("bundles/catalogP/models/catalogCollection"),Specialization=require("bundles/catalogP/models/specialization"),Specializations=CatalogCollection.extend({model:Specialization,resourceName:"specializations.v1",includes:{}});return Specializations}),define("bundles/phoenix/template/models/backbone.immutable",["require"],function(require){function makeImmutableModel(Model){var originalInitialize=Model.prototype.initialize;return Model.extend({initialize:function(){if(originalInitialize)originalInitialize.apply(this,arguments);this.set=function(){console.error("set called on immutable model")}}})}return makeImmutableModel}),!function(wndw){var Experiments={},ExperimentInstances={},ABCingletons=null,MAX_SYNC_TIME=3e3,sendConversionEvents=function(experimentNames,attribute,$convert,callback){var after;if(callback){var max_sync_time=parseInt($convert.attr(attribute+"-convert-time")||MAX_SYNC_TIME,10);if(max_sync_time>0)setTimeout(callback,max_sync_time);after=_.after(experimentNames.length,callback)}_.each(experimentNames,function(experimentName){var types=_.keys(ABCingletons),called=!1;if(_.each(types,function(type){var experiment=ABCingletons[type].getExperiment(experimentName);if(experiment)experiment.convert($convert.attr(attribute+"-convert"),after),called=!0}),!called&&after)after()})},extractExperimentNames=function($convert,attribute){var experimentNames=$convert.attr(attribute)||"";return experimentNames.split(",")},convertIfNotAlready=function($convert,attribute){var activeAttr=attribute+"-convert-for-sync-active",converted=$convert.data(activeAttr)===!0;if(!converted)$convert.data(activeAttr,!0);return converted},AB=function($,_,Log,Cookie,sjcl){var _private={listenForConversion:function(attribute){$("body").on("click.ab","["+attribute+"-convert-for]",function(){var $convert=$(this),experimentNames=extractExperimentNames($convert,attribute+"-convert-for");sendConversionEvents(experimentNames,attribute,$convert)}),$("body").on("submit.ab","form["+attribute+"-convert-for-sync]",function(e){var $convert=$(this);if(!convertIfNotAlready($convert,attribute)){e.preventDefault();var experimentNames=extractExperimentNames($convert,attribute+"-convert-for-sync"),goto=function(){$convert.submit()};sendConversionEvents(experimentNames,attribute,$convert,goto)}}),$("body").on("click.ab","a["+attribute+"-convert-for-sync]",function(e){var $convert=$(this);if(!convertIfNotAlready($convert,attribute)){e.preventDefault();var experimentNames=extractExperimentNames($convert,attribute+"-convert-for-sync"),href=$convert.attr("href");if(href){var goto=function(){window.location.href=href};sendConversionEvents(experimentNames,attribute,$convert,goto)}}})},chooseVariant:function(){var that=this;
if(!that.valid)return null;if(that.options.debug){var overrideString="ab-"+that.type+"-"+that.name+"-override",chosen=Cookie.get(overrideString)||$(wndw.document).find("body").attr("data-"+overrideString)||"localStorage"in window&&localStorage.getItem(overrideString);if(null!=chosen){var variant=_.find(that.options.variants,function(variant){return variant.name==chosen});if(variant)return variant;else that.options.logger.error("Invalid variant: "+chosen)}}var key=that.id+"_"+that.name,digest=sjcl.codec.hex.fromBits(sjcl.hash.sha1.hash(key)),hashValue=parseInt(digest.substr(digest.length-8),16),maxHashValue=Math.pow(2,32),totalWeight=0,i;for(i=0;i<that.weights.length;i++)totalWeight+=that.weights[i];var targetWeight=hashValue/maxHashValue*totalWeight;for(i=0;i<that.weights.length;i++)if(targetWeight-=that.weights[i],0>targetWeight)return that.options.variants[i];return that.options.variants[that.weights.length-1]}},module=function(id,type,_options){for(var that=this,options=_options||{},parts=location.host.split(".");parts.length>2;)parts.shift();this.id=id,this.type=type,this.options={},this.options.domain=options.domain||"."+parts.join("."),this.options.logger=options.logger||Log({level:"error"}),this.options.tracker=options.tracker||[],this.options.debug=options.debug||!1,this.options.attribute="data-ab-"+this.type,this.experiments={},Experiments[this.type]={},ExperimentInstances[this.type]={}};module.prototype.setId=function(id){if(!this.id)this.id=id;else if(this.id!==id)this.options.logger.error("can't change an existing id, create new AB test instead")},module.prototype.addExperiment=function(name,options){if(!Experiments[this.type][name])if(options&&options.variants){var variants=_.filter(options.variants,function(option){return option.baseline}),weights=_.reduce(_.pluck(options.variants,"weight"),function(memo,num){return memo+num},0);if(variants&&1==variants.length&&1==weights.toFixed(10))Experiments[this.type][name]=options;else if(variants.length>1)this.options.logger.error("experiment "+name+" contains more than one baseline variants");else if(1>weights)this.options.logger.error("experiment "+name+" contains variants that don't sum to 1.0");else this.options.logger.error("experiment "+name+" has no baseline variant")}else this.options.logger.error("experiment "+name+" has no variants");else this.options.logger.error("experiment "+name+" already exists")},module.prototype.addExperiments=function(experiments){var that=this,keys=_.keys(experiments);_.each(keys,function(name){that.addExperiment(name,experiments[name])})},module.prototype.getExperiment=function(name){if(Experiments[this.type][name]){if(!ExperimentInstances[this.type][name]){var options=Experiments[this.type][name];ExperimentInstances[this.type][name]=new Experiment(this.id,name,{type:this.type,variants:Experiments[this.type][name].variants,logger:this.options.logger,debug:this.options.debug,tracker:this.options.tracker,domain:this.options.domain})}return ExperimentInstances[this.type][name]}else return null},module.prototype.runExperimentsOn=function(dom){var that=this,$variants=$(dom).find("["+this.options.attribute+"-variant-for]");$variants.hide();var experimentNames=[];$variants.each(function(){var $variant=$(this);experimentNames.push($variant.attr(that.options.attribute+"-variant-for"))}),experimentNames=_.uniq(experimentNames),_.each(experimentNames,function(experimentName){var experiment=that.getExperiment(experimentName);if(experiment){var chosen=experiment.getChosenVariant(),$chosen=$variants.filter("["+that.options.attribute+"-variant-for="+experimentName+"]").filter("["+that.options.attribute+"-variant="+chosen+"]");if($chosen.size())$chosen.show();else that.options.logger.error("variants "+chosen+" for "+that.type+" experiment "+experimentName+" not found in the dom")}else that.options.logger.error(that.type+" experiment "+experimentName+" found on page but not added yet")})};var Experiment=function(id,name,options){var self=this;if(self.id=id,self.options=options,self.name=name,self.type=self.options.type,self.weights=_.pluck(self.options.variants,"weight"),self.valid=self.sanityCheck(name,self.weights),self.valid)self.options.logger.info("Created experiment ["+name+"] with "+self.options.variants.length+" variants.");else self.options.logger.info("Error in experiment ["+name+"]; resorting to fail-safe.")};Experiment.prototype.sanityCheck=function(name,weights){var self=this,i;if("string"!=typeof name)return self.options.logger.error("name should be a string!"),!1;if("ab-"==name.substr(0,3))return self.options.logger.error("name should not begin with 'ab-'!"),!1;if(!$.isArray(weights))return self.options.logger.error("weights should be an array!"),!1;else for(i=0;i<weights.length;i++)if(weights[i]<0)return self.options.logger.error("All weights must be non-negative!"),!1;return!0},Experiment.prototype.getChosenVariant=function(){var that=this,experimentName=that.name,memory=Cookie.get("ab-experiments-"+that.type)||"";if(-1==memory.indexOf(experimentName)){if(memory.length>0)memory=memory+","+experimentName;else memory=experimentName;Cookie.clear("ab-experiments-"+that.type),Cookie.set("ab-experiments-"+that.type,memory,{expires:365,domain:that.options.domain})}if(_.isUndefined(this.chosen))if(this.chosen=_private.chooseVariant.call(this),this.valid){var variant_detail=this.chosen.baseline?this.chosen.name+",baseline":this.chosen.name;this.options.tracker.push(["ab.show",this.type+","+this.name+","+variant_detail+":"+this.id])}else this.options.tracker.push(["ab.fail",this.type+","+this.name+":"+this.id]);return this.chosen.name},Experiment.prototype.convert=function(value,callback){var experimentNames=(Cookie.get("ab-experiments-"+this.type)||"").split(",");if(experimentNames&&-1!=experimentNames.indexOf(this.name)&&this.valid){if(_.isUndefined(this.chosen))this.chosen=_private.chooseVariant.call(this);var variant_detail=this.chosen.baseline?this.chosen.name+",baseline":this.chosen.name;if(_.isUndefined(value))value="default";var data=["ab.convert",this.type+","+this.name+","+variant_detail+","+value+":"+this.id];if(callback)data.push(callback);this.options.tracker.push(data)}else if(callback)callback()};var external=function(id,type,options){if(!ABCingletons)ABCingletons={};if(!ABCingletons[type]){var ab=ABCingletons[type]=new module(id,type,options);return _private.listenForConversion(ab.options.attribute),ab}else return ABCingletons[type].setId(id),ABCingletons[type]};return external.makeSession=function(name,options){var sessionId=Cookie.get(name);if(!sessionId)sessionId=(1e10*Math.random()).toFixed()+"-"+(new Date).getTime(),Cookie.set(name,sessionId,options||{expires:14,domain:options.domain});return sessionId},external};if("function"==typeof define&&define.amd)define("js/lib/ab.v0-0-1",["require","js/vendor/jquery.v2-1","js/vendor/underscore.v1-6","js/lib/log.v0-0-1","js/vendor/cookie.v0-0-1","js/lib/sjcl","js/lib/sjcl-bitArray","js/lib/sjcl-codecHex","js/lib/sjcl-codecString","js/lib/sjcl-sha1","js/lib/json2"],function(require){var $=require("js/vendor/jquery.v2-1"),_=require("js/vendor/underscore.v1-6"),Log=require("js/lib/log.v0-0-1"),Cookie=require("js/vendor/cookie.v0-0-1"),sjcl=require("js/lib/sjcl"),bitArray=require("js/lib/sjcl-bitArray"),codecHex=require("js/lib/sjcl-codecHex"),codecString=require("js/lib/sjcl-codecString"),sha1=require("js/lib/sjcl-sha1");return require("js/lib/json2"),AB($,_,Log,Cookie,sjcl)});else wndw.AB=AB(wndw.$,wndw._,wndw.Log,wndw.Cookie,wndw.sjcl)}(window),!function(global){var module=function(AB,multitracker,log,Cookie,experiments,UserJSON){var init=function(){for(var parts=location.host.split(".");parts.length>2;)parts.shift();var domain="."+parts.join("."),_204SessionId=Cookie.get("__204u"),sessionId=AB.makeSession("__204u",{expires:365,domain:domain});if(!_204SessionId)Cookie.set("__204u",sessionId,{expires:365,domain:domain});var ab={user:null,session:null};if(ab.session=AB(sessionId,"session",{debug:!0,tracker:multitracker,logger:log,domain:domain}),experiments.session)ab.session.addExperiments(experiments.session);if(ab.user=AB(null,"user",{debug:!0,tracker:multitracker,logger:log,domain:domain}),experiments.user)ab.user.addExperiments(experiments.user);return ab};return init()};if("function"==typeof define&&define.amd)define("js/lib/coursera.ab.v0-0-1",["js/lib/ab.v0-0-1","js/app/multitrackerSingleton.v0-0-1","js/app/loggerSingleton.v0-0-1","js/vendor/cookie.v0-0-1","js/json/experiments.ab"],function(AB,multitracker,log,Cookie,experiments){return module(AB,multitracker,log,Cookie,experiments)});else;}(window),define("js/lib/schema.v0-0-1",["require","js/vendor/underscore.v1-6"],function(require){var _=require("js/vendor/underscore.v1-6"),Rules=function(param,rules){this.param=param,this.rules=rules};Rules.prototype.Error=function(message,rule,value){return rule},Rules.prototype.apply=function(value){if(_.isEmpty(value)&&!_.isUndefined(this.rules["default"]))value=this.rules["default"];if(this.rules.required){if(this.rules.required&&(_.isUndefined(value)||_.isUndefined(this.rules.type)&&/^\s*$/.test(value)))throw this.Error("%p is a required parameter","required",value)}else if(_.isUndefined(value))return value;if(this.rules.filters)value=this.filter(value);if(this.rules.type)if("string"==typeof this.rules.type&&"function"==typeof is[this.rules.type]){if(!is[this.rules.type](value))throw this.Error("%p is not a "+this.rules.type,"type",value)}else if(!0){if(!this.rules.type(value))throw this.Error("%p is not a valid type","type",value)}else throw this.Error("%p is not a valid type","type",value);if(this.rules.properties)this.check(value);return value},Rules.prototype.filter=function(value){switch(typeof this.rules.filters){case"function":value=this.rules.filters(value);break;case"string":if(_.isFunction(filters[this.rules.filters]))value=filters[this.rules.filters](value);break;case"object":if(_.isArray(this.rules.filters))this.rules.filters.forEach(function(filter){value=filters[filter](value)})}return value},Rules.prototype.check=function(value){switch(typeof this.rules.properties){case"function":if(!this.rules.properties(value))throw this.Error("%p is not valid");break;case"object":for(var properties=_.keys(this.rules.properties),i=0;i<properties.length;i++){var property=properties[i];if("function"==typeof checks[property]){var args=this.rules.properties[property];if(!checks[property].apply(null,[value,args]))throw this.Error("%p failed %r with %v",property)}else if("function"==typeof this.rules.properties[property])if(!this.rules.properties[property].apply(null,[value]))throw this.Error("%p failed on %r with %v",property)}}};var checks={max:function(value,length){if(_.isArray(value)||_.isString(value))return value.length<=length;else if("number"==typeof value)return length>=value;else return!1},min:function(value,length){if(_.isArray(value)||"string"==typeof value)return value.length>=length;else if("number"==typeof value)return value>=length;else return!1},regex:function(value,regex){return regex.test(value)},"in":function(value,list){return-1!=list.indexOf(value)},value:function(value,requiredValue){return value===requiredValue}},is={"string+":function(value){return"string"==typeof value&&""!==value},string:function(value){return"string"==typeof value},alphanum:function(value){return/^[a-zA-Z0-9]+$/i.test(value)},alpha:function(value){return/^[a-zA-Z]+$/i.test(value)},object:function(value){return"object"==typeof value&&!_.isArray(value)},array:function(value){return _.isArray(value)},date:function(value){return _.isDate(value)&&!isNaN(value.getTime())},number:function(value){return"number"==typeof value&&!isNaN(value)},"int":function(value){return"number"==typeof value&&value%1===0&&!isNaN(value)},"boolean":function(value){return _.isBoolean(value)},"float":function(value){return"number"==typeof value&&!isNaN(value)},email:function(value){return/[a-zA-Z0-9!#$%&'*+\/=?\^_`{|}~\-]+(?:\.[a-zA-Z0-9!#$%&'*+\/=?\^_`{|}~\-]+)*@(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-]*[a-zA-Z])?$/.test(value)},url:function(value){return/^(http(s)?:\/\/)?([\w\-]+\.{1})*(([\w\-]*){1}(\.{1}[A-Za-z]{2,4}){1}){1}(\:{1}\d*)?([\?\/|\#]+[\@\~\;\+\'\#\,\.\%\-\/\&\?\=\w\$\s]*)*$/i.test(value)},zipcode:function(value){return/\d{5}/.test(value)}},filters={toInt:function(value){return parseInt(value,10)},toFloat:function(value){return parseFloat(value,10)},toString:function(value){return value.toString()},toDate:function(value){return new Date(value)},toBoolean:function(value){if(1===value||value===!0||/true|on|yes|1/.test(value))return!0;else if(0===value||value===!1||/false|off|no|0/.test(value))return!1;else return value},trim:function(value){return _.isString(value)?value.replace(/^\s\s*/,"").replace(/\s\s*$/,""):value},lowercase:function(value){return _.isString(value)?value.toLowerCase():value},uppercase:function(value){return _.isString(value)?value.toUpperCase():value}},rules={create:function(param,rules){return new Rules(param,rules)},types:is,filters:filters,properties:checks},Schema=function(schema){this.schema=schema};Schema.prototype.validate=function(data){for(var params=_.keys(this.schema),errors={},values={},value,get="function"==typeof data?data:function(p){return data[p]},i=0;i<params.length;i++){var schema=this.schema[params[i]];try{if(value=rules.create(params[i],schema).apply(get(params[i])),!_.isUndefined(value))values[params[i]]=value;if("object"==typeof schema.schema&&!_.isArray(schema.schema)&&_.keys(schema.schema).length&&!_.isUndefined(values[params[i]]))if("object"==schema.type)_.keys(schema.schema).forEach(function(param){try{if(value=rules.create(params[i]+"."+param,schema.schema[param]).apply(get(params[i])[param]),!_.isUndefined(value))values[params[i]][param]=value}catch(error){if(!errors[params[i]]||"object"!=typeof errors[params[i]])errors[params[i]]={};errors[params[i]][param]=error}});else if("array"==schema.type)values[params[i]].forEach(function(value,index){try{values[params[i]][index]=rules.create(params[i]+"["+index+"]",schema.schema).apply(value)}catch(error){if(!_.isArray(errors[params[i]]))errors[params[i]]=[];errors[params[i]][index]=error}})}catch(error){errors[params[i]]=error}}return{data:values,errors:errors,valid:0===_.keys(errors).length}};var schema={test:function(value,schema){return new Schema({input:schema}).validate({input:value})},create:function(schema){return new Schema(schema)},rules:rules};return schema}),define("pages/authinsite/common/api/organization",["require","bundles/phoenix/lib/apiWrapper"],function(require){var API=require("bundles/phoenix/lib/apiWrapper");return API("/api/organizations.v1",{type:"rest"})}),define("pages/authinsite/common/data/organization",["require","q","pages/authinsite/common/api/organization"],function(require){var Q=require("q"),organizationApi=require("pages/authinsite/common/api/organization");return function(subdomain){return Q(organizationApi.get(subdomain))}}),define("bundles/courseraCatalogAPI/lib/parseNaptimeResponse",["require","underscore"],function(require){var _=require("underscore");return function(json){if(json.elements)return _(json.elements).map(function(element){var parsed=_.omit(element,"links"),links=element.links;return _(links).each(function(ids,key){parsed[key]=_(ids).map(function(id){var idData={id:id},linkedData=_(json.linked[key]).findWhere(idData);return linkedData||idData})}),parsed});else return json}}),define("pages/authinsite/constants",["require","js/app/config"],function(require){var config=require("js/app/config");return{config:config,rootPath:"/account",courseraShortName:"coursera",courseraSubdomains:["www","site","cn"],typingPauseBeforeValidation:500}}),define("pages/authinsite/common/models/organization",["require","bundles/courseraCatalogAPI/lib/parseNaptimeResponse","js/vendor/backbone.v1-1-2","pages/authinsite/constants"],function(require){var parseNaptimeResponse=require("bundles/courseraCatalogAPI/lib/parseNaptimeResponse"),Backbone=require("js/vendor/backbone.v1-1-2"),constants=require("pages/authinsite/constants"),Organization=Backbone.Model.extend({isCoursera:function(){return this.get("shortName")===constants.courseraShortName},parse:function(json){return parseNaptimeResponse(json)[0]||json}});return Organization}),define("pages/authinsite/common/promises/organization",["require","q","js/vendor/underscore.v1-6","pages/authinsite/common/data/organization","pages/authinsite/common/models/organization","pages/authinsite/constants"],function(require){var Q=require("q"),_=require("js/vendor/underscore.v1-6"),organizationData=require("pages/authinsite/common/data/organization"),Organization=require("pages/authinsite/common/models/organization"),constants=require("pages/authinsite/constants"),courseraOrganization=new Organization({shortName:"coursera",name:"Coursera",logoUrl:null});return function(){var subdomain=window.location.hostname.split(".")[0];if(_(constants.courseraSubdomains).contains(subdomain))return Q(courseraOrganization);else return organizationData(subdomain).then(function(data){return new Organization(data,{parse:!0})}).fail(function(){return Q(courseraOrganization)})}}),define("pages/authinsite/common/account",["require","js/lib/schema.v0-0-1","js/vendor/backbone.v1-1-2","js/vendor/jquery.v2-1","q","js/vendor/underscore.v1-6","pages/authinsite/common/api/api","pages/authinsite/common/promises/organization"],function(require){var schema=require("js/lib/schema.v0-0-1"),Backbone=require("js/vendor/backbone.v1-1-2"),$=require("js/vendor/jquery.v2-1"),Q=require("q"),_=require("js/vendor/underscore.v1-6"),api=require("pages/authinsite/common/api/api"),organizationPromise=require("pages/authinsite/common/promises/organization"),accountManager={makeRequest:function(organizationOpt,data,deferred,url){this.getOrganization(organizationOpt).then(function(organization){if(!organization.isCoursera())data.org=organization.get("id");api.post(url,{data:data}).then(deferred.resolve).fail(function(xhr){deferred.reject(xhr.responseText)})}).fail(function(err){deferred.reject(err)})},getOrganization:function(organizationOpt){if(void 0===organizationOpt)return organizationPromise();else return Q(organizationOpt)},loginSchema:schema.create({email:{type:"string+",filters:"trim",required:!0},password:{type:"string+",filters:"trim",required:!0}}),validateLogin:function(data){return this.loginSchema.validate(data)},login:function(data,organization){var deferred=Q.defer(),validatedSchema=this.validateLogin(data);if(!validatedSchema.valid)deferred.reject(validatedSchema.errors);else{var formData=_.extend({},validatedSchema.data,{webrequest:!0});this.makeRequest(organization,formData,deferred,"/login/v1")}return deferred.promise},registerSchema:schema.create({name:{type:"string+",filters:"trim",properties:{max:255},required:!0},email:{type:"email",filters:"trim",required:!0},verifyEmail:{type:"string+",filters:"trim",required:!0},password:{type:"string",filters:"trim",properties:{max:255,min:6},required:!0},termsAgree:{type:"boolean",filters:"toBoolean",properties:{value:!0},required:!0}}),validateRegister:function(data){var schema=this.registerSchema.validate(data);if(schema.data.email!==schema.data.verifyEmail)schema.valid=!1,schema.errors.verifyEmail="match";return schema},register:function(data,organization){var deferred=Q.defer(),validatedSchema=this.validateRegister(data);if(!validatedSchema.valid)deferred.reject(validatedSchema.errors);else{var formData=_(validatedSchema.data).pick("name","email","verifyEmail","password");this.makeRequest(organization,formData,deferred,"/register/v1")}return deferred.promise},passwordResetSchema:schema.create({email:{type:"string+",filters:"trim",required:!0}}),validatePasswordResetRequest:function(data){return this.passwordResetSchema.validate(data)},requestPasswordReset:function(data,organization){var deferred=Q.defer(),validatedSchema=this.validatePasswordResetRequest(data);if(!validatedSchema.valid)deferred.reject(validatedSchema.errors);else{var formData=validatedSchema.data;this.makeRequest(organization,formData,deferred,"/reset/v1/request")}return deferred.promise}};return accountManager}),define("bundles/nanigans/constants",["require","js/app/config"],function(require){var config=require("js/app/config");return{config:config,baseUrl:"https://api.nanigans.com/event.php",baseParameters:{app_id:125001}}}),define("bundles/nanigans/tracker",["require","jquery","q","underscore","bundles/nanigans/constants","js/lib/uri"],function(require){var $=require("jquery"),Q=require("q"),_=require("underscore"),constants=require("bundles/nanigans/constants"),URI=require("js/lib/uri"),load=function(src){var defer=Q.defer(),img=new window.Image,$img=$(img);if(img.complete===!0)window.setTimeout(function(){defer.resolve({cached:!0})},1);else $img.on("load",defer.resolve),$img.on("error",defer.reject);return $img.attr({src:src}),defer.promise},generateTrackingCall=function(url){if("development"!==constants.config.environment)return load(url);else return nanigans.logger.log("Nanigans tracking",url),Q({})},throwError=function(err){if("development"!==constants.config.environment)nanigans.logger.error(err);else throw new Error(err)},genUrl=function(type,name,additionalParams){var typeString=_(nanigans.EVENT_TYPE).chain().values().contains(type).value();if(!typeString)return throwError("Invalid event type: "+type);if(!name||!_.isString(name))return throwError("Missing or invalid event name: "+name);var baseUrl=new URI(constants.baseUrl),parameters=_({type:type,name:name}).extend(constants.baseParameters,additionalParams),url=_(parameters).reduce(function(url,value,key){if(value)return url.addQueryParam(key,value);else return url},baseUrl);return url.toString()},paymentsInfoToParams=function(paymentsInfo){return _(paymentsInfo).reduce(function(params,payment,i){if(_(payment).has("id")&&_(payment).has("value"))params["sku["+i+"]"]=payment.id,params["qty["+i+"]"]=1,params["value["+i+"]"]=100*parseInt(payment.value,10);return params},{})},nanigans={track:function(type,name,params){return params=params||{},generateTrackingCall(genUrl(type,name,params))},trackPayment:function(name,userId,paymentsInfo,orderId){paymentsInfo=_(paymentsInfo).isArray()?paymentsInfo:[paymentsInfo];var params=_({user_id:userId,unique:orderId}).extend(paymentsInfoToParams(paymentsInfo));return nanigans.track(nanigans.EVENT_TYPE.PURCHASE,name,params)},trackUserAction:function(name,userId){return nanigans.track(nanigans.EVENT_TYPE.USER,name,{user_id:userId})},trackInstall:function(userId){return nanigans.track(nanigans.EVENT_TYPE.INSTALL,"signup",{user_id:userId})},EVENT_TYPE:{INSTALL:"install",VISIT:"visit",PURCHASE:"purchase",USER:"user"},logger:console};return nanigans}),define("js/vendor/require.css.v0-1-2!bundles/phoenix/template/styl/userModal",[],function(){}),define("bundles/phoenix/template/models/userModal",["require","backbone","underscore","js/lib/coursera.ab.v0-0-1","js/app/config","js/lib/fsm","pages/authinsite/common/account","pages/authinsite/common/api/api","bundles/nanigans/tracker","css!bundles/phoenix/template/styl/userModal.css"],function(require){var Backbone=require("backbone"),_=require("underscore"),AB=require("js/lib/coursera.ab.v0-0-1"),config=require("js/app/config"),fsm=require("js/lib/fsm"),accountManager=require("pages/authinsite/common/account"),api=require("pages/authinsite/common/api/api"),nanigans=require("bundles/nanigans/tracker");require("css!bundles/phoenix/template/styl/userModal.css");var UserModal=Backbone.Model.extend(_.extend({},fsm.FiniteStateMachine,{defaults:{state:"hidden",redirectUrl:null},fsm:{states:["hidden","signup","login"]},show:function(mode,redirectUrl){this.set("redirectUrl",redirectUrl),this.transitionIfNot(mode||"signup")},tryLogin:function(data){accountManager.login(data).then(function(){if(this.get("redirectUrl"))window.location.assign(this.get("redirectUrl"));else window.location.reload()}.bind(this)).fail(function(err){this.trigger("loginFail")}.bind(this)).done()},trySignup:function(data){accountManager.register(data).then(function(){return api.get(config.url.base+"maestro/api/user/info")}).then(function(userData){AB.session.getExperiment("signup_title_copy").convert(),AB.session.getExperiment("signup_description_copy").convert(),nanigans.trackInstall(userData&&userData.id).fin(function(){if(this.get("redirectUrl"))window.location.assign(this.get("redirectUrl"));else window.location.reload()}.bind(this))}.bind(this)).fail(function(err){this.trigger("signupFail")}.bind(this)).done()}}));return new UserModal}),define("bundles/phoenix/template/models/userAuthorization",["require","backbone","underscore","bundles/phoenix/constants","bundles/phoenix/template/models/backbone.immutable","bundles/phoenix/template/models/userModal","js/app/multitrackerSingleton.v0-0-1","js/lib/coursera.redirect.v0-0-1","pages/home/models/user.json"],function(require){var Backbone=require("backbone"),_=require("underscore"),constants=require("bundles/phoenix/constants"),makeImmutableModel=require("bundles/phoenix/template/models/backbone.immutable"),userModal=require("bundles/phoenix/template/models/userModal"),Multitracker=require("js/app/multitrackerSingleton.v0-0-1"),redirect=require("js/lib/coursera.redirect.v0-0-1"),userJson=require("pages/home/models/user.json"),UserAuthorization=Backbone.Model.extend({parse:function(userJson){if(_(userJson).isEmpty())return{authenticated:!1,is_staff:!1,is_superuser:!1};else return _(userJson).chain().pick(["is_staff","is_superuser"]).extend({authenticated:!0}).value()},ensureAuthenticated:function(params){if(this.get("authenticated"))return!0;if(params=_({mode:"signup",redirectUrl:null}).extend(params),"login"===params.mode)Multitracker.pushV2(["open_course.user.login_modal.open"]);else if("signup"===params.mode)Multitracker.pushV2(["open_course.user.signup_modal.open"]);return userModal.show(params.mode,params.redirectUrl),!1},ensureAuthenticatedByRedirect:function(params){if(this.get("authenticated"))return!0;Multitracker.pushV2(["open_course.user.redirected_to_login"]);var mode=params?params.mode:"signin",urlParams=_.extend({r:window.location.pathname},params);return window.location.href=redirect.auth(constants.config.url.accounts+mode,urlParams),!1},redirectAfterAuthenticated:function(path,params){var signupParams=_.extend({r:window.location.href},params);window.location.href=redirect.auth(path,signupParams)},canTeachCourse:function(membership){var teachAccessRole=_(constants.courseRolesWithTeachAccess).contains(this.get("courseRole"));return teachAccessRole||this.get("is_superuser")}}),ImmutableUserAuthorization=makeImmutableModel(UserAuthorization),userAuthorizationSingleton=new ImmutableUserAuthorization(userJson,{parse:!0});return userAuthorizationSingleton}),define("pages/open-course/common/membershipApi",["require","bundles/phoenix/lib/apiWrapper","pages/open-course/common/constants"],function(require){var API=require("bundles/phoenix/lib/apiWrapper"),constants=require("pages/open-course/common/constants");return API(constants.openCourseMembershipApi,{type:"rest","batch.enabled":!0})}),define("pages/open-course/common/models/membership",["require","backbone-associations","q","underscore","pages/open-course/common/membershipApi","bundles/phoenix/template/models/userIdentity"],function(require){var Backbone=require("backbone-associations"),Q=require("q"),_=require("underscore"),membershipApi=require("pages/open-course/common/membershipApi"),userIdentity=require("bundles/phoenix/template/models/userIdentity"),Membership=Backbone.AssociatedModel.extend({api:membershipApi,defaults:function(){return{timestamp:Date.now()}},initialize:function(options){if(!_(options).has("courseId"))throw new Error("You must instantiate a Membership with a courseId");if(!_(options).has("id")){var userId=options.userId||userIdentity.get("id");this.set("id",userId+"~"+this.get("courseId"),{silent:!0})}},unenroll:function(){this.set("courseRole",this.constructor.NOT_ENROLLED);var options={data:this.toJSON()};return Q(this.api.put(this.get("id"),options))}},{NOT_ENROLLED:"NOT_ENROLLED",LEARNER:"LEARNER",MENTOR:"MENTOR"});return Membership}),define("bundles/catalogP/models/membership",["require","moment","q","underscore","bundles/catalogP/api/api","bundles/catalogP/api/api.promise","bundles/catalogP/constants","bundles/catalogP/models/catalogModel","bundles/phoenix/template/models/userAuthorization","bundles/phoenix/template/models/userIdentity","js/lib/path","pages/open-course/common/constants","pages/open-course/common/models/membership"],function(require){var moment=require("moment"),Q=require("q"),_=require("underscore"),API=require("bundles/catalogP/api/api"),APIPromise=require("bundles/catalogP/api/api.promise"),constants=require("bundles/catalogP/constants"),CatalogModel=require("bundles/catalogP/models/catalogModel"),currentUserAuth=require("bundles/phoenix/template/models/userAuthorization"),userIdentity=require("bundles/phoenix/template/models/userIdentity"),path=require("js/lib/path"),courseRolesWithTeachAccess=require("pages/open-course/common/constants").courseRolesWithTeachAccess,OnDemandMembership=require("pages/open-course/common/models/membership"),now=function(){return moment.utc()},Membership=CatalogModel.extend({fields:["courseId","role","enrolledTimestamp","lastAccessedTimestamp","id","grade","vc","v1SessionId"],includes:{course:{resource:"courses.v1",attribute:"courseId"},session:{resource:"v1Sessions.v1",attribute:"v1SessionId"},vcMembership:{resource:"vcMemberships.v1",attribute:"vcMembershipId"}},resourceName:"memberships.v1",getSpecialization:function(){return this.get("course").getFirstSpecialization()},getCourseGrade:function(forVC){return forVC?this.get("vcMembership.grade"):this.get("grade")},getCourseGradeString:function(forVC){var grade=this.getCourseGrade(forVC)||{score:0};return(Math.round(10*grade.score)/10).toFixed(1)},getRecordsLink:function(){return path.join(constants.accomplishments.baseUrl,"records",this.get("vcMembership.certificateCode"))},getFullRecordsLink:function(){return path.join(constants.config.url.base,this.getRecordsLink())},getVerifyLink:function(){return path.join(constants.accomplishments.baseUrl,"verify",this.get("vcMembership.certificateCode"))},hasPassed:function(forVC){var grade=this.getCourseGrade(forVC)||{};return grade.record===Membership.GRADE.PASSED},hasDistinction:function(forVC){var grade=this.getCourseGrade(forVC)||{};return grade.distinctionLevel===Membership.DISTINCTION.DISTINCTION},unenroll:function(){var course=this.get("course");if(course.isOnDemand()){var onDemandMembership=new OnDemandMembership({courseId:course.get("id")});return Q(onDemandMembership.unenroll())}else{var session=this.get("session");return Q(session.unenroll())}},getCourseProgressStatus:function(){var course=this.get("course");if(course.isOnDemand()){var progressPercent=this.getCourseProgressPercent();if(void 0===progressPercent)return void 0;else if(100>progressPercent)return Membership.PROGRESS.STARTED;else return Membership.PROGRESS.ENDED}else{var session=this.get("session");if(course.get("selfStudy"))return Membership.PROGRESS.STARTED;else if(!session||!session.getStartMoment())return Membership.PROGRESS.TBA;else if(session.hasEnded())return Membership.PROGRESS.ENDED;else if(!session.hasStarted())return Membership.PROGRESS.UPCOMING;else return Membership.PROGRESS.STARTED}},getCourseProgressPercent:function(){if(this.get("course").isOnDemand()){var progData=this.get("progressData");if(!progData)return void 0;else return progData.overall}else{var totalCourseDays=this.get("session").getDurationDays(),daysSoFar=Math.abs(Math.floor(this.get("session").getStartMomentFromToday().asDays())),completionPercent=Math.floor(daysSoFar/totalCourseDays*100);return Math.min(completionPercent,100)}},canTeachCourse:function(){var teachAccessRole=_(courseRolesWithTeachAccess).contains(this.get("role"));return teachAccessRole||currentUserAuth.get("is_superuser")
},getOnDemandProgressData:function(){var options={"batch.enabled":!0};return APIPromise(path.join("/opencourse.v1/user",userIdentity.get("id"),"course",this.get("course.slug")),options).then(function(data){this.set({progressData:data})}.bind(this))},getResumeLink:function(){var course=this.get("course");if(course.isOnDemand())return path.join("/","learn",course.get("slug"),"nextThing");else return course.getLink()},getPhoto:function(){var course=this.get("course"),nextItem=this.get("nextItem");if(course.isOnDemand()&&nextItem)return course.get("photoUrl");else return course.get("photoUrl")},hasVerifiedCertificate:function(){return this.get("vcMembership")&&this.hasPassed(!0)}},{ROLE:{NOT_ENROLLED:"NOT_ENROLLED",LEARNER:"LEARNER",MENTOR:"MENTOR"},GRADE:{PASSED:"PASSED",NOT_PASSED:"NOT_PASSED",NOT_PASSABLE:"NOT_PASSABLE"},DISTINCTION:{NO_DISTINCTION:"NO_DISTINCTION",NORMAL:"NORMAL",DISTINCTION:"DISTINCTION"},PROGRESS:{STARTED:"STARTED",ENDED:"ENDED",UPCOMING:"UPCOMING",TBA:"TBA"}});return Membership}),define("bundles/catalogP/models/memberships",["require","underscore","bundles/catalogP/models/catalogCollection","bundles/catalogP/models/membership"],function(require){var _=require("underscore"),CatalogCollection=require("bundles/catalogP/models/catalogCollection"),MembershipModel=require("bundles/catalogP/models/membership"),Memberships=CatalogCollection.extend({model:MembershipModel,resourceName:"memberships.v1",getEnrolledSessions:function(){return this.pluck("session")},getMembershipsForSession:function(session){return new Memberships(this.findWhere({v1SessionId:session.get("id")}))},getMembershipsForVCSession:function(session){return new Memberships(this.getMembershipsForSession(session).filter(function(membership){return membership.get("vcMembership")}))},filterByProgressStatus:function(status){var validStatus=_(MembershipModel.PROGRESS).chain().values().contains(status).value();if(!validStatus)throw new Error("Invalid Progress Status: "+status);else return new Memberships(this.filter(function(membership){return membership.getCourseProgressStatus()===status}))},filterVerifiedCertificates:function(){return new Memberships(this.filter(function(membership){return membership.hasVerifiedCertificate()}))}});return Memberships}),define("bundles/catalogP/models/specializationMembership",["require","underscore","bundles/catalogP/constants","bundles/catalogP/models/catalogModel","bundles/catalogP/models/courses","js/lib/path"],function(require){var _=require("underscore"),constants=require("bundles/catalogP/constants"),CatalogModel=require("bundles/catalogP/models/catalogModel"),Courses=require("bundles/catalogP/models/courses"),path=require("js/lib/path"),SpecializationMembership=CatalogModel.extend({resourceName:"specializationMemberships.v1",fields:["specializationId","bulkVoucher","eligibleForCapstone","certificateCode"],includes:{specialization:{resource:"specializations.v1",attribute:"specializationId"}},getFirstInterchangeableCourse:function(course){var interchangeableCourses=this.get("specialization").getInterchangeableCourses(course),enrolledCourses=_(interchangeableCourses).filter(function(course){return course.has("memberships")&&!course.get("memberships").isEmpty()}),passedCourse=_(enrolledCourses).find(function(course){return course.hasPassed(!0)});if(passedCourse)return passedCourse;else return _(interchangeableCourses).find(function(course){return _(course.getEnrolledSessions()).pluck("active")})},getPassedCourses:function(){return new Courses(this.get("specialization.courses").filter(function(course){var interchangeableCourse=this.getFirstInterchangeableCourse(course),passedInterchangeableCourse=interchangeableCourse&&interchangeableCourse.hasPassed(!0);return course.hasPassed(!0)||passedInterchangeableCourse},this))},hasPassed:function(){return this.getPassedCourses().length===this.get("specialization.courses").length},getCertificateCode:function(){return this.get("certificateCode")},hasSpecializationCertificate:function(){return this.hasPassed()&&this.getCertificateCode()},getRecordsLink:function(){return path.join(constants.accomplishments.baseUrl,"specialization",this.getCertificateCode())},getFullRecordsLink:function(){return path.join(constants.config.url.base,this.getRecordsLink())},getCertificateLink:function(){return path.join(constants.accomplishments.baseUrl,"specialization","certificate",this.getCertificateCode())},getFullCertificateLink:function(){return path.join(constants.config.url.base,this.getCertificateLink())},getCompletionDate:function(){var specialization=this.get("specialization"),capstone=specialization&&specialization.getCapstoneCourse(),session=capstone&&capstone.get("memberships[0].session");return session&&session.getEndMoment()}});return SpecializationMembership}),define("bundles/catalogP/models/specializationMemberships",["require","bundles/catalogP/models/catalogCollection","bundles/catalogP/models/specializationMembership"],function(require){var CatalogCollection=require("bundles/catalogP/models/catalogCollection"),SpecializationMembership=require("bundles/catalogP/models/specializationMembership"),SpecializationMemberships=CatalogCollection.extend({model:SpecializationMembership,resourceName:"specializationMemberships.v1",includes:{},filterWithSpecializationCertificates:function(){return new SpecializationMemberships(this.filter(function(specializationMembership){return specializationMembership.hasSpecializationCertificate()}))},getByCertificateCode:function(code){return this.find(function(membership){return membership.getCertificateCode()===code})}});return SpecializationMemberships}),define("bundles/catalogP/models/vcMembership",["require","bundles/catalogP/models/catalogModel"],function(require){var CatalogModel=require("bundles/catalogP/models/catalogModel"),VcMembership=CatalogModel.extend({fields:["authenticatedTrack","courseGradeRecord","certificateCode"],includes:{},resourceName:"vcMemberships.v1"},{COURSE_GRADE:{PASSED:"PASSED",VERIFIED_PASSED:"VERIFIED_PASSED",NOT_PASSED:"NOT_PASSED",NOT_PASSABLE:"NOT_PASSABLE"}});return VcMembership}),define("bundles/catalogP/models/vcMemberships",["require","bundles/catalogP/models/catalogCollection","bundles/catalogP/models/vcMembership"],function(require){var CatalogCollection=require("bundles/catalogP/models/catalogCollection"),VcMembership=require("bundles/catalogP/models/vcMembership"),VcMemberships=CatalogCollection.extend({model:VcMembership,resourceName:"vcMemberships.v1"});return VcMemberships}),define("bundles/catalogP/lib/resources",["require","bundles/catalogP/models/courses","bundles/catalogP/models/instructors","bundles/catalogP/models/languages","bundles/catalogP/models/sessions","bundles/catalogP/models/v1Details","bundles/catalogP/models/partners","bundles/catalogP/models/categories","bundles/catalogP/models/specializations","bundles/catalogP/models/memberships","bundles/catalogP/models/specializationMemberships","bundles/catalogP/models/vcMemberships","bundles/catalogP/models/v1VcSessions"],function(require){return{"courses.v1":require("bundles/catalogP/models/courses"),"instructors.v1":require("bundles/catalogP/models/instructors"),"languages.v1":require("bundles/catalogP/models/languages"),"v1Sessions.v1":require("bundles/catalogP/models/sessions"),"v1Details.v1":require("bundles/catalogP/models/v1Details"),"partners.v1":require("bundles/catalogP/models/partners"),"categories.v1":require("bundles/catalogP/models/categories"),"specializations.v1":require("bundles/catalogP/models/specializations"),"memberships.v1":require("bundles/catalogP/models/memberships"),"specializationMemberships.v1":require("bundles/catalogP/models/specializationMemberships"),"vcMemberships.v1":require("bundles/catalogP/models/vcMemberships"),"v1VcSessions.v1":require("bundles/catalogP/models/v1VcSessions")}}),define("bundles/catalogP/lib/catalogUrl",["require","underscore","uri","js/lib/path","bundles/catalogP/lib/resources"],function(require){var _=require("underscore"),Uri=require("uri"),path=require("js/lib/path"),resources=require("bundles/catalogP/lib/resources");return{build:function(baseResource,params){var passThroughParams=_(params).omit("id","fields","includes"),ModelClass=resources[baseResource].prototype.model.prototype,data=this.parseIncludes(ModelClass,params.includes);this.addToList(data.fields,baseResource,params.fields);var urlParams=_({fields:this.stringifyMapping(data.fields,baseResource),includes:this.stringifyMapping(data.includes,baseResource)}).extend(passThroughParams),baseUri=void 0!==params.id?path.join(baseResource,params.id):baseResource,uri=_(urlParams).reduce(function(uri,paramValue,paramKey){if(_(paramValue).isUndefined()||_(paramValue).isArray()&&_(paramValue).isEmpty()||""===paramValue)return uri;else{if(_(paramValue).isArray())paramValue=_(paramValue).sortBy(_.identity);return uri.addQueryParam(paramKey,paramValue)}},(new Uri).setPath(baseUri));return uri.toString().replace(/%2C/g,",")},parseIncludes:function(ModelClass,includes){var resourceName=ModelClass.resourceName,fieldsByResource={},includesByResource={};return _(includes||{}).each(function(includeData,include){var includeAttribute=ModelClass.getIncludeAttribute(include),includeResource=ModelClass.getIncludeResource(include);if(void 0===includeResource)return{};var RelatedCollectionClass=resources[includeResource],RelatedModelClass=RelatedCollectionClass&&RelatedCollectionClass.prototype.model.prototype;if(void 0===RelatedModelClass)return{};this.addToList(fieldsByResource,resourceName,includeAttribute),this.addToList(includesByResource,resourceName,includeAttribute),this.addToList(fieldsByResource,includeResource,includeData.fields);var subIncludes=this.parseIncludes(RelatedModelClass,includeData.includes);_(subIncludes.fields).each(function(val,key){this.addToList(fieldsByResource,key,val)}.bind(this)),_(subIncludes.includes).each(function(val,key){this.addToList(includesByResource,key,val)}.bind(this))}.bind(this)),{fields:fieldsByResource,includes:includesByResource}},addToList:function(obj,key,val){if(!_(val).isArray())val=[val];obj[key]=_(obj[key]||[]).union(val)},stringifyMapping:function(map,baseResource){var strings=_(map).map(function(fields,resource){if(fields=_(fields).compact(),_(fields).isEmpty())return;else{var fieldsString=_(fields).sortBy(_.identity).join(",");if(resource===baseResource)return fieldsString;else return resource+"("+fieldsString+")"}});return _(strings).compact().join(",")}}}),define("bundles/catalogP/data/courses",["require","memoize!bundles/catalogP/api/api.promise","bundles/catalogP/models/course","bundles/catalogP/lib/catalogUrl"],function(require){var catalogData=require("memoize!bundles/catalogP/api/api.promise"),Course=require("bundles/catalogP/models/course"),catalogUrl=require("bundles/catalogP/lib/catalogUrl");return function(options){return catalogData(catalogUrl.build(Course.prototype.resourceName,options))}}),define("bundles/catalogP/lib/createLinkedModels",["require","underscore","backbone-associations","bundles/catalogP/lib/resources"],function(require){var _=require("underscore"),Backbone=require("backbone-associations"),resources=require("bundles/catalogP/lib/resources"),createLinkedModels=function(resourceName,json){var tempModelIdStore={},createRelatedCollections=function(resourceType,model){tempModelIdStore[model.cid]={},_(model.includes).each(function(includeData,name){var resourceType=includeData.resource,CollectionType=resources[resourceType];tempModelIdStore[model.cid][name]=model.get(includeData.attribute),model.set(name,new CollectionType)})},getAttribute=function(model,field){if(_(model.includes).has(field))return model.includes[field].attribute;else return field},MainCollectionClass=resources[resourceName],MainModelClass=MainCollectionClass&&MainCollectionClass.prototype.model,tempModels=_(resources).chain().map(function(CollectionType,resourceType){return[resourceType,new CollectionType]}).object().value();return tempModels[MainModelClass.prototype.resourceName]=new MainCollectionClass(json.elements),tempModels[MainModelClass.prototype.resourceName].each(function(element){createRelatedCollections(MainModelClass.prototype.resourceName,element)}),_(json.linked).each(function(linkedElements,resourceType){var collection=tempModels[resourceType];if(void 0!==collection){var LinkedModelClass=collection.model;collection.add(linkedElements),collection.each(function(element){createRelatedCollections(resourceType,element)})}}),_(tempModels).each(function(collection,resourceName){collection.each(function(model){_(model.includes).each(function(includeData,include){var ids=tempModelIdStore[model.cid][include];if(ids)if(_(ids).isArray()){var models=_(ids).chain().map(function(id){return tempModels[includeData.resource].get(id)}).compact().value();model.get(include).add(models)}else model.set(include,tempModels[includeData.resource].get(ids));else model.unset(include)})})}),tempModels[resourceName]};return createLinkedModels}),define("bundles/catalogP/promises/courses",["require","underscore","memoize!bundles/catalogP/data/courses","bundles/catalogP/lib/createLinkedModels","bundles/catalogP/models/courses"],function(require){var _=require("underscore"),coursesData=require("memoize!bundles/catalogP/data/courses"),createLinkedModels=require("bundles/catalogP/lib/createLinkedModels"),Courses=require("bundles/catalogP/models/courses");return function(options){return coursesData(options).then(function(data){if(data.linked&&data.linked["v1Details.v1"])data.elements=_(data.elements).map(function(element){if("v1.session"===element.courseType||"v1.capstone"===element.courseType){element.v1Details=element.id;var sessions=_(data.linked["v1sessions.v1"]).reduce(function(sessionIds,session){if(session.courseId===element.id)sessionIds.push(session.id.toString());return sessionIds},[]);element.v1Sessions=sessions}return element});return createLinkedModels(Courses.prototype.resourceName,data)})}}),define("pages/accomplishments/common/promises/courses",["require","bundles/catalogP/promises/courses"],function(require){var coursesPromise=require("bundles/catalogP/promises/courses");return function(ids){var instructorFields=["prefixName","firstName","middleName","lastName","suffixName","fullName","shortName","profileId"];return coursesPromise({ids:ids,fields:["certificates","description","partnerLogo","photoUrl","workload","previewLink"],includes:{partners:{fields:["name","logo","classLogo","homeLink","shortName"]},details:{fields:["sessionIds"],includes:{sessions:{fields:["startDay","startMonth","startYear","dbEndDate","durationString","hasSigTrack","certificatesReleased"],includes:{instructors:{fields:instructorFields,includes:{partners:{fields:["name","homeLink","shortName"]}}}}}}},instructors:{fields:instructorFields}}})}}),define("pages/accomplishments/common/api/enrollment",["require","bundles/phoenix/lib/apiWrapper"],function(require){var API=require("bundles/phoenix/lib/apiWrapper");return API("/maestro/api/enrollment",{type:"rest"})}),define("pages/accomplishments/common/data/enrollments",["require","pages/accomplishments/common/api/enrollment","q"],function(require){var enrollmentApi=require("pages/accomplishments/common/api/enrollment"),Q=require("q");return function(options){return Q(enrollmentApi.get("list",options))}}),define("pages/accomplishments/common/models/enrollment",["require","js/lib/path","pages/accomplishments/constants","pages/accomplishments/common/models/courseRecord"],function(require){var path=require("js/lib/path"),constants=require("pages/accomplishments/constants"),CourseRecord=require("pages/accomplishments/common/models/courseRecord"),Enrollment=CourseRecord.extend({getCourseId:function(){return this.get("course__topic_id")},getSessionId:function(){return parseInt(this.get("course_id"),10)},getVerifiedCertificateId:function(){return this.get("signaturetrackstatus__verify_cert_id")},getVerifiedCertificateWithGradeId:function(){return this.get("signaturetrackstatus__with_grade_cert_id")},getSOALink:function(){return path.join(constants.config.url.base,constants.config.url.api,"certificate/get_certificate?course_id="+this.getSessionId())},isEligibleForSoA:function(){return this.get("course__eligible_for_certificates")&&this.passedCourse()},isAuthenticated:function(){return!!this.get("signaturetrackstatus__authenticated_overall")},isEligibleForVC:function(){var eligibleForVC=!1;if(this.get("course__eligible_for_signature_track"))eligibleForVC=this.isAuthenticated()&&this.passedCourse();return!!eligibleForVC},isEnrolledInACE:function(){return!!this.get("signaturetrackstatus__is_enrolled_for_proctored_exam")},passedACE:function(){return this.isEnrolledInACE()&&(this.get("signaturetrackstatus__passed_ace")||this.getAchievementLevel()>0)},courseEnded:function(){return!!this.get("course__end_of_class_emails_sent")}});return Enrollment}),define("pages/accomplishments/common/models/enrollments",["require","backbone","pages/accomplishments/common/models/enrollment"],function(require){var Backbone=require("backbone"),Enrollment=require("pages/accomplishments/common/models/enrollment"),EnrollmentCollection=Backbone.Collection.extend({model:Enrollment,getByCourseId:function(courseId){return this.findWhere({course__topic_id:parseInt(courseId,10)})}});return EnrollmentCollection}),define("pages/accomplishments/common/promises/enrollments",["require","pages/accomplishments/common/data/enrollments","pages/accomplishments/common/models/enrollments"],function(require){var enrollmentData=require("pages/accomplishments/common/data/enrollments"),EnrollmentCollection=require("pages/accomplishments/common/models/enrollments");return function(options){return enrollmentData(options).then(function(data){return new EnrollmentCollection(data.enrollments)})}}),define("bundles/catalogP/data/specializationMemberships",["require","memoize!bundles/catalogP/api/api.promise","bundles/catalogP/models/specializationMemberships","bundles/catalogP/lib/catalogUrl"],function(require){var catalogData=require("memoize!bundles/catalogP/api/api.promise"),SpecializationMemberships=require("bundles/catalogP/models/specializationMemberships"),catalogUrl=require("bundles/catalogP/lib/catalogUrl");return function(options){return catalogData(catalogUrl.build(SpecializationMemberships.prototype.resourceName,options||{}))}}),define("bundles/catalogP/promises/specializationMemberships",["require","underscore","memoize!bundles/catalogP/data/specializationMemberships","bundles/catalogP/lib/createLinkedModels","bundles/catalogP/models/specializationMemberships"],function(require){var _=require("underscore"),specializationMembershipsData=require("memoize!bundles/catalogP/data/specializationMemberships"),createLinkedModels=require("bundles/catalogP/lib/createLinkedModels"),SpecializationMemberships=require("bundles/catalogP/models/specializationMemberships");return function(options){return specializationMembershipsData(options||{}).then(function(data){if(data.linked&&data.linked["v1Details.v1"])data.linked["courses.v1"]=_(data.linked["courses.v1"]).map(function(element){if("v1.session"===element.courseType||"v1.capstone"===element.courseType){element.v1Details=element.id;var sessions=_(data.linked["v1Sessions.v1"]).reduce(function(sessionIds,session){if(session.courseId===element.id)sessionIds.push(session.id.toString());return sessionIds},[]);element.v1Sessions=sessions}return element});if(data.linked&&data.linked["memberships.v1"]){var memberships=_(data.linked["memberships.v1"]).groupBy("courseId");data.linked["courses.v1"]=_(data.linked["courses.v1"]).map(function(element){return element.membershipIds=_(memberships[element.id]).pluck("id"),element})}if(data.linked&&data.linked["vcMemberships.v1"]){var vcMembershipIds=_(data.linked["vcMemberships.v1"]).pluck("id");data.linked["memberships.v1"]=_(data.linked["memberships.v1"]).map(function(element){if(_(vcMembershipIds).contains(element.id))element.vcMembershipId=element.id;return element})}return createLinkedModels(SpecializationMemberships.prototype.resourceName,data)}).fail(function(){return new SpecializationMemberships})}}),define("pages/accomplishments/common/promises/specializationMemberships",["require","underscore","q","bundles/catalogP/models/specializationMemberships","bundles/catalogP/promises/specializationMemberships","memoize!pages/accomplishments/common/promises/enrollments","pages/accomplishments/constants"],function(require){var _=require("underscore"),Q=require("q"),SpecializationMemberships=require("bundles/catalogP/models/specializationMemberships"),specializationMembershipsPromise=require("bundles/catalogP/promises/specializationMemberships"),enrollmentsPromise=require("memoize!pages/accomplishments/common/promises/enrollments"),constants=require("pages/accomplishments/constants"),partnersFields=["name","homeLink","shortName","classLogo","logo"],query={q:"me",fields:["certificateCode","specializationId"],includes:{specialization:{fields:["name","shortName","details","interchangeableCourseIds","interchangeableMap"],includes:{interchangeableCourses:{fields:[]},partners:{fields:partnersFields},courses:{fields:["name","startDate","durationString","universityLogoSt"],includes:{memberships:{fields:["role","courseId","enrolledTimestamp","lastAccessedTimestamp","grade","v1SessionId"],includes:{vcMembership:{fields:["certificateCode","grade"]}}},partners:{fields:partnersFields},details:{fields:["name","shortName"],includes:{sessions:{fields:["active","courseId","dbEndDate","durationString","hasSigTrack","homeLink","instructorIds","startDay","startMonth","startYear","status","v1VcSessionId"]}}}}}}}}};return function(params){var shortNamesInParams=_.compact((params&&params.specializationCertificateEnabled||"").split(",")),shortNames=_.union(constants.specializationCertificateEnabled,shortNamesInParams);return Q.all([specializationMembershipsPromise(query),enrollmentsPromise({data:{include_course_records:!0}})]).spread(function(specializationMemberships,enrollments){var sessionIdToVerifyCode=enrollments.chain().filter(function(enrollment){return enrollment.getVerifiedCertificateId()}).map(function(enrollment){return[enrollment.getSessionId(),enrollment.getVerifiedCertificateId()]}).object().value();if(specializationMemberships.each(function(specializationMembership){specializationMembership.get("specialization.courses").each(function(course){course.get("memberships").chain().filter(function(membership){return membership.hasVerifiedCertificate()}).each(function(membership){var code=sessionIdToVerifyCode[membership.get("v1SessionId")];if(code&&!membership.get("vcMembership.certificateCode"))membership.set("vcMembership.certificateCode",code)})})}),!_(shortNames).isEmpty())return new SpecializationMemberships(specializationMemberships.filter(function(membership){return _(shortNames).contains(membership.get("specialization.shortName"))}));else return specializationMemberships})}}),define("bundles/phoenix/template/layout/nls/page",{}),!function(wndw){var jadify=function(jade,_t,_h){var yudify=function template(locals){var buf=[],jade_mixins={},jade_interp;return buf.push('<div class="c-phoenix-template-page"><div data-js="phoenix-template-region-header"></div><div data-js="phoenix-template-region-body"></div><div data-js="phoenix-template-region-footer"></div><div data-js="phoenix-template-region-modal"></div></div>'),buf.join("")};return function(locals){if(locals)if(locals._t)_t=locals._t.merge(_t);return yudify(locals)}};if("function"==typeof define&&define.amd)define("bundles/phoenix/template/layout/page.html",["js/vendor/jade","i18n!bundles/phoenix/template/layout/nls/page"],function(jade,_t){var _h;return jadify(jade,_t,_h)});else wndw.jade.templates["bundles.phoenix.template.layout.page"]=jadify(wndw.jade.helpers)}(window),define("js/lib/scrollTracker.v0-0-2",["require","js/vendor/backbone.v1-1-2","js/vendor/jquery.v2-1","js/vendor/underscore.v1-6"],function(require){function ScrollTracker(scrollHash){this.scrollHash=_.extend({},scrollHash),this.$el=$(window)}function _getCurrentRoute(){var fragment=Backbone.history.fragment||"";return fragment.replace(/[#?].+/g,"")}function _updateRoute(){this.lastRoute=_getCurrentRoute()}var Backbone=require("js/vendor/backbone.v1-1-2"),$=require("js/vendor/jquery.v2-1"),_=require("js/vendor/underscore.v1-6");return ScrollTracker.prototype.start=function(router){this.router=router,_updateRoute.call(this),this.router.on("route",function(route,params){this.set(this.lastRoute),_updateRoute.call(this)}.bind(this))},ScrollTracker.prototype.stop=function(){this.router.off("route")},ScrollTracker.prototype.get=function(route){if(void 0===route)route=_getCurrentRoute();return this.scrollHash[route]||0},ScrollTracker.prototype.set=function(route){if(void 0===route)route=_getCurrentRoute();this.scrollHash[route]=this.$el.scrollTop()},ScrollTracker.prototype.restore=function(route){this.$el.scrollTop(this.get(route))},ScrollTracker.prototype.scroll=function(pixels){this.$el.scrollTop(pixels),this.set()},ScrollTracker}),define("js/app/scrollTrackerSingleton.v0-0-2",["require","js/lib/scrollTracker.v0-0-2","js/app/origamiSingleton.v0-0-2"],function(require){var ScrollTracker=require("js/lib/scrollTracker.v0-0-2"),origami=require("js/app/origamiSingleton.v0-0-2"),scrollTracker=new ScrollTracker;return scrollTracker.start(origami.router),scrollTracker}),define("bundles/phoenix/template/layout/nls/header",{es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}),!function(wndw){var jadify=function(jade,_t,_h){var yudify=function template(locals){var buf=[],jade_mixins={},jade_interp,locals_for_with=locals||{};return function(_t,config,userIdentity,userAuthorization){jade_mixins["header-body"]=function(className){var block=this&&this.block,attributes=this&&this.attributes||{};buf.push('<nav role="navigation"'+jade.cls(["c-font-header","c-font-spaced","bt3-navbar",className],[null,null,null,!0])+">"),block&&block(),buf.push("</nav>")},jade_mixins["header-brand"]=function(klass){var block=this&&this.block,attributes=this&&this.attributes||{};buf.push("<div"+jade.cls(["c-phoenix-template-header-navbar","bt3-navbar-header",klass],[null,null,!0])+">"),block&&block(),buf.push("</div>")},jade_mixins["header-collapse-button"]=function(target){var block=this&&this.block,attributes=this&&this.attributes||{};buf.push('<button data-toggle="collapse"'+jade.attr("data-target",target,!0,!1)+' class="c-phoenix-template-header-navbar-toggle bt3-navbar-toggle"><span class="bt3-sr-only">'+jade.escape(null==(jade_interp=_t("Toggle navigation"))?"":jade_interp)+'</span><span data-js="navbar-toggle-open" class="c-hidden-accessibility">'+jade.escape(null==(jade_interp=_t("Navigation open"))?"":jade_interp)+'</span><span data-js="navbar-toggle-closed" class="c-hidden-accessibility">'+jade.escape(null==(jade_interp=_t("Navigation closed"))?"":jade_interp)+'</span><span class="c-phoenix-template-header-navbar-icon-bar bt3-icon-bar"></span><span class="c-phoenix-template-header-navbar-icon-bar bt3-icon-bar"></span><span class="c-phoenix-template-header-navbar-icon-bar bt3-icon-bar"></span></button>')},jade_mixins["header-collapse-container"]=function(id){var block=this&&this.block,attributes=this&&this.attributes||{};buf.push("<div"+jade.attr("id",id,!0,!1)+' class="collapse c-phoenix-template-header-collapse-container">'),block&&block(),buf.push("</div>")},jade_mixins["header-dropdown"]=function(id,text){var block=this&&this.block,attributes=this&&this.attributes||{},maxLen=12,truncated=text.length>maxLen?text.substring(0,maxLen)+"…":text;buf.push('<li class="bt3-dropdown"><a tabindex="0" role="button" aria-haspopup="true" aria-expanded="false" data-toggle="dropdown"'+jade.attr("aria-owns",id,!0,!1)+jade.attr("data-popup","#"+id,!0,!1)+' data-popup-bind-open="click" data-popup-item="a" data-popup-direction="se" data-popup-close="data-popup-close">'+jade.escape(null==(jade_interp=_t(truncated))?"":jade_interp)+'<b class="bt3-caret"></b></a><ul'+jade.attr("id",id,!0,!1)+' class="c-phoenix-template-header-menu bt3-dropdown-menu">'),block&&block(),buf.push("</ul></li>")};var home=config.dir.home,accounts=config.url.accounts;buf.push('<div class="c-phoenix-template-header-container">'),jade_mixins["header-body"].call({block:function(){buf.push('<div class="bt3-container-fluid">'),jade_mixins["header-brand"].call({block:function(){jade_mixins["header-collapse-button"]("#c-phoenix-template-navbar-collapse"),buf.push("<a"+jade.attr("href",home,!0,!1)+' class="c-phoenix-template-small-logo"><span class="bt3-sr-only">'+jade.escape(null==(jade_interp=_t("Coursera"))?"":jade_interp)+"</span></a>")}}),jade_mixins["header-collapse-container"].call({block:function(){if(buf.push('<ul class="c-phoenix-template-header-nav c-phoenix-template-letter-slightly-spaced bt3-nav bt3-navbar-nav bt3-navbar-right"><li><a data-popup-close="data-popup-close"'+jade.attr("href",home+"courses",!0,!1)+">"+jade.escape(null==(jade_interp=_t("Courses"))?"":jade_interp)+'</a></li><li><a data-popup-close="data-popup-close"'+jade.attr("href",home+"specializations?utm_medium=topnav",!0,!1)+">"+jade.escape(null==(jade_interp=_t("Specializations"))?"":jade_interp)+'<span class="c-specializations-new-label">'+jade.escape(null==(jade_interp=_t("New!"))?"":jade_interp)+'</span></a></li><li><a data-popup-close="data-popup-close"'+jade.attr("href",home+"about/partners",!0,!1)+">"+jade.escape(null==(jade_interp=_t("Institutions"))?"":jade_interp)+"</a></li>"),jade_mixins["header-dropdown"].call({block:function(){buf.push('<li><a data-popup-close="data-popup-close"'+jade.attr("href",home+"about/",!0,!1)+">"+jade.escape(null==(jade_interp=_t("Overview"))?"":jade_interp)+'</a></li><li><a data-popup-close="data-popup-close"'+jade.attr("href",home+"about/careers",!0,!1)+">"+jade.escape(null==(jade_interp=_t("Careers"))?"":jade_interp)+'</a></li><li><a data-popup-close="data-popup-close"'+jade.attr("href",home+"about/people",!0,!1)+">"+jade.escape(null==(jade_interp=_t("People"))?"":jade_interp)+'</a></li><li><a data-popup-close="data-popup-close"'+jade.attr("href",home+"about/contact",!0,!1)+">"+jade.escape(null==(jade_interp=_t("Contact"))?"":jade_interp)+"</a></li>")}},"coursera-header-about-popup","About"),buf.push('<li class="bt3-divider"></li>'),userIdentity&&userIdentity.get("authenticated"))jade_mixins["header-dropdown"].call({block:function(){if(buf.push('<li><a data-popup-close="data-popup-close"'+jade.attr("href",home,!0,!1)+">"+jade.escape(null==(jade_interp=_t("Course Dashboard"))?"":jade_interp)+"</a></li>"),userAuthorization&&userAuthorization.get("is_staff"))buf.push('<li><a data-popup-close="data-popup-close"'+jade.attr("href",home+"admin/",!0,!1)+">"+jade.escape(null==(jade_interp=_t("Admin"))?"":jade_interp)+'</a></li><li><a data-popup-close="data-popup-close" href="http://support.coursera.org">'+jade.escape(null==(jade_interp=_t("Support"))?"":jade_interp)+"</a></li>");buf.push('<li><a data-popup-close="data-popup-close"'+jade.attr("href",userIdentity.getProfileUrl(),!0,!1)+' data-js="profile-link">'+jade.escape(null==(jade_interp=_t("Profile"))?"":jade_interp)+'</a></li><li><a data-popup-close="data-popup-close"'+jade.attr("href",home+"account/accomplishments",!0,!1)+">"+jade.escape(null==(jade_interp=_t("Course Records"))?"":jade_interp)+'</a></li><li><a data-popup-close="data-popup-close"'+jade.attr("href",home+"account/settings",!0,!1)+">"+jade.escape(null==(jade_interp=_t("Settings"))?"":jade_interp)+'</a></li><li><a data-popup-close="data-popup-close"'+jade.attr("href",home+"account/logout",!0,!1)+">"+jade.escape(null==(jade_interp=_t("Sign Out"))?"":jade_interp)+"</a></li>")}},"coursera-header-account-popup",userIdentity.get("full_name"));else buf.push('<li><a data-popup-close="data-popup-close" data-js="redirect-link signin-link">'+jade.escape(null==(jade_interp=_t("Sign In"))?"":jade_interp)+'</a></li><li><a data-popup-close="data-popup-close" data-js="redirect-link signup-link">'+jade.escape(null==(jade_interp=_t("Sign Up"))?"":jade_interp)+"</a></li>");
buf.push("</ul>")}},"c-phoenix-template-navbar-collapse"),buf.push("</div>")}},"c-phoenix-template-header"),buf.push('<div data-js="critical-readme"></div></div>')}.call(this,"_t"in locals_for_with?locals_for_with._t:"undefined"!=typeof _t?_t:void 0,"config"in locals_for_with?locals_for_with.config:"undefined"!=typeof config?config:void 0,"userIdentity"in locals_for_with?locals_for_with.userIdentity:"undefined"!=typeof userIdentity?userIdentity:void 0,"userAuthorization"in locals_for_with?locals_for_with.userAuthorization:"undefined"!=typeof userAuthorization?userAuthorization:void 0),buf.join("")};return function(locals){if(locals)if(locals._t)_t=locals._t.merge(_t);return yudify(locals)}};if("function"==typeof define&&define.amd)define("bundles/phoenix/template/layout/header.html",["js/vendor/jade","i18n!bundles/phoenix/template/layout/nls/header"],function(jade,_t){var _h;return jadify(jade,_t,_h)});else wndw.jade.templates["bundles.phoenix.template.layout.header"]=jadify(wndw.jade.helpers)}(window),!function(wndw){var Module=function($,_,cookie,LucidJS,Moment,DataAttributes){var _private={defaults:{"bind.close":"click","attribute.data":"data-readme","attribute.close":"data-readme-close","class":"readme",expires:null,"show.count":0,"show.until.closed":!1,"show.delay":1e3,"animate.open":null,"animate.close":null,"animate.duration":250,type:"banner"},open:!1,stack:[],getReadMe:function(el,options){var readme=$(el).data("readme.me");if(readme&&readme.constructor==ReadMe.prototype.constructor)if(options)return readme.customize(options);else return readme;else return null},makeReadMe:function(el,options){var $el=$(el),readme=_private.getReadMe($el);if(!readme)readme=new ReadMe($el,options),$el.data("readme.me",readme);return readme},getCount:function(){var times,cookieName=this.options["attribute.data"]+"-"+this.$el.attr(this.options["attribute.data"]);if(this.options["show.count"])return times=cookie.get(cookieName),times?parseInt(times,10):0;return 0},increaseCount:function(){var cookieName=this.options["attribute.data"]+"-"+this.$el.attr(this.options["attribute.data"]);if(this.options["show.count"]){var times=_private.getCount.call(this)+1;return cookie.set(cookieName,times,{expires:36500}),times}return 0},canShow:function(){var count=_private.getCount.call(this),max=this.options["show.count"]?parseInt(this.options["show.count"],10):0,expires=this.options.expires,show=!0;if(expires&&Moment(expires).diff(Moment())<0)return this.emitter.trigger("expired"),!1;if(max&&count>=max)return this.emitter.trigger("aged"),!1;if(_private.stack.indexOf(this)<0)_private.stack.push(this);if(_private.open)return!1;return _private.open=!0,!0}},ReadMe=function(el,options){var that=this;this.$el=$(el),this.emitter=LucidJS.emitter(this),this.customize(options),window.setTimeout(function(){that.open()},this.options["show.delay"]||0)};ReadMe.prototype.customize=function(settings){var that=this,height;if(this.options=_.extend({},DataAttributes.parse(this.$el,_private.defaults,"data-readme-"),settings),this.$el.addClass(this.options["class"]),"banner"==this.options.type)this.$el.css({visibility:"hidden"}).show(),height=this.$el.outerHeight(),this.$el.css({visibility:"visible"}).hide(),this.options["animate.open"]={"margin-top":0},this.options["animate.close"]={"margin-top":-height},this.options["animate.duration"]=250,this.on("opening",function(){that.$el.css({visibility:"visible","margin-top":-height}).show().prependTo($("body"))});else if("footer-sticky"==this.options.type)this.$el.css({visibility:"hidden"}).show(),height=this.$el.outerHeight(),this.$el.css({visibility:"visible"}).hide(),this.options["animate.open"]={bottom:0},this.options["animate.close"]={bottom:-height},this.options["animate.duration"]=250,this.on("opening",function(){var styles={visibility:"visible",position:"absolute",left:0,right:0,bottom:-height};that.$el.css(styles).show().appendTo($("body"))});return this},ReadMe.prototype.open=function(){var that=this;if(_private.canShow.call(this)){if(!this.options["show.until.closed"]&&this.options["show.count"])_private.increaseCount.call(this);if(this.emitter.trigger("opening"),this.$el.on(this.options["bind.close"]+".readme","["+this.options["attribute.close"]+"]",function(){if(that.options["show.until.closed"]&&that.options["show.count"])_private.increaseCount.call(that);that.close()}),this.$el.is("["+this.options["attribute.close"]+"]"))this.$el.on(this.options["bind.close"]+".readme",function(){if(that.options["show.until.closed"]&&that.options["show.count"])_private.increaseCount.call(that);that.close()});if(this.options["animate.open"])this.$el.css({"margin-top":-100}).prependTo($("body")).show(),this.$el.animate(this.options["animate.open"],{duration:this.options["animate.duration"],complete:function(){that.emitter.trigger("open")}});else this.$el.show(),this.emitter.trigger("open")}},ReadMe.prototype.close=function(){var that=this;if(this.trigger("closing"),_private.stack.shift(),this.options["animate.close"])this.$el.animate(this.options["animate.close"],{duration:this.options["animate.duration"],complete:function(){if(that.$el.off(".readme"),that.$el.hide().remove(),that.emitter.trigger("close"),_private.open=!1,_private.stack.length)_private.stack[0].open()}});else if(this.$el.off(".readme"),this.$el.hide().remove(),this.emitter.trigger("close"),_private.open=!1,_private.stack.length)_private.stack[0].open()};var external=function(el,options){return _private.getReadMe(el,options)||_private.makeReadMe(el,options)};return external};if("function"==typeof define&&define.amd)define("js/lib/readme",["jquery","underscore","js/lib/cookie","js/lib/lucid","js/vendor/moment.v2-2","js/lib/data.attributes"],function($,_,cookie,LucidJS,Moment,DataAttributes){return Module($,_,cookie,LucidJS,Moment,DataAttributes)});else if("undefined"!=typeof window&&"undefined"==typeof ender)wndw.ReadMe=Module(wndw.$,wndw._,wndw.Cookie,wndw.LucidJS,wndw.moment,wndw.DataAttributes)}(window),!function(wndw){var jadify=function(jade,_t,_h){var yudify=function template(locals){var buf=[],jade_mixins={},jade_interp,locals_for_with=locals||{};return function(userEmail){buf.push('<div data-readme="verify-email" class="coursera-verify-email"><div class="c-container"><div data-js="new-users" class="c-message"><strong>'+jade.escape(null==(jade_interp=userEmail)?"":jade_interp)+'&nbsp;</strong><span>is not confirmed. Please confirm it now.</span></div><div data-js="old-users" class="c-message"><span>We now require all email accounts to be confirmed. Please confirm</span><strong>&nbsp;'+jade.escape(null==(jade_interp=userEmail)?"":jade_interp)+'</strong>.</div><div class="c-action-items"><button data-js="send-verify-email" style="width: 164px" class="bt3-btn bt3-btn-success bt3-btn-flat btn btn-success btn-flat c-action-item">Send confirmation email</button><button data-js="sent-verify-email" style="width: 164px; display:none" class="bt3-btn bt3-btn-success bt3-btn-flat bt3-disabled disabled btn btn-success btn-flat c-action-item">Email sent</button><button data-js="resend-verify-email" style="width: 164px; display:none" class="bt3-btn bt3-btn-success bt3-btn-flat btn btn-success btn-flat c-action-item">Resend confirmation email</button>&nbsp;&nbsp;<a data-js="update-email" href="/account/settings#changeEmail" class="c-action-item">Edit your email</a></div></div><div data-readme-close="data-readme-close" data-js="readme-close-icon" class="readme-close-icon"><span><em class="fa fa-remove"></em></span></div></div>')}.call(this,"userEmail"in locals_for_with?locals_for_with.userEmail:"undefined"!=typeof userEmail?userEmail:void 0),buf.join("")};return yudify};if("function"==typeof define&&define.amd)define("bundles/emailVerificationBanner/emailVerification.html",["js/vendor/jade"],function(jade){var _t,_h;return jadify(jade,_t,_h)});else wndw.jade.templates["bundles.emailVerificationBanner.emailVerification"]=jadify(wndw.jade.helpers)}(window),define("bundles/emailVerificationBanner/emailVerificationModel",["require","backbone","q","bundles/phoenix/lib/apiWrapper"],function(require){var Backbone=require("backbone"),Q=require("q"),API=require("bundles/phoenix/lib/apiWrapper"),EmailVerification=Backbone.Model.extend({initialize:function(options){this.user=options.user,this.api=API("/api/userEmails.v1?action=resendVerificationEmail",{type:"rest","batch.enabled":!0})},resendVerificationEmail:function(){return Q(this.api.post(""))}});return EmailVerification}),define("bundles/emailVerificationBanner/emailVerification",["require","backbone","underscore","js/lib/readme","js/lib/cookie","bundles/emailVerificationBanner/emailVerification.html","bundles/emailVerificationBanner/emailVerificationModel","bundles/phoenix/lib/multitrackerMixin"],function(require){var Backbone=require("backbone"),_=require("underscore"),Readme=require("js/lib/readme"),Cookie=require("js/lib/cookie"),template=require("bundles/emailVerificationBanner/emailVerification.html"),Model=require("bundles/emailVerificationBanner/emailVerificationModel"),MultitrackerMixin=require("bundles/phoenix/lib/multitrackerMixin"),emailVerifyView=Backbone.View.extend({multitracker:{namespace:"profile.account_email_verification_reminder",baseValues:["user_id","email_id"],definitions:{user_id:function(){return this.model.user.get("id")},email_id:function(){return this.model.user.get("email_address")}},events:{"click.edit_email":'click [data-js~="update-email"]',"click.close":'click [data-js~="readme-close-icon"]'}},initialize:function(options){_.bindAll(this,"resendVerificationEmail","onViewAppend","onEmailSuccess","onEmailError"),this.model=new Model({user:options.user}),this.bind("view:appended",this.onViewAppend),this.bind("view:closed",this.unbindEvents)},onViewAppend:function(){if(!this.model.get("user").get("email_verified")&&this.isUserEligible()&&!this.hasUserSeenBanner())Readme('[data-readme="verify-email"]'),this.bindEvents()},bindEvents:function(){this.$el.find('[data-js~="send-verify-email"]').bind("click",this.resendVerificationEmail),this.$el.find('[data-js~="resend-verify-email"]').bind("click",this.resendVerificationEmail),this.$el.find('[data-js~="readme-close-icon"]').bind("click",this.setMessageSeenCookie)},render:function(){this.$el.html(template({userEmail:this.model.get("user").get("email_address")}));var currentReadme=this.$el.find('[data-readme="verify-email"]');return this.$el.replaceWith(currentReadme),this.setElement(currentReadme),this.showIntroMessageToOldUsers(),this},showIntroMessageToOldUsers:function(){if(this.isOldUser())this.$el.find('[data-js~="old-users"]').show(),this.$el.find('[data-js~="new-users"]').hide();else this.$el.find('[data-js~="old-users"]').hide(),this.$el.find('[data-js~="new-users"]').show()},resendVerificationEmail:function(){this.setMessageSeenCookie(),this.model.resendVerificationEmail().then(this.onEmailSuccess,this.onEmailError).done(),this.track("click.send_email")},onEmailSuccess:function(){this.$el.find('[data-js~="send-verify-email"]').hide(),this.$el.find('[data-js~="sent-verify-email"]').show()},onEmailError:function(e){this.$el.find('[data-js~="send-verify-email"]').hide(),this.$el.find('[data-js~="resend-verify-email"]').show()},unbindEvents:function(){this.$el.find('[data-js~="send-verify-email"]').unbind("click",this.resendVerificationEmail),this.$el.find('[data-js~="resend-verify-email"]').unbind("click",this.resendVerificationEmail),this.$el.find('[data-js~="readme-close-icon"]').unbind("click",this.setMessageSeenCookie)},isUserEligible:function(){var userId=this.model.user.get("id");if(userId&&(userId>9937900||50>userId%100))return!0;return!1},setMessageSeenCookie:function(){Cookie.set("data-email-banner-viewed","true",{expires:7})},hasUserSeenBanner:function(){return Cookie.get("data-email-banner-viewed")},isOldUser:function(){var userId=this.model.user.get("id");if(9937900>=userId)return!0;return!1}});return emailVerifyView.extend(MultitrackerMixin)}),!function(){var Transition=function($){var transition={},el=document.createElement("transition"),transEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var name in transEndEventNames)if(void 0!==el.style[name])transition.end=transEndEventNames[name],transition.cssAttribute=name,transition.enabled=!0;return transition.emulateTransitionEnd=function($el,duration){if(!transition.enabled)return $el;var called=!1;$el.one(transition.end,function(){called=!0});var callback=function(){if(!called)$el.trigger(transition.end)};return setTimeout(callback,duration),$el},transition};if("function"==typeof define&&define.amd)define("js/lib/transition.v0-0-1",["require","js/vendor/jquery.v2-1"],function(require){var $=require("js/vendor/jquery.v2-1");return Transition($)});else window.Transition=Transition(window.$)}(),define("js/vendor/require.css.v0-1-2!bundles/collapse.v0-0-1/collapse",[],function(){}),!function(){var CollapsePlugin=function($,Transition,LucidJS,DataAttributes){var _private={defaults:{duration:350,toggle:!1,timing:"ease",animate:!0},constants:{selector:"[data-toggle=collapse]","bind.click":"click.collapse.data-api","class.open":"open","class.collapse":"collapse","class.collapsed":"collapsed","class.collapsing":"collapsing","attribute.target":"data-target","attribute.parent":"data-parent","data.collapse":"collapse.me","event.show":"show","event.shown":"shown","event.hide":"hide","event.hidden":"hidden","transition.done":0,"transition.open":1,"transition.close":2},getCollapse:function(el,options){var collapse=$(el).data(_private.constants["data.collapse"]);if(collapse&&collapse.constructor==Collapse.prototype.constructor)if(options)return collapse.customize(options);else return collapse;else return null},makeCollapse:function(el,options){var $el=$(el),collapse=_private.getCollapse($el);if(!collapse)collapse=new Collapse($el,options),$el.data(_private.constants["data.collapse"],collapse);return collapse}},constants=_private.constants,Collapse=function(element,options){this.$element=$(element),this.transitioning=null,this.emitter=LucidJS.emitter(this),this.customize(options)};Collapse.prototype.customize=function(options){var defaults=DataAttributes.parse(this.$element,_private.defaults,"data-collapse-");if(this.options=$.extend({},defaults,options),this.options.parent)this.$parent=$(this.options.parent);if(this.options.toggle)this.toggle()},Collapse.prototype.dimension=function(){var hasWidth=this.$element.hasClass("width");return hasWidth?"width":"height"},Collapse.prototype.scrollSize=function(){var hasWidth=this.$element.hasClass("width");return hasWidth?"scrollWidth":"scrollHeight"},Collapse.prototype.transitionValue=function(options){return[this.dimension(),options.duration+"ms",options.timing].join(" ")};var _shown=function(event,silent){var dimension=this.dimension();if(this.$element.removeClass(constants["class.collapsing"]).addClass([constants["class.collapse"],constants["class.open"]].join(" ")),Transition.enabled)this.$element.css(Transition.cssAttribute,"");if(this.$element[dimension]("auto"),this.transitioning=constants["transition.done"],!silent)this.$element.trigger($.Event(constants["event.shown"])),this.emitter.trigger(constants["event.shown"],this.$element)};Collapse.prototype.show=function(options){var opts=$.extend({},this.options,options);if(this.transitioning==constants["transition.close"])_hidden.call(this,null,!0);else if(this.transitioning==constants["transition.open"]||this.$element.hasClass(constants["class.open"]))return;var startEvent=$.Event(constants["event.show"]);if(this.$element.trigger(startEvent),this.emitter.trigger(constants["event.show"],this.$element),startEvent.isDefaultPrevented())return;var dimension=this.dimension();if(this.$element.removeClass(constants["class.collapse"]).addClass(constants["class.collapsing"]),Transition.enabled&&opts.animate)this.$element.css(Transition.cssAttribute,this.transitionValue(opts));if(this.$element[dimension](0),this.transitioning=constants["transition.open"],!Transition.enabled||!opts.animate)return _shown.call(this);var scrollSize=this.scrollSize();this.$element.one(Transition.end,$.proxy(_shown,this)),this.$element[dimension](this.$element[0][scrollSize]),Transition.emulateTransitionEnd(this.$element,opts.duration)};var _hidden=function(event,silent){if(this.transitioning=constants["transition.done"],this.$element.trigger(constants["event.hidden"]).removeClass(constants["class.collapsing"]).addClass(constants["class.collapse"]),Transition.enabled)this.$element.css(Transition.cssAttribute,"");if(!silent)this.$element.trigger($.Event(constants["event.hidden"])),this.emitter.trigger(constants["event.hidden"],this.$element)};Collapse.prototype.hide=function(options){var open=constants["class.open"],opts=$.extend({},this.options,options);if(this.transitioning==constants["transition.open"])_shown.call(this,null,!0);else if(this.transitioning==constants["transition.close"]||!this.$element.hasClass(open))return;var startEvent=$.Event(constants["event.hide"]);if(this.$element.trigger(startEvent),this.emitter.trigger(constants["event.hide"],this.$element),startEvent.isDefaultPrevented())return;var dimension=this.dimension(),dimensionValue=this.$element[dimension](),forceRepaint=this.$element[dimension](dimensionValue)[0].offsetHeight;if(this.$element.addClass(constants["class.collapsing"]),Transition.enabled&&opts.animate)this.$element.css(Transition.cssAttribute,this.transitionValue(opts));if(this.$element.removeClass(constants["class.collapse"]).removeClass(open),this.transitioning=constants["transition.close"],!Transition.enabled||!opts.animate)return _hidden.call(this);this.$element[dimension](0).one(Transition.end,$.proxy(_hidden,this)),Transition.emulateTransitionEnd(this.$element,opts.duration)},Collapse.prototype.toggle=function(options){this[this.$element.hasClass(constants["class.open"])?"hide":"show"](options)};var external=function(){return _private.getCollapse.apply(null,arguments)||_private.makeCollapse.apply(this,arguments)};return external.start=function(view,_options){var $view=$(view),$domView=view==window?$(document):$view;$domView.on(constants["bind.click"],constants.selector,function(){var $this=$(this),href,target=$this.attr(constants["attribute.target"])||e.preventDefault()||(href=$this.attr("href"))&&href.replace(/.*(?=#[^\s]+$)/,""),$target=$(target),data=$target.data(constants["data.collapse"]),option=data?"toggle":$this.data(),parent=$this.attr(constants["attribute.parent"]),$parent=parent&&$(parent);if(!data||!data.transitioning){if($parent)$parent.find(constants.selector+"["+constants["attribute.parent"]+'="'+parent+'"]').not($this).addClass(constants["class.collapsed"]);var classOp=$target.hasClass(constants["class.open"])?"addClass":"removeClass";$this[classOp](constants["class.collapsed"])}$target.each(function(){var $this=$(this),data=$this.data(constants["data.collapse"]),options=$.extend({},_options,$this.data(),"object"==typeof option&&option);if(!data&&options.toggle&&"show"==option)option=!option;var collapse=_private.getCollapse(this,options)||_private.makeCollapse(this,options);if("string"==typeof option)collapse[option]()})})},external.stop=function(view){var $view=$(view);$view.unbind(constants["bind.click"])},external.start(window),external};if("function"==typeof define&&define.amd)define("bundles/collapse.v0-0-1/collapse",["require","js/lib/data.attributes.v0-0-1","js/lib/transition.v0-0-1","js/vendor/jquery.v2-1","js/vendor/lucid.v2-7-0","css!bundles/collapse.v0-0-1/collapse.css"],function(require){var DataAttributes=require("js/lib/data.attributes.v0-0-1"),Transition=require("js/lib/transition.v0-0-1"),$=require("js/vendor/jquery.v2-1"),LucidJS=require("js/vendor/lucid.v2-7-0");return require("css!bundles/collapse.v0-0-1/collapse.css"),CollapsePlugin($,Transition,LucidJS,DataAttributes)});else window.Collapse=CollapsePlugin(window.$,window.Transition,window.LucidJS,window.DataAttributes)}(),!function(wndw){var popup=function($,_,LucidJS,DataAttributes){var UP_ARROW=38,DOWN_ARROW=40,SPACE_BAR=32,ESCAPE=27,ENTER=13,OPENED=1,CLOSED=0,_private={defaults:{"bind.open":"click","bind.close":"click","bind.cancel.document":"mousemove","bind.cancel":"mouseleave","bind.uncancel":"mouseenter","bind.keydown":"keydown",direction:"sw","offset.x":0,"offset.y":0,timeout:450,"timeout.intent":350,resize:!1,width:!1,"attribute.open":"data-popup","attribute.close":"data-popup-close","attribute.item":"data-popup-item",position:"absolute"},prevPopup:null,prevTimeout:null,timeout:null,timeoutClear:null,getPopup:function(el,options){var pop=$(el).data("popup.me");if(pop&&pop.constructor==Popup.prototype.constructor)if(options)return pop.customize(options);else return pop;else return null},getPopupForAnchor:function($anchor,options){var selector=$anchor.attr(_private.defaults["attribute.open"]),$pop=$(selector),pop=_private.makePopup($pop,options);return pop},closeOlderPopups:function(){if(_private.prevPopup)_private.prevPopup.close(),_private.prevPopup=null},isTouch:"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,makePopup:function(el,settings){var $el=$(el),pop;if($el.attr("data-popup"))pop=_private.getPopupForAnchor($el);else pop=_private.getPopup($el);if(!pop)pop=new Popup($el,settings),$el.data("popup.me",pop);return pop},monitorKeys:function(e){if(_.contains([UP_ARROW,DOWN_ARROW],e.keyCode))e.preventDefault(),e.stopPropagation(),_private.changeFocus.call(this,e);else if(e.keyCode==ESCAPE)this.$anchor.focus(),this.close();else if(e.keyCode==ENTER)this.emitter.trigger("enter",this)},monitorActions:function(e){var $target=$(e.target),that=this;if("mouseleave"!=e.type){if($target.closest(this.$el).size()>0||$target.closest(this.$anchor).size()>0)return void window.clearTimeout(_private.timeout)}else _private.timeout=window.setTimeout(function(){if(that.state==OPENED)that.close()},this.options.timeout)},intentOpen:function(e,popup,$anchor){var anchor=$anchor[0];if(_private.prevTimeout)$(document).off(".popup"),window.clearTimeout(_private.prevTimeout);_private.prevTimeout=window.setTimeout(function(){if(window.clearTimeout(_private.prevTimeout),$(document).off(".popup"),!popup.isOpen())popup.open($anchor)},popup.options["timeout.intent"]),$(document).on("mousemove.popup mouseleave.popup",function(e){if("mouseleave"==e.type||e.target!=anchor&&0===$(e.target).closest(anchor).size())$(document).off(".popup"),window.clearTimeout(_private.prevTimeout)})},changeFocus:function(e){if(!this.$anchor)return;var item_selector=this.$anchor.attr(this.options["attribute.item"]),$items=this.$el.children(":visible");if(item_selector)$items=$items.filter(item_selector);if(!$items.length)return;if(index=$items.index($items.filter(":focus")),e.keyCode==UP_ARROW)index--;if(e.keyCode==DOWN_ARROW)index++;if(0>index||index>=$items.length)this.$anchor.focus();else if(index<$items.length)$items.eq(index).focus()}},Popup=function(el,settings){this.$el=$(el),this.$parent=this.$el.parent(),this.$anchor=null,this.emitter=LucidJS.emitter(this),this.customize(settings)};Popup.prototype.customize=function(settings){return this.options=_.extend({},DataAttributes.parse(this.$el,_private.defaults,"data-popup-"),settings),this},Popup.prototype.get=function(){return this.$el},Popup.prototype.open=function(anchor){if(this.state==OPENED)return;var that=this,$anchor=$(anchor);if(!this.$anchor||this.$anchor[0]!=$anchor[0]){var position=$anchor.position();if(this.options=DataAttributes.parse($anchor,this.options,"data-popup-"),this.$anchor=$anchor,this.$anchor.parent().append(this.$el),this.$anchor.attr("aria-expanded","true"),that.options.resize)this.$el.width(this.$anchor.outerWidth());if(that.options.width)this.$el.css("width",that.options.width);this.emitter.trigger("opening",this.$anchor);var offset={x:parseInt(this.options["offset.x"],10),y:parseInt(this.options["offset.y"],10)};if(this.$el.css({position:this.options.position}),!this.options.direction||"sw"==this.options.direction)this.move(position.left+offset.x,position.top+$anchor.outerHeight()+offset.y);else if("nw"==this.options.direction)this.move(position.left+offset.x,position.top-this.$el.outerHeight()+offset.y);else if("se"==this.options.direction)this.move(position.left+$anchor.outerWidth()+offset.x-this.$el.outerWidth(),position.top+$anchor.outerHeight()+offset.y);else if("ne"==this.options.direction)this.move(position.left+$anchor.outerWidth()+offset.x-this.$el.outerWidth(),position.top-this.$el.outerHeight()-offset.y);else if("s"==this.options.direction)this.move(position.left+$anchor.outerWidth()/2+offset.x-this.$el.outerWidth()/2,position.top+$anchor.outerHeight()+offset.y);else if("n"==this.options.direction)this.move(position.left+$anchor.outerWidth()/2+offset.x-this.$el.outerWidth()/2,position.top-this.$el.outerHeight()+offset.y);else if("w"==this.options.direction)this.move(position.left+offset.x-this.$el.outerWidth(),position.top+offset.y);else if("e"==this.options.direction){var xOffset=position.left+$anchor.outerWidth()+offset.x;this.move(xOffset,position.top+offset.y),this.$el.css({marginRight:-1*xOffset})}that.$el.addClass("popup-open").show(),window.setTimeout(function(){if(_private.closeOlderPopups(),$anchor.addClass("popup-opened"),!$anchor.is(":focus"))$anchor.focus();if(that.emitter.trigger("opened",that.$anchor),that.state=OPENED,_private.prevPopup=that,that.options["bind.cancel"])that.$el.on(that.options["bind.cancel"]+".popup",_.bind(_private.monitorActions,that)),that.$anchor.on(that.options["bind.cancel"]+".popup",_.bind(_private.monitorActions,that)),that.$el.on(that.options["bind.uncancel"]+".popup",_.bind(_private.monitorActions,that)),that.$anchor.on(that.options["bind.uncancel"]+".popup",_.bind(_private.monitorActions,that));if($(document).on(that.options["bind.cancel.document"]+".popup",_.bind(_private.monitorActions,that)).on(that.options["bind.keydown"]+".popup",_.bind(_private.monitorKeys,that)),that.options["attribute.close"]){var closePopup=function(e){if(!$(e.currentTarget).is(":disabled"))that.close()},closeSelector="["+that.options["attribute.close"]+"]";if(that.$el.on(that.options["bind.close"]+".popup",closeSelector,closePopup),that.$anchor.is(closeSelector))that.$anchor.on(that.options["bind.close"]+".popup",closePopup);else that.$anchor.on(that.options["bind.close"]+".popup",closeSelector,closePopup)}},0)}return this},Popup.prototype.move=function(x,y,z){return this.$el.css({left:x,top:y,"z-index":z||1e4}),this},Popup.prototype.close=function(){return $(document).off(".popup"),this.$anchor.attr("aria-expanded","false"),this.$anchor.removeClass("popup-opened"),this.$el.removeClass("popup-open"),this.emitter.trigger("closing",this.$anchor),this.$el.off(".popup").hide(),this.$anchor.off(".popup"),this.$parent.append(this.$el),this.emitter.trigger("closed",this.$anchor),this.$anchor=null,this.state=CLOSED,window.clearTimeout(this.timeout),_private.prevPopup=null,this},Popup.prototype.isOpen=function(){return this.$el.is(":visible")};var external=function(){return _private.getPopup.apply(null,arguments)||_private.makePopup.apply(this,arguments)};return external.start=function(view,options){function openPopup(pop,$anchor){if(!pop.isOpen())pop.open($anchor)}var $view=$(view);if($view.data("popups-initialized"))return;else $view.data("popups-initialized",1);var selector="["+_private.defaults["attribute.open"]+"]";$view.on("click.popup mouseenter.popup keydown.popup",selector,function(e){var $anchor=$(this),bind=$anchor.attr("data-popup-bind-open");if($anchor.is(":disabled"))return;var pop=_private.getPopupForAnchor($anchor,options);if("keydown"==e.type&&_.contains([UP_ARROW,DOWN_ARROW,SPACE_BAR],e.keyCode))if(e.preventDefault(),e.stopPropagation(),e.keyCode==DOWN_ARROW||e.keyCode==SPACE_BAR){if(!pop.isOpen())openPopup(pop,$anchor);_private.changeFocus.call(pop,e)}else if(e.keyCode==UP_ARROW&&pop.isOpen())pop.close();if(e.type==bind||!bind&&"click"==e.type||_private.isTouch&&"click"==e.type)if("mouseover"==e.type||"mouseenter"==e.type)_private.intentOpen(e,pop,$anchor);else openPopup(pop,$anchor)}),$($view.find("["+_private.defaults["attribute.open"]+"]")).each(function(){var $elem=$(this);if("true"==$elem.attr("aria-expanded")){var pop=_private.getPopupForAnchor($elem,options);openPopup(pop,$elem),window.setTimeout(function(){pop.close($elem)},3e3)}})},external.cleanUp=function(){_private.closeOlderPopups()},external.stop=function(view){var $view=$(view);$view.data("popups-initialized",0),$view.off(".popup"),external.cleanUp()},external.start("body"),external};if("function"==typeof define&&define.amd)define("js/lib/popups.v0-0-1",["require","js/lib/data.attributes.v0-0-1","js/vendor/jquery.v2-1","js/vendor/lucid.v2-7-0","js/vendor/underscore.v1-6"],function(require){var DataAttributes=require("js/lib/data.attributes.v0-0-1"),$=require("js/vendor/jquery.v2-1"),LucidJS=require("js/vendor/lucid.v2-7-0"),_=require("js/vendor/underscore.v1-6");return popup($,_,LucidJS,DataAttributes)});else wndw.Popup=popup(wndw.$,wndw._,wndw.LucidJS,wndw.DataAttributes)}(window),define("bundles/phoenix/template/layout/header",["require","js/app/config","jquery","bundles/phoenix/lib/view","bundles/phoenix/template/layout/header.html","bundles/phoenix/template/models/userIdentity","bundles/phoenix/template/models/userAuthorization","bundles/emailVerificationBanner/emailVerification","bundles/collapse.v0-0-1/collapse","css!bundles/phoenix/template/styl/index.css","js/lib/popups.v0-0-1"],function(require){var config=require("js/app/config"),$=require("jquery"),PhoenixView=require("bundles/phoenix/lib/view"),template=require("bundles/phoenix/template/layout/header.html"),userIdentity=require("bundles/phoenix/template/models/userIdentity"),userAuthorization=require("bundles/phoenix/template/models/userAuthorization"),EmailVerificationView=require("bundles/emailVerificationBanner/emailVerification");require("bundles/collapse.v0-0-1/collapse"),require("css!bundles/phoenix/template/styl/index.css"),require("js/lib/popups.v0-0-1");var Header=PhoenixView.extend({name:"header",template:template,templateOptions:{config:config,userIdentity:userIdentity,userAuthorization:userAuthorization},initialize:function(options){this.userModel=options?options.user:null,this.userAuthorization=options?options.authoriziation:null,this.forceAuthRedirect=!(!options||!options.forceAuthRedirect),this.listenTo(this,"view:appended",this.onViewAppended)},postRender:function(){this.$collapseButton=this.$('[data-toggle~="collapse"]'),this.$collapseTarget=this.$(this.$collapseButton.data("target")),this.$collapseTarget.on("shown",this.onShown.bind(this)),this.$collapseTarget.on("hidden",this.onHidden.bind(this)),this.$$("navbar-toggle-open").hide(),this.$$("navbar-toggle-closed").show()},events:{'click [data-js~="signin-link"]':"onSignInClick",'click [data-js~="signup-link"]':"onSignUpClick"},onSignUpClick:function(e){if(e.preventDefault(),this.forceAuthRedirect)userAuthorization.ensureAuthenticatedByRedirect({mode:"signup"});else userAuthorization.ensureAuthenticated({mode:"signup"})},onSignInClick:function(e){if(e.preventDefault(),this.forceAuthRedirect)userAuthorization.ensureAuthenticatedByRedirect({mode:"signin"});else userAuthorization.ensureAuthenticated({mode:"login"})},onShown:function(e){this.$$("navbar-toggle-open").show(),this.$$("navbar-toggle-closed").hide()},onHidden:function(e){this.$$("navbar-toggle-open").hide(),this.$$("navbar-toggle-closed").show()},render:function(){this.$el.html(template({config:config,userIdentity:userIdentity,userAuthorization:userAuthorization}))},onViewAppended:function(){if(userIdentity){var banner=this.$el.find('[data-js="critical-readme"]');banner.empty(),this.region.append(EmailVerificationView,{to:banner,initialize:{user:userIdentity}})}}});return Header}),define("bundles/phoenix/template/views/nls/userModal",{}),!function(wndw){var jadify=function(jade,_t,_h){var yudify=function template(locals){var buf=[],jade_mixins={},jade_interp;
return buf.push('<div class="c-phoenix-hide c-user-modal modal"><em data-js="close" class="c-user-modal-close fa fa-times"></em><div data-js="signup-body" data-state="signup"></div><div data-js="login-body" data-state="login"></div></div>'),buf.join("")};return function(locals){if(locals)if(locals._t)_t=locals._t.merge(_t);return yudify(locals)}};if("function"==typeof define&&define.amd)define("bundles/phoenix/template/views/userModal.html",["js/vendor/jade","i18n!bundles/phoenix/template/views/nls/userModal"],function(jade,_t){var _h;return jadify(jade,_t,_h)});else wndw.jade.templates["bundles.phoenix.template.views.userModal"]=jadify(wndw.jade.helpers)}(window),define("bundles/phoenix/template/views/nls/userModalLogin",{es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}),!function(wndw){var jadify=function(jade,_t,_h){var yudify=function template(locals){var buf=[],jade_mixins={},jade_interp,locals_for_with=locals||{};return function(_t,resetUrl){buf.push('<div class="c-user-modal-content"><div data-js="info" class="c-user-modal-info"><h1 class="c-user-modal-header">'+jade.escape(null==(jade_interp=_t("Log into Coursera"))?"":jade_interp)+'</h1><div class="c-user-modal-logo c-phoenix-template-infinity-logo"></div><span class="c-user-modal-description">'+jade.escape(null==(jade_interp=_t("Welcome back!"))?"":jade_interp)+'</span><div class="c-user-modal-error-container"><span data-js="error-text" class="c-user-modal-error-text c-phoenix-hide">'+jade.escape(null==(jade_interp=_t("Wrong email or password. Try again!"))?"":jade_interp)+'</span></div></div><div class="c-user-modal-controls"><form data-js="form" class="c-user-modal-form"><div data-js="control-group" class="c-user-modal-control-group"><label user-modal-email="user-modal-email" class="bt3-sr-only">'+jade.escape(null==(jade_interp=_t("Email"))?"":jade_interp)+'</label><input type="email" name="email"'+jade.attr("placeholder",_t("Email"),!0,!1)+' id="user-modal-email" required="required" data-form-required="data-form-required" data-form-schema="email" data-js="email" aria-required="true" aria-describedby="user-modal-email-help" class="c-phoenix-template-input"/><em data-js="error-icon"'+jade.attr("data-tooltip",_t("Not a valid email"),!0,!1)+' data-tooltip-position="left" data-tooltip-offset="-4" data-tooltip-style-position="fixed" data-tooltip-animate-in-to="{&quot;opacity&quot;: 1}" data-tooltip-animate-out-from="{&quot;opacity&quot;: 1}" class="c-user-modal-error-icon c-phoenix-hide fa fa-exclamation-triangle"></em><span id="user-modal-email-help" data-js="help-inline" class="c-user-modal-help-inline c-phoenix-hide">'+jade.escape(null==(jade_interp=_t("Not a valid email"))?"":jade_interp)+'</span></div><div data-js="control-group" class="c-user-modal-control-group"><label for="user-modal-password" class="bt3-sr-only">'+jade.escape(null==(jade_interp=_t("Password"))?"":jade_interp)+'</label><input type="password" name="password"'+jade.attr("placeholder",_t("Password"),!0,!1)+' id="user-modal-password" required="required" data-form-required="data-form-required" aria-required="true" aria-describedby="user-modal-password-help" class="c-phoenix-template-input"/><em data-js="error-icon"'+jade.attr("data-tooltip",_t("Required"),!0,!1)+' data-tooltip-position="left" data-tooltip-offset="-4" data-tooltip-style-position="fixed" data-tooltip-animate-in-to="{&quot;opacity&quot;: 1}" data-tooltip-animate-out-from="{&quot;opacity&quot;: 1}" class="c-user-modal-error-icon c-phoenix-hide fa fa-exclamation-triangle"></em><span id="user-modal-password-help" data-js="help-inline help-inline-password" class="c-user-modal-help-inline c-phoenix-hide">'+jade.escape(null==(jade_interp=_t("Required"))?"":jade_interp)+'</span></div><button data-js="submit" class="c-user-modal-submit bt3-btn bt3-btn-block c-phoenix-template-button">'+jade.escape(null==(jade_interp=_t("Log in"))?"":jade_interp)+"</button><a"+jade.attr("href",resetUrl,!0,!1)+' class="c-user-modal-reset">'+jade.escape(null==(jade_interp=_t("Forgot my password"))?"":jade_interp)+'</a></form></div></div><div class="c-user-modal-footer">'+(null==(jade_interp=_t("New to Coursera?&nbsp;"))?"":jade_interp)+'<a data-js="signup" class="c-user-modal-nav-link">'+jade.escape(null==(jade_interp=_t("Sign Up"))?"":jade_interp)+"</a></div>")}.call(this,"_t"in locals_for_with?locals_for_with._t:"undefined"!=typeof _t?_t:void 0,"resetUrl"in locals_for_with?locals_for_with.resetUrl:"undefined"!=typeof resetUrl?resetUrl:void 0),buf.join("")};return function(locals){if(locals)if(locals._t)_t=locals._t.merge(_t);return yudify(locals)}};if("function"==typeof define&&define.amd)define("bundles/phoenix/template/views/userModalLogin.html",["js/vendor/jade","i18n!bundles/phoenix/template/views/nls/userModalLogin"],function(jade,_t){var _h;return jadify(jade,_t,_h)});else wndw.jade.templates["bundles.phoenix.template.views.userModalLogin"]=jadify(wndw.jade.helpers)}(window),define("js/lib/schema",["underscore"],function(_){var Rules=function(param,rules){this.param=param,this.rules=rules};Rules.prototype.Error=function(message,rule,value){switch(typeof this.rules.error){case"string":message=this.rules.error;break;case"object":if(this.rules.error[rule])message=this.rules.error[rule];else if(this.rules.error["default"])message=this.rules.error["default"]}if(_.isString(value))message=message.replace(/%v/,value.toString());if(_.isString(rule))message=message.replace(/%r/,rule);return message.replace(/%p/,this.param).replace(/%v/,"value").replace(/%r/,"rule")},Rules.prototype.apply=function(value){if(_.isEmpty(value)&&!_.isUndefined(this.rules["default"]))value=this.rules["default"];if(this.rules.required){if(this.rules.required&&(_.isUndefined(value)||_.isUndefined(this.rules.type)&&/^\s*$/.test(value)))throw this.Error("%p is a required parameter","required",value)}else if(_.isUndefined(value))return value;if(this.rules.filters)value=this.filter(value);if(this.rules.type)if("string"==typeof this.rules.type&&"function"==typeof is[this.rules.type]){if(!is[this.rules.type](value))throw this.Error("%p is not a "+this.rules.type,"type",value)}else if(!0){if(!this.rules.type(value))throw this.Error("%p is not a valid type","type",value)}else throw this.Error("%p is not a valid type","type",value);if(this.rules.properties)this.check(value);return value},Rules.prototype.filter=function(value){switch(typeof this.rules.filters){case"function":value=this.rules.filters(value);break;case"string":if("function"==typeof filters[this.rules.filters])value=filters[this.rules.filters](value);break;case"object":if(_.isArray(this.rules.filters))this.rules.filters.forEach(function(filter){value=filters[filter](value)})}return value},Rules.prototype.check=function(value){switch(typeof this.rules.properties){case"function":if(!this.rules.properties(value))throw this.Error("%p is not valid");break;case"object":for(var properties=_.keys(this.rules.properties),i=0;i<properties.length;i++){var property=properties[i];if("function"==typeof checks[property]){var args=this.rules.properties[property];if(!checks[property].apply(null,[value,args]))throw this.Error("%p failed %r with %v",property)}else if("function"==typeof this.rules.properties[property])if(!this.rules.properties[property].apply(null,[value]))throw this.Error("%p failed on %r with %v",property)}}};var checks={max:function(value,length){if(_.isArray(value)||"string"==typeof value)return value.length<=length;else if("number"==typeof value)return length>=value;else return!1},min:function(value,length){if(_.isArray(value)||"string"==typeof value)return value.length>=length;else if("number"==typeof value)return value>=length;else return!1},regex:function(value,regex){return regex.test(value)},"in":function(value,list){return-1!=list.indexOf(value)}},is={"string+":function(value){return"string"==typeof value&&""!==value},string:function(value){return"string"==typeof value},alphanum:function(value){return/^[a-zA-Z0-9]+$/i.test(value)},alpha:function(value){return/^[a-zA-Z]+$/i.test(value)},object:function(value){return"object"==typeof value&&!_.isArray(value)},array:function(value){return _.isArray(value)},date:function(value){return _.isDate(value)&&!isNaN(value.getTime())},number:function(value){return"number"==typeof value&&!isNaN(value)},"int":function(value){return"number"==typeof value&&value%1===0&&!isNaN(value)},"boolean":function(value){return _.isBoolean(value)},"float":function(value){return"number"==typeof value&&!isNaN(value)},email:function(value){return/[a-zA-Z0-9!#$%&'*+\/=?\^_`{|}~\-]+(?:\.[a-zA-Z0-9!#$%&'*+\/=?\^_`{|}~\-]+)*@(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-]*[a-zA-Z])?$/.test(value)},url:function(value){return/^(http(s)?:\/\/)?([\w\-]+\.{1})*(([\w\-]*){1}(\.{1}[A-Za-z]{2,4}){1}){1}(\:{1}\d*)?([\?\/|\#]+[\@\~\;\+\'\#\,\.\%\-\/\&\?\=\w\$\s]*)*$/i.test(value)},zipcode:function(value){return/\d{5}/.test(value)}},filters={toInt:function(value){return parseInt(value,10)},toFloat:function(value){return parseFloat(value,10)},toString:function(value){return value.toString()},toDate:function(value){return new Date(value)},toBoolean:function(value){if(1===value||value===!0||/true|on|yes|1/.test(value))return!0;else if(0===value||value===!1||/false|off|no|0/.test(value))return!1;else return value},trim:function(value){return _.isString(value)?value.replace(/^\s\s*/,"").replace(/\s\s*$/,""):value},lowercase:function(value){return _.isString(value)?value.toLowerCase():value},uppercase:function(value){return _.isString(value)?value.toUpperCase():value}},rules={create:function(param,rules){return new Rules(param,rules)},types:is,filters:filters,properties:checks},Schema=function(schema){this.schema=schema};Schema.prototype.validate=function(data){for(var params=_.keys(this.schema),errors={},values={},value,get="function"==typeof data?data:function(p){return data[p]},i=0;i<params.length;i++){var schema=this.schema[params[i]];try{if(value=rules.create(params[i],schema).apply(get(params[i])),!_.isUndefined(value))values[params[i]]=value;if("object"==typeof schema.schema&&!_.isArray(schema.schema)&&_.keys(schema.schema).length&&!_.isUndefined(values[params[i]]))if("object"==schema.type)_.keys(schema.schema).forEach(function(param){try{if(value=rules.create(params[i]+"."+param,schema.schema[param]).apply(get(params[i])[param]),!_.isUndefined(value))values[params[i]][param]=value}catch(error){if(!errors[params[i]]||"object"!=typeof errors[params[i]])errors[params[i]]={};errors[params[i]][param]=error}});else if("array"==schema.type)values[params[i]].forEach(function(value,index){try{values[params[i]][index]=rules.create(params[i]+"["+index+"]",schema.schema).apply(value)}catch(error){if(!_.isArray(errors[params[i]]))errors[params[i]]=[];errors[params[i]][index]=error}})}catch(error){errors[params[i]]=error}}return{data:values,errors:errors,valid:0===_.keys(errors).length}};var schema={test:function(value,schema){return new Schema({input:schema}).validate({input:value})},create:function(schema){return new Schema(schema)},rules:rules};return schema}),define("js/lib/forms",["jquery","underscore","js/lib/schema","js/lib/lucid","js/lib/json2"],function($,_,Schema,Lucid){var defaults={"attribute.prefix":"data-form","attribute.ignore":"ignore","attribute.previous":"prev-value","attribute.schema":"schema","attribute.filter":"filter","attribute.properties":"properties","attribute.required":"required","class.warn":"warn"},getForm=function(el,options){var form=$(el).data("form.me");if(form&&form.constructor===Form.prototype.constructor)if(form)return form.customize(options);else return form;else return null},makeForm=function(el,settings){var $el=$(el),form=getForm($el);if(!form)form=new Form($el,settings),$el.data("form.me",form);return form},validate=function($input,_rules){var rules=_rules||{},rule={},test={},value=$input.val(),id=$input.attr("name")||$input.attr("id"),type=$input.attr("type");if(rules.schema)rule.type=rules.schema;if(rules.filter)rule.filters=_.isString(rules.filter)?(rules.filter||"").split(","):rules.filter;if(rules.required)rule.required=!0;if(rules.properties)rule.properties=_.isString(rules.properties)?JSON.parse(rules.properties):rules.properties;if(rules.schema||rules.filter||rules.required||rules.properties){if(rule.trim=!0,test=Schema.test(value,rule),/^checkbox|radio$/.test(type)&&rule.required&&!$input[0].checked)test.valid=!1;if(!test.valid)if(rules.required||""!==value)throw test.errors.input;else value=null;else if(_.isString(test.data.input)&&value!==test.data.input)value=test.data.input,$input.val(value)}return value},process=function(){var that=this,inputs=this.$form.find(":input"),result={},errors={},valid=!0,pattern=/^([^\[\]]+)(?:\[(.*)\])?$/;return _.each(inputs,function(input){var $input=$(input),type=$input.attr("type"),value=$input.val(),node=$input.prop("nodeName"),id=$input.attr("name")||$input.attr("id"),names=(id||"").split("."),part=result,name=names[0],ignore=$input.attr(that.options["attribute.prefix"]+"-"+that.options["attribute.ignore"])||/button|submit/.test(type)||/button/i.test(node),schema=$input.attr(that.options["attribute.prefix"]+"-"+that.options["attribute.schema"])||$input.data(that.options["attribute.prefix"]+"-"+that.options["attribute.schema"]),filter=$input.attr(that.options["attribute.prefix"]+"-"+that.options["attribute.filter"])||$input.data(that.options["attribute.prefix"]+"-"+that.options["attribute.filter"]),props=$input.attr(that.options["attribute.prefix"]+"-"+that.options["attribute.properties"])||$input.data(that.options["attribute.prefix"]+"-"+that.options["attribute.properties"]),required=void 0!==$input.attr(that.options["attribute.prefix"]+"-"+that.options["attribute.required"]);if(!ignore){if($input.data(that.options["attribute.prefix"]+"-dirty"))try{value=validate($input,{schema:schema,filter:filter,required:required,properties:props})}catch(e){valid=!1,errors[id]=e}else if(errors[id]=$input.data(that.options["attribute.prefix"]+"-error"),valid)valid=$input.data(that.options["attribute.prefix"]+"-valid");for(var i=0,match=null;i<names.length;i++){var last=i===names.length-1;if(match=names[i].match(pattern),name=match?match[1]:names[i],match){var index=match[2];if(void 0===part[name])if(!last)part[name]=void 0===index?{}:[];else if(void 0===index)part[name]=value;else part[name]=[],part[name][index]=value;if(!last)if(void 0!==index)if(part[name][index])part=part[name][index];else part=part[name][index]={};else part=part[name];else part[name]=value}}}return{data:result,errors:errors}}),{valid:valid,errors:errors,data:result}},prepare=function(){var that=this,inputs=this.$form.find(":input");_.each(inputs,function(input){var $input=$(input);if(!$input.attr(that.options["attribute.prefix"]+"-"+that.options["attribute.ignore"])&&!/button|submit/.test($input.attr("type")))$input.data(that.options["attribute.prefix"]+"-"+that.options["attribute.previous"],$input.val()),$input.data(that.options["attribute.prefix"]+"-dirty",!0)});var validateIt=function(e){that.validate(e.currentTarget)},blurIt=function(e){var $el=$(e.currentTarget);that.emitter.trigger("blur",e,{valid:$el.data(that.options["attribute.prefix"]+"-valid"),error:$el.data(that.options["attribute.prefix"]+"-error")})};this.$form.on("change",":input",validateIt),this.$form.on("blur",":input",blurIt),this.$form.on("keydown cut paste",":input",_.debounce(validateIt,500)),this.$form.on("submit",function(e){that.emitter.trigger("submit",e,process.call(that))})},Form=function(form,_options){var that=this;this.$form=$(form),this.customize(_options),_.bindAll(this,"validate"),prepare.call(this,this.$form),this.emitter=Lucid.emitter(this)};Form.prototype.customize=function(_options){return this.options=_.extend({},defaults,_options||{}),this},Form.prototype.process=function(){return process.call(this)},Form.prototype.validate=function(el){var that=this,$el=$(el),schema=$el.attr(that.options["attribute.prefix"]+"-"+that.options["attribute.schema"])||$el.data(that.options["attribute.prefix"]+"-"+that.options["attribute.schema"]),filter=$el.attr(that.options["attribute.prefix"]+"-"+that.options["attribute.filter"])||$el.data(that.options["attribute.prefix"]+"-"+that.options["attribute.filter"]),props=$el.attr(that.options["attribute.prefix"]+"-"+that.options["attribute.properties"])||$el.data(that.options["attribute.prefix"]+"-"+that.options["attribute.properties"]),required=void 0!==$el.attr(that.options["attribute.prefix"]+"-"+that.options["attribute.required"]),event=$.Event(null,{currentTarget:$el.get(0)});try{if(validate($el,{schema:schema,filter:filter,required:required,properties:props}),$el.hasClass(that.options["class.warn"]))$el.removeClass(that.options["class.warn"]),event.type="forms:corrected",that.emitter.trigger("corrected",event);$el.data(that.options["attribute.prefix"]+"-valid",!0),$el.data(that.options["attribute.prefix"]+"-error",null),event.type="forms:change",that.emitter.trigger("change",event,{valid:!0})}catch(error){if(!$el.hasClass(that.options["class.warn"]))$el.addClass(that.options["class.warn"]),event.type="forms:error",that.emitter.trigger("error",event,error);$el.data(that.options["attribute.prefix"]+"-valid",!1),$el.data(that.options["attribute.prefix"]+"-error",error),event.type="forms:change",that.emitter.trigger("change",event,{valid:!1,error:error})}$el.data(that.options["attribute.prefix"]+"-dirty",!1)};var external=function(){return getForm.apply(null,arguments)||makeForm.apply(this,arguments)};return external}),define("bundles/phoenix/template/views/userModalLogin",["require","jquery","underscore","bundles/phoenix/lib/view","bundles/phoenix/template/views/userModalLogin.html","js/app/config","js/lib/forms","js/lib/path"],function(require){var $=require("jquery"),_=require("underscore"),PhoenixView=require("bundles/phoenix/lib/view"),template=require("bundles/phoenix/template/views/userModalLogin.html"),config=require("js/app/config"),Forms=require("js/lib/forms"),path=require("js/lib/path"),UserModalLoginView=PhoenixView.extend({name:"userModalLogin",multitracker:{namespace:"userModal"},events:{'submit [data-js~="form"]':"onSubmitClick"},initialize:function(opts){this.model=opts.model,this.listenTo(this.model,"loginFail",this.onLoginFail),this.listenTo(this,"view:closed",this.onClose)},render:function(){return this.$el.html(template({resetUrl:path.join(config.url.accounts,"reset")})),this.form=Forms(this.$$("form")),this.form.on("change",this.verifyForm.bind(this)),this},onSubmitClick:function(e){e.preventDefault(),this.track("click.loginSubmit");var dataArray=this.$$("form").serializeArray(),data=_(dataArray).reduce(function(data,curr){return data[curr.name]=curr.value,data},{});this.model.tryLogin(data)},onClose:function(){this.form.off("change")},verifyForm:function(e,status){var $input=$(e.currentTarget),errorIcon=$input.parents('[data-js~="control-group"]').find('[data-js~="error-icon"]');if(status.valid)errorIcon.hide();else errorIcon.show(),$input.addClass("error")},onLoginFail:function(){this.$$("error-text").show()}});return UserModalLoginView}),define("bundles/phoenix/template/views/nls/userModalSignup",{es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}),!function(wndw){var jadify=function(jade,_t,_h){var yudify=function template(locals){var buf=[],jade_mixins={},jade_interp,locals_for_with=locals||{};return function(titleVariant,_t,descriptionVariant,config){switch(buf.push('<div class="c-user-modal-content"><div data-js="info" class="c-user-modal-info">'),titleVariant){case"short":buf.push('<h1 class="c-user-modal-header">'+jade.escape(null==(jade_interp=_t("Join Coursera"))?"":jade_interp)+"</h1>");break;case"long":buf.push('<h1 class="c-user-modal-header">'+jade.escape(null==(jade_interp=_t("Sign up for Coursera"))?"":jade_interp)+"</h1>")}switch(buf.push('<div class="c-user-modal-logo c-phoenix-template-infinity-logo"></div>'),descriptionVariant){case"short":buf.push('<span class="c-user-modal-description">'+jade.escape(null==(jade_interp=_t("Take the world's best courses, online, for free."))?"":jade_interp)+"</span>");break;case"medium":buf.push('<span class="c-user-modal-description">'+jade.escape(null==(jade_interp=_t("Sign up to learn from over 800 courses from the world’s best universities."))?"":jade_interp)+"</span>");break;case"long":buf.push('<span class="c-user-modal-description c-user-modal-description-small">'+jade.escape(null==(jade_interp=_t("Sign up to watch lectures, take quizzes and interact with learners who share your curiosity."))?"":jade_interp)+"</span>")}buf.push('<div class="c-user-modal-error-container"><span data-js="error-text" class="c-user-modal-error-text c-phoenix-hide">'+jade.escape(null==(jade_interp=_t("That email is already taken."))?"":jade_interp)+'</span></div></div><div class="c-user-modal-controls"><fieldset><form data-js="form" class="c-user-modal-form"><div data-js="control-group" class="c-user-modal-control-group"><label for="user-modal-full-name" class="bt3-sr-only">'+jade.escape(null==(jade_interp=_t("Full Name"))?"":jade_interp)+'</label><input type="text" name="name"'+jade.attr("placeholder",_t("Full Name"),!0,!1)+' id="user-modal-full-name" required="required" data-form-required="data-form-required" data-form-schema="string+" aria-required="true" aria-describedby="user-modal-name-help" class="c-user-modal-input c-phoenix-template-input"/><em data-js="error-icon"'+jade.attr("data-tooltip",_t("Required"),!0,!1)+' data-tooltip-position="left" data-tooltip-offset="-4" data-tooltip-style-position="fixed" data-tooltip-animate-in-to="{&quot;opacity&quot;: 1}" data-tooltip-animate-out-from="{&quot;opacity&quot;: 1}" class="c-user-modal-error-icon c-phoenix-hide fa fa-exclamation-triangle"></em><span id="user-modal-signup-name-help" data-js="help-inline" class="c-user-modal-help-inline c-phoenix-hide">'+jade.escape(null==(jade_interp=_t("Required"))?"":jade_interp)+'</span></div><div data-js="control-group" class="c-user-modal-control-group"><label for="user-modal-email" class="bt3-sr-only">'+jade.escape(null==(jade_interp=_t("Email"))?"":jade_interp)+'</label><input type="email" name="email"'+jade.attr("placeholder",_t("Email"),!0,!1)+' id="user-modal-email" required="required" aria-describedby="user-modal-signup-email-help" data-form-required="data-form-required" data-form-schema="email" data-js="email" class="c-user-modal-input c-phoenix-template-input"/><em data-js="error-icon"'+jade.attr("data-tooltip",_t("Not a valid email"),!0,!1)+' data-tooltip-position="left" data-tooltip-offset="-4" data-tooltip-style-position="fixed" data-tooltip-animate-in-to="{&quot;opacity&quot;: 1}" data-tooltip-animate-out-from="{&quot;opacity&quot;: 1}" class="c-user-modal-error-icon c-phoenix-hide fa fa-exclamation-triangle"></em><span id="user-modal-signup-email-help" data-js="help-inline" class="c-user-modal-help-inline c-phoenix-hide">'+jade.escape(null==(jade_interp=_t("Not a valid email"))?"":jade_interp)+'</span></div><div data-js="control-group" class="c-user-modal-control-group"><label for="user-modal-password" class="bt3-sr-only">'+jade.escape(null==(jade_interp=_t("Password"))?"":jade_interp)+'</label><input type="password" name="password"'+jade.attr("placeholder",_t("Password"),!0,!1)+' id="user-modal-password" pattern=".{6,}" required="required" aria-required="true" data-form-required="data-form-required" data-form-properties="{&quot;min&quot;:6}" aria-describedby="user-modal-signup-password-help" class="c-user-modal-input c-phoenix-template-input"/><em data-js="error-icon"'+jade.attr("data-tooltip",_t("Too short"),!0,!1)+' data-tooltip-position="left" data-tooltip-offset="-4" data-tooltip-style-position="fixed" data-tooltip-animate-in-to="{&quot;opacity&quot;: 1}" data-tooltip-animate-out-from="{&quot;opacity&quot;: 1}" class="c-user-modal-error-icon c-phoenix-hide fa fa-exclamation-triangle"></em><span id="user-modal-signup-password-help" data-js="help-inline" class="c-user-modal-help-inline c-phoenix-hide">'+jade.escape(null==(jade_interp=_t("Too short"))?"":jade_interp)+'</span></div><button data-js="submit" class="c-user-modal-submit bt3-btn bt3-btn-block c-phoenix-template-button">'+jade.escape(null==(jade_interp=_t("Sign up"))?"":jade_interp)+'</button><span class="c-user-modal-terms">'+(null==(jade_interp=_t("By creating an account, I accept Coursera's&nbsp;"))?"":jade_interp)+"<a"+jade.attr("href",config.url.base+"about/terms",!0,!1)+' target="tab1">'+jade.escape(null==(jade_interp=_t("Terms of Service"))?"":jade_interp)+"</a>"+(null==(jade_interp=_t("&nbsp;and&nbsp;"))?"":jade_interp)+"<a"+jade.attr("href",config.url.base+"about/terms/honorcode",!0,!1)+' target="tab2">'+jade.escape(null==(jade_interp=_t("Honor Code"))?"":jade_interp)+'</a>.<input type="hidden" name="termsAgree" value="true"/></span></form></fieldset></div></div><div class="c-user-modal-footer">'+(null==(jade_interp=_t("Have an account?&nbsp;"))?"":jade_interp)+'<a data-js="login" class="c-user-modal-nav-link">'+jade.escape(null==(jade_interp=_t("Log In"))?"":jade_interp)+"</a></div>")}.call(this,"titleVariant"in locals_for_with?locals_for_with.titleVariant:"undefined"!=typeof titleVariant?titleVariant:void 0,"_t"in locals_for_with?locals_for_with._t:"undefined"!=typeof _t?_t:void 0,"descriptionVariant"in locals_for_with?locals_for_with.descriptionVariant:"undefined"!=typeof descriptionVariant?descriptionVariant:void 0,"config"in locals_for_with?locals_for_with.config:"undefined"!=typeof config?config:void 0),buf.join("")};return function(locals){if(locals)if(locals._t)_t=locals._t.merge(_t);return yudify(locals)}};if("function"==typeof define&&define.amd)define("bundles/phoenix/template/views/userModalSignup.html",["js/vendor/jade","i18n!bundles/phoenix/template/views/nls/userModalSignup"],function(jade,_t){var _h;return jadify(jade,_t,_h)});else wndw.jade.templates["bundles.phoenix.template.views.userModalSignup"]=jadify(wndw.jade.helpers)}(window),define("bundles/phoenix/template/views/userModalSignup",["require","jquery","underscore","bundles/phoenix/lib/view","bundles/phoenix/template/views/userModalSignup.html","js/app/config","js/lib/coursera.ab.v0-0-1","js/lib/forms"],function(require){var $=require("jquery"),_=require("underscore"),PhoenixView=require("bundles/phoenix/lib/view"),template=require("bundles/phoenix/template/views/userModalSignup.html"),config=require("js/app/config"),AB=require("js/lib/coursera.ab.v0-0-1"),Forms=require("js/lib/forms"),UserModalSignupView=PhoenixView.extend({name:"userModalSignup",multitracker:{namespace:"userModal"},events:{'submit [data-js~="form"]':"onSubmitClick"},initialize:function(opts){this.model=opts.model,this.listenTo(this.model,"signupFail",this.onSignupFail),this.listenTo(this,"view:closed",this.onClose),this.titleVariant=AB.session.getExperiment("signup_title_copy").getChosenVariant(),this.descriptionVariant=AB.session.getExperiment("signup_description_copy").getChosenVariant()},render:function(){return this.$el.html(template({config:config,titleVariant:this.titleVariant,descriptionVariant:this.descriptionVariant})),this.form=Forms(this.$$("form")),this.form.on("change",this.verifyForm.bind(this)),this},onClose:function(){this.form.off("change")},onSubmitClick:function(e){e.preventDefault(),this.track("click.signupSubmit");var dataArray=this.$$("form").serializeArray(),data=_(dataArray).reduce(function(data,input){return data[input.name]=input.value,data},{});data.verifyEmail=data.email,this.model.trySignup(data)},verifyForm:function(e,status){var $input=$(e.currentTarget),errorIcon=$input.parents('[data-js~="control-group"]').find('[data-js~="error-icon"]');if(status.valid)errorIcon.hide();else errorIcon.show()},onSignupFail:function(){this.$$("error-text").show()}});return UserModalSignupView}),define("js/vendor/require.css.v0-1-2!bundles/helpwidget/index",[],function(){}),define("js/vendor/require.css.v0-1-2!pages/open-course/common/styl/helpwidget",[],function(){}),define("js/lib/placeholder",["jquery"],function($){var c="placeholder",hasNativeSupport=c in document.createElement("input")&&c in document.createElement("textarea");$.fn.placeholder=function(){if(!this.length)return;return this.each(function(){function hideInput(el){el.css({position:"absolute",left:"-9999em",tabindex:-1})}function showInput(el){el.css({position:"",left:""}).removeAttr("tabindex")}function placeholderOnFocus(ev){if(!hasNativeSupport&&e.data("placeholder")){var el=ispassword?fakePassw.get(0):e.get(0);if(el.createTextRange){var range=el.createTextRange();range.moveStart("character",0),range.collapse(),range.select()}else if(el.setSelectionRange)el.setSelectionRange(0,0)}}function invisibleKeyCode(k){return k>-1&&48>k&&32!=k||k>90&&96>k||k>111&&186>k||k>192&&219>k||k>219&&220>k}function placeholderOnKeyDown(ev){if(e.hasClass(c)&&!invisibleKeyCode(ev.which)){if(!hasNativeSupport&&e.data("placeholder"))if(e.val(""),e.data("placeholder",!1),ispassword)hideInput(fakePassw),showInput(e),e.focus();e.removeClass(c)}}function placeholderOnKeyUp(ev){if(!hasNativeSupport&&""===e.attr("value")){if(e.data("placeholder",!0),ispassword)hideInput(e),showInput(fakePassw),fakePassw.focus();else e.addClass(c),e.val(d);if(e.get(0).createTextRange){var range=e.get(0).createTextRange();range.moveStart("character",0),range.collapse(),range.select()}else if(e.get(0).setSelectionRange)e.get(0).setSelectionRange(0,0)}}function placeholderOnBlur(ev){if(""===e.val())if(e.addClass(c),!hasNativeSupport)if(e.data("placeholder",!0),!ispassword)e.val(d);else showInput(fakePassw),hideInput(e)}var e=$(this),d=e.attr("placeholder"),ispassword="password"===e.attr("type"),fakePassw,inputCssClass,size;if(ispassword&&!hasNativeSupport)fakePassw=$("<input>").attr({type:"text",value:d,"class":e.attr("class"),style:e.attr("style")}),fakePassw.data(e.data()),e.before(fakePassw),fakePassw.bind("keydown.placeholder",placeholderOnKeyDown),fakePassw.bind("focus.placeholder",placeholderOnFocus);else e.bind("keydown.placeholder",placeholderOnKeyDown);e.data("placeholder",!0),e.bind("blur.placeholder",placeholderOnBlur).trigger("blur.placeholder"),e.bind("focus.placeholder",placeholderOnFocus),e.bind("keyup.placeholder",placeholderOnKeyUp)})};var $val;if(!hasNativeSupport)$val=$.fn.val,$.fn.val=function(value){if(!arguments.length){var input=$(this);return input.data("placeholder")&&input.attr("value")==input.attr("placeholder")?"":$val.call(this)}return $val.call(this,value)}}),define("bundles/phoenix/template/views/userModal",["require","backbone","underscore","bundles/phoenix/lib/multitrackerMixin","bundles/phoenix/lib/view","bundles/phoenix/template/models/userModal","bundles/phoenix/template/views/userModal.html","bundles/phoenix/template/views/userModalLogin","bundles/phoenix/template/views/userModalSignup","js/lib/modals.v0-0-1","js/lib/tooltips.v1","js/lib/fsm","css!bundles/helpwidget/index.css","css!pages/open-course/common/styl/helpwidget.css","js/lib/placeholder"],function(require){var Backbone=require("backbone"),_=require("underscore"),MultitrackerMixin=require("bundles/phoenix/lib/multitrackerMixin"),PhoenixView=require("bundles/phoenix/lib/view"),model=require("bundles/phoenix/template/models/userModal"),template=require("bundles/phoenix/template/views/userModal.html"),LoginView=require("bundles/phoenix/template/views/userModalLogin"),SignupView=require("bundles/phoenix/template/views/userModalSignup"),Modal=require("js/lib/modals.v0-0-1"),Tooltip=require("js/lib/tooltips.v1"),fsm=require("js/lib/fsm");require("css!bundles/helpwidget/index.css"),require("css!pages/open-course/common/styl/helpwidget.css"),require("js/lib/placeholder");var UserModalView=PhoenixView.extend({name:"userModal",stateModelProperty:"model",multitracker:{namespace:"userModal"},events:{'click [data-js~="signup"]':"onSignupClick",'click [data-js~="login"]':"onLoginClick",'click [data-js~="close"]':"onCloseClick"},initialize:function(opts){this.userModal=null,this.onModelClose=null,this.model=model,this.listenTo(this,"view:appended",function(){this.$("input[placeholder]").placeholder()
}),this.listenTo(this.model,"change:"+this.model.stateProperty,this.renderState)},render:function(){if(this.$el.html(template()),!this.userModal){var autofocus=!0;if(window.matchMedia&&window.matchMedia("(max-width: 480px)").matches)autofocus=!1;if(this.userModal=Modal(this.$(".c-user-modal"),{autofocus:autofocus,"overlay.class":"c-user-modal-overlay"}),this.listenTo(this.model,"state:enter:hidden",function(){this.userModal.close()}),this.listenTo(this.model,"state:exit:hidden",function(){this.userModal.open()}),this.onModalClose=function(){this.model.transitionIfNot("hidden")}.bind(this),this.userModal.on("close",this.onModalClose),"hidden"!==this.model.state())_.defer(this.userModal.open.bind(this.userModal))}this.signupView=new SignupView({model:this.model}),this.loginView=new LoginView({model:this.model}),this.$$("signup-body").html(this.signupView.render().el),this.$$("login-body").html(this.loginView.render().el),this.delegateEvents(),this.renderFsm(),this.renderState()},remove:function(){if(this.userModal&&this.onModalClose)this.userModal.off("close",this.onModalClose);PhoenixView.prototype.remove.call(this)},show:function(mode){this.model.transition(mode)},hide:function(){this.model.transition("hidden")},onSignupClick:function(){this.showSignup(),this.track("click.signupNav")},onLoginClick:function(){this.showLogin(),this.track("click.loginNav")},onCloseClick:function(){this.hide(),this.track("click.close")},showSignup:function(){this.show("signup")},showLogin:function(){this.show("login")}});return UserModalView.extend(MultitrackerMixin)}),define("bundles/phoenix/template/layout/modals",["require","backbone","jquery","js/app/config","bundles/collapse.v0-0-1/collapse","css!bundles/phoenix/template/styl/index.css","bundles/phoenix/template/views/userModal","js/lib/popups.v0-0-1"],function(require){var Backbone=require("backbone"),$=require("jquery"),config=require("js/app/config");require("bundles/collapse.v0-0-1/collapse"),require("css!bundles/phoenix/template/styl/index.css"),require("bundles/phoenix/template/views/userModal"),require("js/lib/popups.v0-0-1");var Modals=Backbone.View.extend({name:"modals",subregions:{userModal:{"bundles/phoenix/template/views/userModal":{to:'[data-js="phoenix-template-region-modal-container"]'}}},render:function(){this.$el.html('<div data-js="phoenix-template-region-modal-container"></div>')}});return Modals}),define("bundles/phoenix/template/layout/nls/footer",{es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}),define("pages/help-center/data/HelpCenterLinks",[],function(){var HelpCenterLinks={isNewHelpCenter:function(){if("undefined"==typeof coursera_enable_new_help_center)coursera_enable_new_help_center=!1;return coursera_enable_new_help_center},base_with_auth:"https://accounts.coursera.org/i/zendesk/courserahelp?return_to=https://courserahelp.zendesk.com/hc",base_without_auth:"https://courserahelp.zendesk.com/hc",_linkWrapper:function(oldLink,newLink){if(this.isNewHelpCenter())return this.base_with_auth+newLink;return oldLink},getHomeLink:function(oldLink){return this._linkWrapper(oldLink,"/")},getNewHelpCenterHome:function(isAuthenticated){if(isAuthenticated)return this.base_with_auth;else return this.base_without_auth},getReporterLink:function(oldLink){return this._linkWrapper(oldLink,"/")},getCantSignInLink:function(isAuthenticated){return(isAuthenticated?this.base_with_auth:this.base_without_auth)+"/articles/201531725-I-Can-t-Log-In"},getForumLink:function(oldLink){return this._linkWrapper(oldLink,"/articles/201523115-Forums")},getFlagLink:function(oldLink){return this._linkWrapper(oldLink,"/articles/201532585-Code-of-Conduct")},getCodeOfConductLink:function(isAuthenticated){return(isAuthenticated?this.base_with_auth:this.base_without_auth)+"/articles/201532585-Code-of-Conduct"},getHumanGradingLink:function(oldLink){return this._linkWrapper(oldLink,"/articles/201212339-Peer-Graded-Assignments")},getMathAssignmentLink:function(oldLink){return this.base_with_auth+"/articles/201212239-Math-Assignments"},getOnDemandLink:function(isAuthenticated){return this.getNewHelpCenterHome(isAuthenticated)+"/articles/201523005-About-On-Demand"}};return HelpCenterLinks}),define("bundles/phoenix/components/PageFooter",["require","exports","module","react-with-addons","i18n!bundles/phoenix/template/layout/nls/footer","pages/help-center/data/HelpCenterLinks"],function(require,exports,module){var React=require("react-with-addons"),_t=require("i18n!bundles/phoenix/template/layout/nls/footer"),helpCenterLinks=require("pages/help-center/data/HelpCenterLinks"),FooterLink=React.createClass({displayName:"FooterLink",propTypes:{href:React.PropTypes.string.isRequired,label:React.PropTypes.string.isRequired},render:function(){var $__0=this.props,label=$__0.label,anchorProps=function(source,exclusion){var rest={},hasOwn=Object.prototype.hasOwnProperty;if(null==source)throw new TypeError;for(var key in source)if(hasOwn.call(source,key)&&!hasOwn.call(exclusion,key))rest[key]=source[key];return rest}($__0,{label:1});return React.createElement("li",{className:"c-phoenix-template-footer-list-item"},React.createElement("a",React.__spread({className:"c-phoenix-template-footer-link"},anchorProps),label))}}),PageFooter=React.createClass({displayName:"PageFooter",propTypes:{userIsAuthenticated:React.PropTypes.bool},getDefaultProps:function(){return{userIsAuthenticated:!1}},render:function(){var helpUrl=helpCenterLinks.getNewHelpCenterHome(this.props.userIsAuthenticated);return React.createElement("div",{className:"c-phoenix-template-footer bt3-container-fluid"},React.createElement("div",{className:"bt3-row"},React.createElement("div",{className:"bt3-col-md-5"},React.createElement("p",null,React.createElement("a",{className:"c-phoenix-template-small-logo",href:"/"},React.createElement("span",{className:"bt3-sr-only"},"Coursera"))),React.createElement("p",null,_t("Coursera provides universal access to the world’s best education, partnering with top universities and organizations to offer courses for anyone to take, for free.")),React.createElement("p",{className:"c-font-footer"},_t("© 2014 Coursera Inc. All rights reserved."))),React.createElement("div",{className:"bt3-col-md-7"},React.createElement("div",{className:"bt3-row"},React.createElement("ul",{className:"c-phoenix-template-footer-list bt3-col-sm-3 bt3-col-xs-6"},React.createElement("li",{className:"c-phoenix-template-footer-list-item"},React.createElement("h5",{className:"c-font-bold c-uppercase"},_t("Company"))),React.createElement(FooterLink,{href:"/about/",label:_t("About")}),React.createElement(FooterLink,{href:"/about/people",label:_t("People")}),React.createElement(FooterLink,{href:"/about/leadership",label:_t("Leadership")}),React.createElement(FooterLink,{href:"/about/careers",label:_t("Careers")})),React.createElement("ul",{className:"c-phoenix-template-footer-list bt3-col-sm-3 bt3-col-xs-6"},React.createElement("li",{className:"c-phoenix-template-footer-list-item"},React.createElement("h5",{className:"c-font-bold c-uppercase"},_t("Friends"))),React.createElement(FooterLink,{href:"/about/partners",label:_t("Partners")}),React.createElement(FooterLink,{href:"/about/community",label:_t("Community")}),React.createElement(FooterLink,{href:"/about/programs",label:_t("Programs")}),React.createElement(FooterLink,{href:"http://tech.coursera.org/app-platform",label:_t("Developers")}),React.createElement(FooterLink,{href:"/about/translate",label:_t("Translate")})),React.createElement("div",{className:"bt3-clearfix bt3-visible-xs"}),React.createElement("ul",{className:"c-phoenix-template-footer-list bt3-col-sm-3 bt3-col-xs-6"},React.createElement("li",{className:"c-phoenix-template-footer-list-item"},React.createElement("h5",{className:"c-font-bold c-uppercase"},_t("Connect"))),React.createElement(FooterLink,{label:_t("Google+"),href:"https://plus.google.com/+Coursera",target:"_blank",title:"Follow Coursera on Google+"}),React.createElement(FooterLink,{label:_t("Twitter"),href:"http://twitter.com/coursera",target:"_blank",title:"Follow Coursera on Twitter"}),React.createElement(FooterLink,{label:_t("Facebook"),href:"https://plus.google.com/+Coursera",target:"_blank",title:"Follow Coursera on Facebook"}),React.createElement(FooterLink,{label:_t("Blog"),href:"http://blog.coursera.org",target:"_blank",title:"Read the Coursera blog"}),React.createElement(FooterLink,{label:_t("Tech Blog"),href:"http://tech.coursera.org",target:"_blank",title:"Read the Coursera tech blog"})),React.createElement("ul",{className:"c-phoenix-template-footer-list bt3-col-sm-3 bt3-col-xs-6"},React.createElement("li",{className:"c-phoenix-template-footer-list-item"},React.createElement("h5",{className:"c-font-bold c-uppercase"},_t("More"))),React.createElement(FooterLink,{href:"/about/terms",label:_t("Terms")}),React.createElement(FooterLink,{href:"/about/privacy",label:_t("Privacy")}),React.createElement(FooterLink,{href:helpUrl,label:_t("Help")}),React.createElement(FooterLink,{href:"/about/press",label:_t("Press")}),React.createElement(FooterLink,{href:"/about/contact",label:_t("Contact")}))))))}});module.exports=PageFooter}),define("bundles/phoenix/template/layout/footer",["require","react-with-addons","backbone","bundles/phoenix/template/models/userIdentity","bundles/phoenix/components/PageFooter"],function(require){var React=require("react-with-addons"),Backbone=require("backbone"),userIdentity=require("bundles/phoenix/template/models/userIdentity"),PageFooter=require("bundles/phoenix/components/PageFooter"),Footer=Backbone.View.extend({name:"footer",render:function(){var props={userIsAuthenticated:userIdentity&&userIdentity.get("authenticated")},component=React.createElement(PageFooter,props);React.render(component,this.el)}});return Footer}),define("bundles/phoenix/template/layout/page",["require","bundles/phoenix/template/layout/page.html","js/app/scrollTrackerSingleton.v0-0-2","backbone","css!bundles/phoenix/template/styl/index.css","bundles/phoenix/template/layout/header","bundles/phoenix/template/layout/body","bundles/phoenix/template/layout/modals","bundles/phoenix/template/layout/footer"],function(require){var template=require("bundles/phoenix/template/layout/page.html"),scrollTracker=require("js/app/scrollTrackerSingleton.v0-0-2"),Backbone=require("backbone");require("css!bundles/phoenix/template/styl/index.css"),require("bundles/phoenix/template/layout/header"),require("bundles/phoenix/template/layout/body"),require("bundles/phoenix/template/layout/modals"),require("bundles/phoenix/template/layout/footer");var Page=Backbone.View.extend({name:"page",template:template,className:"c-phoenix-template-page-container",subregions:{header:{"bundles/phoenix/template/layout/header":{to:'[data-js="phoenix-template-region-header"]'}},body:{"bundles/phoenix/template/layout/body":{to:'[data-js="phoenix-template-region-body"]'}},modals:{"bundles/phoenix/template/layout/modals":{to:'[data-js="phoenix-template-region-modal"]'}},footer:{"bundles/phoenix/template/layout/footer":{to:'[data-js="phoenix-template-region-footer"]'}}},initialize:function(){this.bind("view:appended",this.restoreScroll),this.bind("view:updated",this.restoreScroll)},restoreScroll:function(){scrollTracker.restore()},render:function(){this.$el.html(this.template())}});return Page}),define("pages/accomplishments/common/layout/nls/body",{}),!function(wndw){var jadify=function(jade,_t,_h){var yudify=function template(locals){var buf=[],jade_mixins={},jade_interp;return buf.push('<div class="c-accomplishments-container bt3-container-fluid"><div data-js="accomplishments-header"></div><div data-js="accomplishments-body" class="c-accomplishments-body-container"></div></div>'),buf.join("")};return function(locals){if(locals)if(locals._t)_t=locals._t.merge(_t);return yudify(locals)}};if("function"==typeof define&&define.amd)define("pages/accomplishments/common/layout/body.html",["js/vendor/jade","i18n!pages/accomplishments/common/layout/nls/body"],function(jade,_t){var _h;return jadify(jade,_t,_h)});else wndw.jade.templates["pages.accomplishments.common.layout.body"]=jadify(wndw.jade.helpers)}(window),define("pages/accomplishments/common/layout/body",["require","bundles/phoenix/template/layout/body","pages/accomplishments/common/layout/body.html"],function(require){var BodyLayout=require("bundles/phoenix/template/layout/body"),template=require("pages/accomplishments/common/layout/body.html"),Body=BodyLayout.extend({name:"body",template:template,render:function(){return this.$el.html(this.template()),this}});return Body}),define("pages/accomplishments/common/layout/nls/header",{es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}),!function(wndw){var jadify=function(jade,_t,_h){var yudify=function template(locals){var buf=[],jade_mixins={},jade_interp,locals_for_with=locals||{};return function(userPhoto,_t,userName,showBackLink,accomplishmentsLink){jade_mixins.headerLink=function(showBackLink,accomplishmentsLink){var block=this&&this.block,attributes=this&&this.attributes||{};if(showBackLink)buf.push("<a"+jade.attr("href",accomplishmentsLink,!0,!1)+' data-js="accomplishments-link header-back-link" class="c-accomplishments-header-left bt3-col-xs-12">'),block&&block(),buf.push("</a>");else buf.push('<div class="c-accomplishments-header-left bt3-col-xs-12">'),block&&block(),buf.push("</div>")},buf.push('<div class="c-accomplishments-header bt3-row">'),jade_mixins.headerLink.call({block:function(){if(userPhoto)buf.push("<img"+jade.attr("src",userPhoto,!0,!1)+' class="c-accomplishments-header-image bt3-img-circle"/>');buf.push('<div class="c-accomplishments-header-text"><div class="c-accomplishments-header-name c-font-light">'+jade.escape(null==(jade_interp=_t(userName))?"":jade_interp)+'</div><div class="c-accomplishments-header-label c-font-bold">'+jade.escape(null==(jade_interp=_t("Accomplishments"))?"":jade_interp)+"</div></div>")}},showBackLink,accomplishmentsLink),buf.push("</div>")}.call(this,"userPhoto"in locals_for_with?locals_for_with.userPhoto:"undefined"!=typeof userPhoto?userPhoto:void 0,"_t"in locals_for_with?locals_for_with._t:"undefined"!=typeof _t?_t:void 0,"userName"in locals_for_with?locals_for_with.userName:"undefined"!=typeof userName?userName:void 0,"showBackLink"in locals_for_with?locals_for_with.showBackLink:"undefined"!=typeof showBackLink?showBackLink:void 0,"accomplishmentsLink"in locals_for_with?locals_for_with.accomplishmentsLink:"undefined"!=typeof accomplishmentsLink?accomplishmentsLink:void 0),buf.join("")};return function(locals){if(locals)if(locals._t)_t=locals._t.merge(_t);return yudify(locals)}};if("function"==typeof define&&define.amd)define("pages/accomplishments/common/layout/header.html",["js/vendor/jade","i18n!pages/accomplishments/common/layout/nls/header"],function(jade,_t){var _h;return jadify(jade,_t,_h)});else wndw.jade.templates["pages.accomplishments.common.layout.header"]=jadify(wndw.jade.helpers)}(window),define("pages/accomplishments/common/layout/header",["require","pages/accomplishments/common/layout/header.html","pages/accomplishments/constants","bundles/phoenix/lib/view"],function(require){var template=require("pages/accomplishments/common/layout/header.html"),constants=require("pages/accomplishments/constants"),PhoenixView=require("bundles/phoenix/lib/view"),Header=PhoenixView.extend({name:"header",template:template,multitracker:{namespace:"accomplishments.header",events:{"click.recordsBackLink":'click [data-js~="header-back-link"]'}},initialize:function(options){this.showBackLink=options.showBackLink,this.userName=options.userName,this.userPhoto=options.userPhoto},render:function(){return this.$el.html(this.template({showBackLink:this.showBackLink,accomplishmentsLink:constants.accomplishmentsLink,userName:this.userName,userPhoto:this.userPhoto})),this}});return Header}),!function(wndw){var jadify=function(jade,_t,_h){var yudify=function template(locals){var buf=[],jade_mixins={},jade_interp;return buf.push('<div data-state="loading">Loading...</div><div data-state="load-error">Load Error!</div><div data-state="questions,submitting,submit-error" class="coursera-assess-assessment-survey"><div data-questions-container="data-questions-container" class="coursera-assess-assessment-survey-questions"></div></div><div data-state="submitted"><span>Thank you for answering the survey questions!</span></div>'),buf.join("")};return yudify};if("function"==typeof define&&define.amd)define("bundles/assess/assessmentTypes/survey/assessment.html",["js/vendor/jade"],function(jade){var _t,_h;return jadify(jade,_t,_h)});else wndw.jade.templates["bundles.assess.assessmentTypes.survey.assessment"]=jadify(wndw.jade.helpers)}(window),define("bundles/assess/lib/backbone.hascollections",["backbone","underscore"],function(Backbone,_){var HasCollectionsModel=Backbone.Model.extend({relations:{},set:function(key,value,options){var self=this,attrs;if(_.isObject(key))attrs=_(key).clone(),options=value;else attrs={},attrs[key]=value;_(self.relations).each(function(Collection,key){if(!_.has(self.attributes,key))self.attributes[key]=new Collection,self.attributes[key].on("all",self._onCollectionEvent,self),self.attributes[key].relationParent=self;if(!_.has(attrs,key))return;var collection=self.attributes[key],newItems=attrs[key];if(options&&options.merge)_(newItems).each(function(newItem){var oldItem=collection.get(newItem.id);if(oldItem)oldItem.set(newItem,options);else collection.add(newItem,options)});else collection.reset(newItems,options);delete attrs[key]}),Backbone.Model.prototype.set.call(self,attrs,options)},toJSON:function(){var self=this,json=Backbone.Model.prototype.toJSON.call(self);return _(self.relations).each(function(relation,key){var collection=self.attributes[key];json[key]=collection.toJSON()}),json},_onCollectionEvent:function(eventName){if(_(["change","add","remove"]).contains(eventName)){var options;if("change"==eventName)options=arguments[2];else options=arguments[3];this.trigger("change",this,options)}}});return HasCollectionsModel}),define("bundles/assess/assessmentTypes/SessionModel",["bundles/assess/lib/backbone.hascollections","q"],function(HasCollectionsModel,Q){var SessionModel=HasCollectionsModel.extend({callSessionAction:function(name,argument){var url="sessions/"+this.get("sessionId")+"/action/"+name;return Q(this.options.api.post(url,{data:{argument:argument}})).then(function(data){return data["return"]})},callGetOrCreateSession:function(){return Q(this.options.api.post("sessions")).then(function(data){return data.session.id})}});return SessionModel}),define("js/lib/underscore.extend",["underscore"],function(_){var courseraSimpleDeepClone=function(obj){if(_(obj).isArray())return _(obj).map(function(e){return courseraSimpleDeepClone(e)});else if(_(obj).isObject()&&!_(obj).isFunction()){var clone={};return _(obj).chain().keys().each(function(key){clone[key]=courseraSimpleDeepClone(obj[key])}).value(),clone}else return _(obj).clone()};return _.mixin({courseraPick:function(object,keys){var copy={};return _(keys).each(function(key){copy[key]=object[key]}),copy},courseraSimpleDeepClone:courseraSimpleDeepClone,courseraMapValues:function(input,mapper){return _(input).chain().map(function(v,k){return[k,mapper(v)]}).object().value()},courseraSum:function(input,extractor){var extractorFunction=extractor||_.identity;if(!_.isFunction(extractorFunction))extractorFunction=function(obj){return obj[extractor]};return _(input).chain().map(extractorFunction).reduce(function(a,b){return a+b},0).value()}}),_}),define("bundles/assess/framework/QuestionModel",["backbone","js/lib/underscore.extend"],function(Backbone,_){var QuestionModel=Backbone.Model.extend({questionInstanceAttributes:["localResponse","effectiveResponse","variant","feedback","id"],initialize:function(){this._loadEffectiveResponseIntoLocalResponse(),this.on("change:effectiveResponse",this._loadEffectiveResponseIntoLocalResponse,this),this.on("change:localResponse",this._handleLocalResponseChange,this)},_loadEffectiveResponseIntoLocalResponse:function(){if(this.get("effectiveResponse"))this.set("localResponse",this.get("effectiveResponse").response,{reason:"loadfromeffective"});else this.set("localResponse",null,{reason:"loadfromeffective"})},_handleLocalResponseChange:function(model,changes,options){if("userinput"===options.reason)this._persistLocalResponseLocally()},_persistLocalResponseLocally:function(){},toLocalJson:function(){var data=Backbone.Model.prototype.toJSON.call(this);if(!data.variant.definition)data.variant={definition:data.variant,detailLevel:"Full"};return _(data).courseraPick(this.questionInstanceAttributes)},toResponseJson:function(){return{timestamp:null,questionInstance:this.get("id"),response:this.get("localResponse")}},isInstanceChanged:function(){return _(this.changed).chain().keys().intersection(this.questionInstanceAttributes).value().length>0}});return QuestionModel}),define("bundles/assess/framework/QuestionCollection",["backbone","underscore","bundles/assess/framework/QuestionModel"],function(Backbone,_,QuestionModel){var QuestionCollection=Backbone.Collection.extend({model:QuestionModel,addMerge:function(data){var self=this;_(data).each(function(datum){var model=self.get(datum.id);if(model)model.set(datum);else self.add(new self.model(datum))})},toResponseJson:function(){return this.invoke("toResponseJson")}});return QuestionCollection}),define("bundles/assess/assessmentTypes/survey/sessionModel",["bundles/assess/assessmentTypes/SessionModel","underscore","q","bundles/assess/framework/QuestionCollection","bundles/assess/framework/QuestionModel"],function(SessionModel,_,Q,QuestionCollection,QuestionModel){var SurveySessionModel=SessionModel.extend({defaults:{state:"nothing",assessmentId:"",classId:null,sessionId:"",questions:null},submit:function(){var state=this.get("state");if(!_(["questions","submit-error"]).contains(state))return Q.reject(new Error("Called submit in not allowed state: "+state));var questions=this.get("questions");if(null===questions)return Q();this.set("state","submitting");var responses=_(questions).map(function(question){return question.toResponseJson()}),thisModel=this;return this.callSessionAction("submitResponses",responses).then(function(data){thisModel.set("state","submitted")},function(err){thisModel.set("state","submit-error")})},fetch:function(){var state=this.get("state");if(!_(["nothing"]).contains(state))throw"Called fetch in not allowed state: "+state;if(!this.has("classId")||!this.has("assessmentId"))throw"Can't get assessment without a classId and an assessmentId";this.set("state","loading");var thisModel=this;Q.fcall(function(){if(thisModel.get("sessionId"))return thisModel.get("sessionId");else return thisModel.callGetOrCreateSession()}).then(function(sessionId){thisModel.set("sessionId",sessionId),thisModel.fetchQuestions()},function(err){thisModel.set("state","load-error")}).done()},fetchQuestions:function(){var state=this.get("state");if(!_(["loading"]).contains(state))throw"Called fetchQuestion in not allowed state: "+state;this.set("state","loading");var thisModel=this;this.callSessionAction("getAllQuestions",[]).then(function(data){if(data.length>0)thisModel.set("questions",_(data).map(function(d){return new QuestionModel(d)})),thisModel.set("state","questions");else thisModel.set("state","no-more-questions")},function(err){thisModel.set("state","load-error")}).done()}});return SurveySessionModel}),!function(wndw){var module=function(thirdparties){var initialized=!1,mathJaxCB=function(cb){return function(){if(initialized)return cb();return initialized=!0,MathJax.Hub.Config({config:["MMLorHTML.js"],styleSheets:[],styles:{},jax:["input/TeX"],extensions:["tex2jax.js"],preJax:null,postJax:null,preRemoveClass:"MathJax_Preview",showProcessingMessages:!0,messageStyle:"none",displayAlign:"center",displayIndent:"0em",delayStartupUntil:"none",skipStartupTypeset:!1,elements:[],tex2jax:{inlineMath:[["$$","$$"],["\\(","\\)"]],displayMath:[["\\[","\\]"]],skipTags:["script","noscript","style","textarea","pre","code"],ignoreClass:"tex2jax_ignore",processClass:"tex2jax_process",processEscapes:!1,processEnvironments:!0,preview:"TeX"},mml2jax:{preview:"alttext"},jsMath2jax:{preview:"TeX"},TeX:{TagSide:"right",TagIndent:".8em",MultLineWidth:"85%",Macros:{},extensions:["AMSmath.js","AMSsymbols.js"]},MathML:{useMathMLspacing:!1},"HTML-CSS":{scale:100,availableFonts:["STIX","TeX"],preferredFont:"TeX",webFont:"TeX",imageFont:"TeX",undefinedFamily:'STIXGeneral,"Arial Unicode MS",serif',showMathMenu:!0,styles:{},tooltip:{delayPost:600,delayClear:600,offsetX:10,offsetY:5}},NativeMML:{scale:100,showMathMenu:!0,showMathMenuMSIE:!0,styles:{}},MathMenu:{delay:400,helpURL:"http://www.mathjax.org/help/user/",showRenderer:!0,showFontMenu:!1,showContext:!1,windowSettings:{status:"no",toolbar:"no",locationbar:"no",menubar:"no",directories:"no",personalbar:"no",resizable:"yes",scrollbars:"yes",width:100,height:50},styles:{}},MMLorHTML:{prefer:{MSIE:"MML",Firefox:"MML",Opera:"HTML",other:"HTML"}}}),MathJax.Hub.Configured(),cb()}};return{render:function(dom,cb){var callback=mathJaxCB(function(){setTimeout(function(){if(dom)MathJax.Hub.Queue(["Typeset",MathJax.Hub,dom],cb),MathJax.Hub.Queue(["Rerender",MathJax.Hub,dom],cb);else MathJax.Hub.Queue(["Typeset",MathJax.Hub],cb),MathJax.Hub.Queue(["Rerender",MathJax.Hub],cb)},1)});thirdparties.ready("MathJax",callback)}}};if("function"==typeof define&&define.amd)define("js/lib/coursera.mathjax",["js/lib/third-parties"],function(thirdparties){return module(thirdparties)});else wndw.mathjax=module(window.thirdparties)}(window),!function(wndw){var jadify=function(jade,_t,_h){var yudify=function template(locals){var buf=[],jade_mixins={},jade_interp,locals_for_with=locals||{};return function(headerTemplate,feedback,showFeedbackIcon,isCorrect,index,instance,optionTemplate,normalizedFeedback){if(headerTemplate)buf.push(null==(jade_interp=headerTemplate())?"":jade_interp);if(feedback&&showFeedbackIcon)buf.push("<i"+jade.cls(["fa","c-feedback-icon",isCorrect?"fa-check":"fa-times"],[null,null,!0])+"></i>");if(buf.push('<div data-js="user-html" class="coursera-assess-question-optionBase-prompt">'),index)buf.push('<span class="c-assess-question-number">'+jade.escape(null==(jade_interp=index)?"":jade_interp)+".&nbsp;</span>");if(buf.push('<span class="c-assess-question-title">'+(null==(jade_interp=instance.variant.definition.prompt)?"":jade_interp)+"</span></div>"),"Full"==instance.variant.detailLevel&&instance.variant.definition.options)(function(){var $$obj=instance.variant.definition.options;if("number"==typeof $$obj.length)for(var $index=0,$$l=$$obj.length;$$l>$index;$index++){var option=$$obj[$index];if(buf.push('<div data-option="data-option" class="coursera-assess-question-optionBase-option">'+(null==(jade_interp=optionTemplate({option:option,instanceId:instance.id}))?"":jade_interp)+"</div>"),normalizedFeedback&&normalizedFeedback[option.id]){var optionFeedback=normalizedFeedback[option.id];if(optionFeedback.isCorrect)buf.push('<div class="c-assess-common-arrow c-assess-common-arrow-success"></div><div data-js="user-html" class="bt3-alert bt3-alert-success alert alert-success coursera-assess-question-optionBase-feedback"><strong>Well done!&nbsp;</strong>'+(null==(jade_interp=optionFeedback.feedbackDisplay)?"":jade_interp)+"</div>");else buf.push('<div class="c-assess-common-arrow c-assess-common-arrow-error"></div><div data-js="user-html" class="bt3-alert bt3-alert-danger alert alert-danger coursera-assess-question-optionBase-feedback"><strong>Sorry, that\'s incorrect.&nbsp;</strong>'+(null==(jade_interp=optionFeedback.feedbackDisplay)?"":jade_interp)+"</div>")}}else{var $$l=0;for(var $index in $$obj){$$l++;var option=$$obj[$index];if(buf.push('<div data-option="data-option" class="coursera-assess-question-optionBase-option">'+(null==(jade_interp=optionTemplate({option:option,instanceId:instance.id}))?"":jade_interp)+"</div>"),normalizedFeedback&&normalizedFeedback[option.id]){var optionFeedback=normalizedFeedback[option.id];if(optionFeedback.isCorrect)buf.push('<div class="c-assess-common-arrow c-assess-common-arrow-success"></div><div data-js="user-html" class="bt3-alert bt3-alert-success alert alert-success coursera-assess-question-optionBase-feedback"><strong>Well done!&nbsp;</strong>'+(null==(jade_interp=optionFeedback.feedbackDisplay)?"":jade_interp)+"</div>");else buf.push('<div class="c-assess-common-arrow c-assess-common-arrow-error"></div><div data-js="user-html" class="bt3-alert bt3-alert-danger alert alert-danger coursera-assess-question-optionBase-feedback"><strong>Sorry, that\'s incorrect.&nbsp;</strong>'+(null==(jade_interp=optionFeedback.feedbackDisplay)?"":jade_interp)+"</div>")}}}}).call(this)}.call(this,"headerTemplate"in locals_for_with?locals_for_with.headerTemplate:"undefined"!=typeof headerTemplate?headerTemplate:void 0,"feedback"in locals_for_with?locals_for_with.feedback:"undefined"!=typeof feedback?feedback:void 0,"showFeedbackIcon"in locals_for_with?locals_for_with.showFeedbackIcon:"undefined"!=typeof showFeedbackIcon?showFeedbackIcon:void 0,"isCorrect"in locals_for_with?locals_for_with.isCorrect:"undefined"!=typeof isCorrect?isCorrect:void 0,"index"in locals_for_with?locals_for_with.index:"undefined"!=typeof index?index:void 0,"instance"in locals_for_with?locals_for_with.instance:"undefined"!=typeof instance?instance:void 0,"optionTemplate"in locals_for_with?locals_for_with.optionTemplate:"undefined"!=typeof optionTemplate?optionTemplate:void 0,"normalizedFeedback"in locals_for_with?locals_for_with.normalizedFeedback:"undefined"!=typeof normalizedFeedback?normalizedFeedback:void 0),buf.join("")};return yudify};if("function"==typeof define&&define.amd)define("bundles/assess/questionTypes/optionBase/student/template.html",["js/vendor/jade"],function(jade){var _t,_h;return jadify(jade,_t,_h)});else wndw.jade.templates["bundles.assess.questionTypes.optionBase.student.template"]=jadify(wndw.jade.helpers)}(window),!function(wndw){var jadify=function(jade,_t,_h){var yudify=function template(locals){var buf=[],jade_mixins={},jade_interp,locals_for_with=locals||{};return function(option){buf.push('<div data-js="user-html">'+(null==(jade_interp=option.display)?"":jade_interp)+"</div>")}.call(this,"option"in locals_for_with?locals_for_with.option:"undefined"!=typeof option?option:void 0),buf.join("")};return yudify};if("function"==typeof define&&define.amd)define("bundles/assess/questionTypes/optionBase/student/optionTemplate.html",["js/vendor/jade"],function(jade){var _t,_h;return jadify(jade,_t,_h)});else wndw.jade.templates["bundles.assess.questionTypes.optionBase.student.optionTemplate"]=jadify(wndw.jade.helpers)}(window),define("bundles/assess/questionTypes/optionBase/student/view",["underscore","backbone","bundles/assess/questionTypes/optionBase/student/template.html","bundles/assess/questionTypes/optionBase/student/optionTemplate.html"],function(_,Backbone,template,optionTemplate){var OptionBase=Backbone.View.extend({events:{"click [data-option]":"clickOption"},className:"coursera-assess-question-optionBase",headerTemplate:null,template:template,supportedStyles:["coursera-assess-style-question-default","coursera-assess-style-question-quick","coursera-assess-style-question-in-video","coursera-assess-style-question-survey"],initialize:function(options){this.options=this.options||options||{}},clickOption:function(evt){this.trigger("change")},render:function(){var instance=this.options.instance,feedback=instance.feedback;this.$el.html(this.template({instance:instance,normalizedFeedback:this.normalizeFeedback(instance),optionTemplate:this.optionTemplate,headerTemplate:this.headerTemplate,index:this.options.index,showFeedbackIcon:this.options.showFeedbackIcon,feedback:feedback,isCorrect:feedback?feedback.definition.isCorrect:null})),this.renderExtra()},disableInput:function(){this.$("input").attr("disabled",!0),this.$("[data-option]").addClass("coursera-assess-question-optionBase-option-disabled")
},enableInput:function(){this.$("input").attr("disabled",!1),this.$("[data-option]").removeClass("coursera-assess-question-optionBase-option-disabled")},optionTemplate:optionTemplate,serializeResponse:function(){return{}},isAnswered:function(){return!0},normalizeFeedback:function(instance){return{}},renderExtra:function(){}});return OptionBase}),!function(wndw){var jadify=function(jade,_t,_h){var yudify=function template(locals){var buf=[],jade_mixins={},jade_interp,locals_for_with=locals||{};return function(instanceId,option){buf.push('<label><input type="checkbox"'+jade.attr("name",instanceId,!0,!1)+jade.attr("value",option.id,!0,!1)+' class="coursera-assess-question-optionBase-option-input"/><div data-js="user-html" class="coursera-assess-question-optionBase-option-text">'+(null==(jade_interp=option.display)?"":jade_interp)+"</div></label>")}.call(this,"instanceId"in locals_for_with?locals_for_with.instanceId:"undefined"!=typeof instanceId?instanceId:void 0,"option"in locals_for_with?locals_for_with.option:"undefined"!=typeof option?option:void 0),buf.join("")};return yudify};if("function"==typeof define&&define.amd)define("bundles/assess/questionTypes/checkbox/student/optionTemplate.html",["js/vendor/jade"],function(jade){var _t,_h;return jadify(jade,_t,_h)});else wndw.jade.templates["bundles.assess.questionTypes.checkbox.student.optionTemplate"]=jadify(wndw.jade.helpers)}(window),define("bundles/assess/questionTypes/checkbox/student/view",["jquery","underscore","bundles/assess/questionTypes/optionBase/student/view","bundles/assess/questionTypes/checkbox/student/optionTemplate.html"],function($,_,OptionBaseView,optionTemplate){var CheckboxView=OptionBaseView.extend({optionTemplate:optionTemplate,className:OptionBaseView.prototype.className+" coursera-assess-question-checkbox",normalizeFeedback:function(instance){var feedback=instance.feedback;if(!feedback)return!1;var options=feedback.definition.options,normalizedFeedback={};return _(options).each(function(option){normalizedFeedback[option.id]={isCorrect:option.isCorrect,feedbackDisplay:option.feedback}}),normalizedFeedback},renderExtra:function(){var self=this,feedback=self.options.instance.feedback;if(self.options.instance.localResponse){var responseVals=self.options.instance.localResponse.chosen;_(responseVals).each(function(responseVal){self.$('input[value="'+responseVal+'"]').attr("checked",!0)})}if(feedback&&feedback.definition&&feedback.definition.isCorrect)this.$el.removeClass("c-incorrect"),this.$el.addClass("c-correct");else this.$el.removeClass("c-correct"),this.$el.addClass("c-incorrect")},serializeResponse:function(){var chosen=_(this.$("input:checked")).map(function(input){return $(input).val()});return{chosen:chosen}},isAnswered:function(){return!0}});return CheckboxView}),!function(wndw){var jadify=function(jade,_t,_h){var yudify=function template(locals){var buf=[],jade_mixins={},jade_interp,locals_for_with=locals||{};return function(prompt,options,isIdChosen,myResponseChosenId,totalNumResponsesPretty,totalNumResponses){if(buf.push('<h4 class="coursera-assess-question-pollBase-header">Poll Results</h4><div data-js="user-html" class="coursera-assess-question-optionBase-prompt">'+(null==(jade_interp=prompt)?"":jade_interp)+"</div>"),function(){var $$obj=options;if("number"==typeof $$obj.length)for(var $index=0,$$l=$$obj.length;$$l>$index;$index++){var option=$$obj[$index],extraClass="";if(isIdChosen(myResponseChosenId,option.id))extraClass="coursera-assess-question-pollBase-feedback-option-chosen";buf.push("<div"+jade.cls(["coursera-assess-question-pollBase-feedback-option",extraClass],[null,!0])+'><div data-js="user-html" class="coursera-assess-question-pollBase-feedback-option-display">'+(null==(jade_interp=option.display)?"":jade_interp)+'</div><div class="coursera-assess-question-pollBase-feedback-option-bar">');var prettyPercent=(100*option.fraction).toFixed(0).toString()+"%",percent=(100*option.fraction).toString()+"%",complementPercent=(100*(1-option.fraction)).toString()+"%",barStyle="width:"+percent+";",textStyle;if(option.fraction<=.8)textStyle="left:"+percent+";";else textStyle="right:"+complementPercent+";color:#fff;";buf.push("<div"+jade.attr("style",barStyle,!0,!1)+' class="coursera-assess-question-pollBase-feedback-option-bar-filling">&nbsp;</div><div'+jade.attr("style",textStyle,!0,!1)+' class="coursera-assess-question-pollBase-feedback-option-bar-text">'+jade.escape(null==(jade_interp=prettyPercent)?"":jade_interp)+"</div></div></div>")}else{var $$l=0;for(var $index in $$obj){$$l++;var option=$$obj[$index],extraClass="";if(isIdChosen(myResponseChosenId,option.id))extraClass="coursera-assess-question-pollBase-feedback-option-chosen";buf.push("<div"+jade.cls(["coursera-assess-question-pollBase-feedback-option",extraClass],[null,!0])+'><div data-js="user-html" class="coursera-assess-question-pollBase-feedback-option-display">'+(null==(jade_interp=option.display)?"":jade_interp)+'</div><div class="coursera-assess-question-pollBase-feedback-option-bar">');var prettyPercent=(100*option.fraction).toFixed(0).toString()+"%",percent=(100*option.fraction).toString()+"%",complementPercent=(100*(1-option.fraction)).toString()+"%",barStyle="width:"+percent+";",textStyle;if(option.fraction<=.8)textStyle="left:"+percent+";";else textStyle="right:"+complementPercent+";color:#fff;";buf.push("<div"+jade.attr("style",barStyle,!0,!1)+' class="coursera-assess-question-pollBase-feedback-option-bar-filling">&nbsp;</div><div'+jade.attr("style",textStyle,!0,!1)+' class="coursera-assess-question-pollBase-feedback-option-bar-text">'+jade.escape(null==(jade_interp=prettyPercent)?"":jade_interp)+"</div></div></div>")}}}.call(this),buf.push('<div class="coursera-assess-question-pollBase-feedback-number">'+jade.escape(null==(jade_interp=totalNumResponsesPretty)?"":jade_interp)),1==totalNumResponses)buf.push(" response");else buf.push(" responses");if(buf.push("</div>"),20>totalNumResponses)buf.push('<div class="coursera-assess-question-pollBase-feedback-low-response-message">You were one of the first people to answer this question. </div><div class="coursera-assess-question-pollBase-feedback-low-response-message">Check back later to see more responses. </div>')}.call(this,"prompt"in locals_for_with?locals_for_with.prompt:"undefined"!=typeof prompt?prompt:void 0,"options"in locals_for_with?locals_for_with.options:"undefined"!=typeof options?options:void 0,"isIdChosen"in locals_for_with?locals_for_with.isIdChosen:"undefined"!=typeof isIdChosen?isIdChosen:void 0,"myResponseChosenId"in locals_for_with?locals_for_with.myResponseChosenId:"undefined"!=typeof myResponseChosenId?myResponseChosenId:void 0,"totalNumResponsesPretty"in locals_for_with?locals_for_with.totalNumResponsesPretty:"undefined"!=typeof totalNumResponsesPretty?totalNumResponsesPretty:void 0,"totalNumResponses"in locals_for_with?locals_for_with.totalNumResponses:"undefined"!=typeof totalNumResponses?totalNumResponses:void 0),buf.join("")};return yudify};if("function"==typeof define&&define.amd)define("bundles/assess/questionTypes/pollBase/student/feedbackTemplate.html",["js/vendor/jade"],function(jade){var _t,_h;return jadify(jade,_t,_h)});else wndw.jade.templates["bundles.assess.questionTypes.pollBase.student.feedbackTemplate"]=jadify(wndw.jade.helpers)}(window),!function(wndw){var jadify=function(jade,_t,_h){var yudify=function template(locals){var buf=[],jade_mixins={},jade_interp;return buf.push('<h4 class="coursera-assess-question-pollBase-header">Poll</h4>'),buf.join("")};return yudify};if("function"==typeof define&&define.amd)define("bundles/assess/questionTypes/pollBase/student/headerTemplate.html",["js/vendor/jade"],function(jade){var _t,_h;return jadify(jade,_t,_h)});else wndw.jade.templates["bundles.assess.questionTypes.pollBase.student.headerTemplate"]=jadify(wndw.jade.helpers)}(window),!function(wndw){var jadify=function(jade,_t,_h){var yudify=function template(locals){var buf=[],jade_mixins={},jade_interp,locals_for_with=locals||{};return function(instanceId,option){buf.push('<label><input type="radio"'+jade.attr("name",instanceId,!0,!1)+jade.attr("value",option.id,!0,!1)+' class="coursera-assess-question-optionBase-option-input"/><div data-js="user-html" class="coursera-assess-question-optionBase-option-text">'+(null==(jade_interp=option.display)?"":jade_interp)+"</div></label>")}.call(this,"instanceId"in locals_for_with?locals_for_with.instanceId:"undefined"!=typeof instanceId?instanceId:void 0,"option"in locals_for_with?locals_for_with.option:"undefined"!=typeof option?option:void 0),buf.join("")};return yudify};if("function"==typeof define&&define.amd)define("bundles/assess/questionTypes/pollBase/student/optionTemplate.html",["js/vendor/jade"],function(jade){var _t,_h;return jadify(jade,_t,_h)});else wndw.jade.templates["bundles.assess.questionTypes.pollBase.student.optionTemplate"]=jadify(wndw.jade.helpers)}(window),define("bundles/assess/questionTypes/pollBase/student/view",["require","underscore","bundles/assess/questionTypes/optionBase/student/view","bundles/assess/questionTypes/pollBase/student/feedbackTemplate.html","bundles/assess/questionTypes/pollBase/student/headerTemplate.html","bundles/assess/questionTypes/pollBase/student/optionTemplate.html","js/lib/util","js/vendor/jquery.v2-1"],function(require){var _=require("underscore"),OptionBaseView=require("bundles/assess/questionTypes/optionBase/student/view"),feedbackTemplate=require("bundles/assess/questionTypes/pollBase/student/feedbackTemplate.html"),headerTemplate=require("bundles/assess/questionTypes/pollBase/student/headerTemplate.html"),optionTemplate=require("bundles/assess/questionTypes/pollBase/student/optionTemplate.html"),util=require("js/lib/util"),$=require("js/vendor/jquery.v2-1"),PollBaseView=OptionBaseView.extend({feedbackTemplate:feedbackTemplate,headerTemplate:headerTemplate,optionTemplate:optionTemplate,className:OptionBaseView.prototype.className+" coursera-assess-question-pollBase",supportedStyles:["coursera-assess-style-question-in-video","coursera-assess-style-question-default","coursera-assess-style-question-quick","coursera-assess-style-question-survey"],initialize:function(options){this.options=this.options||options||{}},isIdChosen:function(chosen,id){return!1},getTotalNumberResponses:function(){return 0},isAChosenOptionZero:function(chosen,histogram){return!1},renderHistogram:function(prompt,options,histogram,myResponseChosenId){var self=this,totalNumResponses=this.getTotalNumberResponses(),isSubmissionNotCounted=this.isAChosenOptionZero(myResponseChosenId,histogram);if(isSubmissionNotCounted)totalNumResponses+=1;var annotatedOptions=_(options).map(function(variantOption){var histogramOption=_(histogram).find(function(histogramOption){return variantOption.id===histogramOption.id})||{id:variantOption.id,count:0};if(isSubmissionNotCounted&&self.isIdChosen(myResponseChosenId,histogramOption.id))histogramOption.count+=1;return _({}).extend(variantOption,{count:histogramOption.count})}),fractionAnnotatedOptions=_(annotatedOptions).map(function(annotatedOption){var fraction=annotatedOption.count/totalNumResponses;return _({}).extend(annotatedOption,{fraction:fraction})});this.$el.html(this.feedbackTemplate({prompt:prompt,options:fractionAnnotatedOptions,totalNumResponses:totalNumResponses,totalNumResponsesPretty:util.addCommas(totalNumResponses.toString()),myResponseChosenId:myResponseChosenId,isIdChosen:this.isIdChosen,headerTemplate:this.headerTemplate}))},render:function(){var instance=this.options.instance;if(instance.variant.definition.histogram)this.renderHistogram(instance.variant.definition.prompt,instance.variant.definition.options,instance.variant.definition.histogram,instance.variant.definition.previousResponse);else if(instance.feedback)this.renderHistogram(instance.variant.definition.prompt,instance.variant.definition.options,instance.feedback.definition.options,instance.effectiveResponse.response.chosen);else OptionBaseView.prototype.render.call(this)}});return PollBaseView}),!function(wndw){var jadify=function(jade,_t,_h){var yudify=function template(locals){var buf=[],jade_mixins={},jade_interp,locals_for_with=locals||{};return function(instanceId,option){buf.push('<label><input type="checkbox"'+jade.attr("name",instanceId,!0,!1)+jade.attr("value",option.id,!0,!1)+' class="coursera-assess-question-optionBase-option-input"/><div data-js="user-html" class="coursera-assess-question-optionBase-option-text">'+(null==(jade_interp=option.display)?"":jade_interp)+"</div></label>")}.call(this,"instanceId"in locals_for_with?locals_for_with.instanceId:"undefined"!=typeof instanceId?instanceId:void 0,"option"in locals_for_with?locals_for_with.option:"undefined"!=typeof option?option:void 0),buf.join("")};return yudify};if("function"==typeof define&&define.amd)define("bundles/assess/questionTypes/checkboxPoll/student/optionTemplate.html",["js/vendor/jade"],function(jade){var _t,_h;return jadify(jade,_t,_h)});else wndw.jade.templates["bundles.assess.questionTypes.checkboxPoll.student.optionTemplate"]=jadify(wndw.jade.helpers)}(window),!function(wndw){var jadify=function(jade,_t,_h){var yudify=function template(locals){var buf=[],jade_mixins={},jade_interp;return buf.push('<h4 class="coursera-assess-question-pollBase-header">Checkbox Poll</h4>'),buf.join("")};return yudify};if("function"==typeof define&&define.amd)define("bundles/assess/questionTypes/checkboxPoll/student/headerTemplate.html",["js/vendor/jade"],function(jade){var _t,_h;return jadify(jade,_t,_h)});else wndw.jade.templates["bundles.assess.questionTypes.checkboxPoll.student.headerTemplate"]=jadify(wndw.jade.helpers)}(window),define("bundles/assess/questionTypes/checkboxPoll/student/view",["jquery","underscore","bundles/assess/questionTypes/pollBase/student/view","bundles/assess/questionTypes/checkboxPoll/student/optionTemplate.html","bundles/assess/questionTypes/checkboxPoll/student/headerTemplate.html","js/lib/util"],function($,_,PollBaseView,optionTemplate,headerTemplate,util){var CheckboxPoll=PollBaseView.extend({optionTemplate:optionTemplate,className:PollBaseView.prototype.className+" coursera-assess-question-checkbox-poll",headerTemplate:headerTemplate,initialize:function(options){this.options=this.options||options||{}},isIdChosen:function(chosen,id){return _(chosen).contains(id)},isAChosenOptionZero:function(chosen,histogram){var chosenHistogramOptions=_(histogram).filter(function(histogramOption){return _(chosen).contains(histogramOption.id)&&0!==histogramOption.count});return chosenHistogramOptions.length!==chosen.length},getTotalNumberResponses:function(){var instance=this.options.instance;if(instance.variant.definition.histogram)return instance.variant.definition.numResponses;else if(instance.feedback)return instance.feedback.definition.numResponses},renderExtra:function(){if(this.options.instance.localResponse){var self=this,responseVals=this.options.instance.localResponse.chosen;_(responseVals).each(function(responseVal){self.$('input[value="'+responseVal+'"]').attr("checked",!0)})}},serializeResponse:function(){var chosen=_(this.$("input:checked")).map(function(input){return $(input).val()});return{chosen:chosen}},isAnswered:function(){return!0}});return CheckboxPoll}),!function(wndw){var jadify=function(jade,_t,_h){var yudify=function template(locals){var buf=[],jade_mixins={},jade_interp,locals_for_with=locals||{};return function(prompt){buf.push('<div data-js="user-html">'+(null==(jade_interp=prompt)?"":jade_interp)+"</div>")}.call(this,"prompt"in locals_for_with?locals_for_with.prompt:"undefined"!=typeof prompt?prompt:void 0),buf.join("")};return yudify};if("function"==typeof define&&define.amd)define("bundles/assess/questionTypes/continue/student/template.html",["js/vendor/jade"],function(jade){var _t,_h;return jadify(jade,_t,_h)});else wndw.jade.templates["bundles.assess.questionTypes.continue.student.template"]=jadify(wndw.jade.helpers)}(window),define("bundles/assess/questionTypes/continue/student/view",["backbone","bundles/assess/questionTypes/continue/student/template.html"],function(Backbone,template){var ContinueQuestion=Backbone.View.extend({className:"coursera-assess-question-continue",supportedStyles:["coursera-assess-style-question-default","coursera-assess-style-question-in-video"],initialize:function(options){this.options=this.options||options||{}},render:function(){this.$el.html(template({prompt:this.options.instance.variant.definition.prompt}))},serializeResponse:function(){return{}},isAnswered:function(){return!1},disableInput:function(){},enableInput:function(){}});return ContinueQuestion}),!function(wndw){var globalActiveAjaxCount=0,api=function($,_,cookie,Backbone){var _private={defaults:{type:"normal","csrf.token":"X-CSRFToken","csrf.cookie":"csrftoken","csrf.path":null,"csrf.domain":null,"csrf.secure":!0,"csrf2.token_header":"X-CSRF2-Token","csrf2.cookie_name_header":"X-CSRF2-Cookie","csrf2.cookie_prefix":"csrf2_token_","emulate.patch":!0,"emulate.put":!1,"emulate.delete":!1,"custom.header.name":null,"custom.header.value":null},csrfGet:function(){var token=cookie.get(this.options["csrf.cookie"]);if(token)return token;else return _private.csrfSet.call(this,_private.csrfMake())},csrfClear:function(){cookie.clear(this.options["csrf.cookie"],{secure:this.options["csrf.secure"],path:this.options["csrf.path"],domain:this.options["csrf.domain"]})},csrfSet:function(token){return cookie.set(this.options["csrf.cookie"],token,{secure:this.options["csrf.secure"],path:this.options["csrf.path"],domain:this.options["csrf.domain"],expires:new Date((new Date).getTime()+6e4)}),token},csrfMake:function(length,chars){var output=[];chars=chars||"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",length=length||24;for(var i=0;length>i;i++)output.push(chars[Math.floor(Math.random()*chars.length)]);return output.join("")},csrf2SetUp:function(ajaxOptions){if("GET"==ajaxOptions.type)return{};var cookieName=this.options["csrf2.cookie_prefix"]+_private.csrfMake(8),token=_private.csrfMake();cookie.set(cookieName,token,{secure:this.options["csrf.secure"],path:this.options["csrf.path"],domain:this.options["csrf.domain"],expires:new Date((new Date).getTime()+6e4)}),ajaxOptions.headers[this.options["csrf2.cookie_name_header"]]=cookieName,ajaxOptions.headers[this.options["csrf2.token_header"]]=token},csrf2TearDown:function(ajaxHeaders){var cookieName=ajaxHeaders[this.options["csrf2.cookie_name_header"]];if(cookieName)cookie.clear(cookieName,{secure:this.options["csrf.secure"],path:this.options["csrf.path"],domain:this.options["csrf.domain"]})},invoke:function(path,_options){_options=_.extend({},_options);var options=_options||{},url;if(0!==path.indexOf("http"))url=this.root+path;else url=path;this.trigger("before",url,options);var params="GET"==options.type?options.data:null,remove=function(e,item){this.remove(item.options.id)},message=options.message||{},codes=message.codes?_.keys(message.codes):[],asyncMessage=this.options.message,that=this;if(delete options.message,"GET"!=options.type&&_.isUndefined(options.processData)&&"rest"==this.options.type)options.contentType="application/json; charset=utf-8",options.processData=!1,options.data=JSON.stringify(options.data);options.beforeSend=function(){globalActiveAjaxCount++};var jqXHR=$.ajax(url,options);if(asyncMessage){if(message.waiting){var waitID=asyncMessage.add($("<div>").append(message.waiting).addClass("waiting"),{delay:100});jqXHR.always(function(jqXHR,textStatus){asyncMessage.remove(waitID)})}if(message.success||message.codes&&_.min(codes)<300)jqXHR.done(function(jqXHR,textStatus){if(message.codes&&message.codes[jqXHR.status])asyncMessage.add($("<div>").append(message.codes[jqXHR.status]).addClass("success"),{timeout:500});else if(message.success)asyncMessage.add($("<div>").append(message.success).addClass("success"),{timeout:500})});if(message.error||message.timeout||message.codes&&_.max(codes)>=300)jqXHR.fail(function(jqXHR,textStatus){if(message.timeout&&"timeout"==textStatus)asyncMessage.add($("<div>").append(message.timeout).addClass("error"),{events:{click:remove}});else if(message.codes&&message.codes[jqXHR.status])asyncMessage.add($("<div>").append(message.codes[jsXHR.status]).addClass("error"),{events:{click:remove}});else if(message.error)asyncMessage.add($("<div>").append(message.error).addClass("error"),{events:{click:remove}})})}var start=(new Date).getTime();return that.trigger("send",{xhr:jqXHR,url:url}),jqXHR.always(function(){if(0===--globalActiveAjaxCount)_private.csrfClear.call(that);_private.csrf2TearDown.call(that,options.headers||{}),that.trigger("always",{xhr:jqXHR,url:url,params:params,timing:(new Date).getTime()-start})}),jqXHR.fail(function(){that.trigger("fail",{xhr:jqXHR,url:url,params:params})}),jqXHR},restify:function(method,_options){var options=_options||{};switch(options.data=options.data||{},options.headers=options.headers||{},method){case"POST":options.type="POST";break;case"PATCH":if(this.options["emulate.patch"])options.type="POST",options.headers["X-HTTP-Method-Override"]="PATCH";else options.type="PATCH";break;case"PUT":if(this.options["emulate.put"])options.type="POST",options.headers["X-HTTP-Method-Override"]="PUT";else options.type="PUT";break;case"DELETE":if(this.options["emulate.delete"])options.type="POST",options.headers["X-HTTP-Method-Override"]="DELETE";else options.type="DELETE";break;default:options.type="GET"}if("GET"!=options.type)options.headers[this.options["csrf.token"]]=_private.csrfGet.call(this),_private.csrf2SetUp.call(this,options);if(this.options["custom.header.name"])options.headers[this.options["custom.header.name"]]=this.options["custom.header.value"];return options}},api=function(root,options){this.root=root,this.options=_.extend({},_private.defaults,options)};return api.prototype.customize=function(options){return this.options=_.extend(this.options,options),this},api.prototype.get=function(path,options){return _private.invoke.call(this,path,_private.restify.call(this,"GET",options))},api.prototype.patch=function(path,options){return _private.invoke.call(this,path,_private.restify.call(this,"PATCH",options))},api.prototype["delete"]=function(path,options){return _private.invoke.call(this,path,_private.restify.call(this,"DELETE",options))},api.prototype.post=function(path,options){return _private.invoke.call(this,path,_private.restify.call(this,"POST",options))},api.prototype.put=function(path,options){return _private.invoke.call(this,path,_private.restify.call(this,"PUT",options))},_.extend(api.prototype,Backbone.Events),function(root,options){return new api(root,options)}};if("function"==typeof define&&define.amd)define("js/lib/api",["jquery","underscore","js/lib/cookie","backbone","js/lib/json2"],function($,_,Cookie,Backbone){return api($,_,Cookie,Backbone)});else wndw.API=api(wndw.$,wndw._,wndw.Cookie,wndw.Backbone)}(window),define("bundles/assess/questionTypes/mathExpression/student/latexService",["js/lib/api"],function(API){var api=API("/api/assess/v1/",{type:"rest"}),latexService={latex:function(input){return api.get("latex",{data:{userText:input}})}};return latexService}),define("bundles/assess/questionTypes/mathExpression/student/latexModel",["require","bundles/assess/questionTypes/mathExpression/student/latexService","js/lib/fsm","js/vendor/backbone.v1-1-2","js/vendor/underscore.v1-6"],function(require){var latexService=require("bundles/assess/questionTypes/mathExpression/student/latexService"),fsm=require("js/lib/fsm"),Backbone=require("js/vendor/backbone.v1-1-2"),_=require("js/vendor/underscore.v1-6"),LatexModel=Backbone.Model.extend(_.extend({},fsm.FiniteStateMachine,{defaults:{state:"nothing",warnings:[],error:"",previewExpression:"",updateDelay:500},fsm:{states:["nothing","updating","error","warning","up-to-date"],transitions:{updating:["nothing","error","warning","up-to-date","updating"],error:["updating"],warning:["updating"],"up-to-date":["updating"]}},initialize:function(){this.loadPreviewDebounced=_.debounce(this.loadPreview.bind(this),this.get("updateDelay"))},inputChange:function(input){this.transitionIfNot("updating"),this.loadPreviewDebounced(input)},loadPreview:function(input){if(this.transitionIfNot("updating"),!input||""===input.trim())this.set("previewExpression",""),this.transition("up-to-date");else latexService.latex(input).done(this.updatePreview.bind(this))},updatePreview:function(result){if(result.success)if(this.set("previewExpression",result.message),_(result).has("warnings")&&result.warnings.length>0){var warnings=result.warnings;this.set("warnings",warnings),this.transition("warning")}else this.transition("up-to-date");else this.set("error",result.message),this.transition("error")}}));return LatexModel}),!function(wndw){var jadify=function(jade,_t,_h){var yudify=function template(locals){var buf=[],jade_mixins={},jade_interp,locals_for_with=locals||{};return function(helpCenterLinks,model){buf.push('<div class="coursera-assess-question-mathexpression-preview-container"><div class="coursera-assess-question-mathexpression-preview-status-container"><div data-state="nothing up-to-date warning" class="coursera-assess-question-mathexpression-preview-status coursera-assess-question-mathexpression-preview-normal">Preview</div><div data-state="updating" class="coursera-assess-question-mathexpression-preview-status coursera-assess-question-mathexpression-preview-normal">Preview updating...</div><div data-state="error" class="coursera-assess-question-mathexpression-preview-error coursera-assess-question-mathexpression-preview-status">Preview unable to update: &nbsp;<a target="_blank"'+jade.attr("href",helpCenterLinks.getMathAssignmentLink(),!0,!1)+' class="coursera-assess-question-mathexpression-preview-link">'+jade.escape(null==(jade_interp=model.get("error"))?"":jade_interp)+'</a></div></div><div data-js="math-expression-preview" data-state-not="error updating" class="coursera-assess-question-mathexpression-preview">$$'+jade.escape(null==(jade_interp=model.get("previewExpression"))?"":jade_interp)+'$$</div><div data-state="warning" class="coursera-assess-question-mathexpression-preview-warning coursera-assess-question-mathexpression-preview-status coursera-assess-question-mathexpression-preview-normal">'),function(){var $$obj=model.get("warnings");if("number"==typeof $$obj.length)for(var $index=0,$$l=$$obj.length;$$l>$index;$index++){var warning=$$obj[$index];buf.push("<span>"+jade.escape(null==(jade_interp=warning)?"":jade_interp)+"</span>")}else{var $$l=0;for(var $index in $$obj){$$l++;var warning=$$obj[$index];buf.push("<span>"+jade.escape(null==(jade_interp=warning)?"":jade_interp)+"</span>")}}}.call(this),buf.push("</div></div>")}.call(this,"helpCenterLinks"in locals_for_with?locals_for_with.helpCenterLinks:"undefined"!=typeof helpCenterLinks?helpCenterLinks:void 0,"model"in locals_for_with?locals_for_with.model:"undefined"!=typeof model?model:void 0),buf.join("")};return yudify};if("function"==typeof define&&define.amd)define("bundles/assess/questionTypes/mathExpression/student/mathExpressionPreview.html",["js/vendor/jade"],function(jade){var _t,_h;return jadify(jade,_t,_h)});else wndw.jade.templates["bundles.assess.questionTypes.mathExpression.student.mathExpressionPreview"]=jadify(wndw.jade.helpers)}(window),!function(wndw){var jadify=function(jade,_t,_h){var yudify=function template(locals){var buf=[],jade_mixins={},jade_interp,locals_for_with=locals||{};return function(feedback,showFeedbackIcon,isCorrect,index,instance){if(feedback&&showFeedbackIcon)buf.push("<i"+jade.cls(["fa","c-feedback-icon",isCorrect?"fa-check":"fa-times"],[null,null,!0])+"></i>");if(buf.push('<div data-js="user-html" class="coursera-assess-question-optionBase-prompt">'),index)buf.push('<span class="c-assess-question-number">'+jade.escape(null==(jade_interp=index)?"":jade_interp)+".&nbsp;</span>");if(buf.push('<span class="c-assess-question-title">'+(null==(jade_interp=instance.variant.definition.prompt)?"":jade_interp)+"</span></div>"),"Full"==instance.variant.detailLevel)buf.push('<div class="coursera-math-expression-input-container"><div data-js="preview"></div><div><input data-js="response" type="text" placeholder="Enter math expression here" data-state-classes="{        &quot;error&quot;: &quot;coursera-assess-question-mathexpression-answer-input-error&quot;      }" class="coursera-assess-question-mathexpression-answer-input"/></div></div>');if(feedback&&"Explained"==feedback.feedbackLevel)if(feedback.definition.isCorrect){if(buf.push('<div class="c-assess-common-arrow c-assess-common-arrow-success"></div><div data-js="user-html" class="bt3-alert bt3-alert-success alert alert-success coursera-assess-question-mathexpression-feedback"><strong>Well done!&nbsp;</strong><p>'+(null==(jade_interp=feedback.definition.display)?"":jade_interp)+"</p>"),feedback.definition.correctAnswer){var learnerAnswer=instance.localResponse.answer,correctAnswer=feedback.definition.correctAnswer.answer;buf.push("<p>Your answer, "+jade.escape(null==(jade_interp=learnerAnswer)?"":jade_interp)+", is equivalent to the instructor's answer "+jade.escape(null==(jade_interp=correctAnswer)?"":jade_interp)+".</p>")}buf.push("</div>")}else if(buf.push('<div class="c-assess-common-arrow c-assess-common-arrow-error"></div><div data-js="user-html" class="bt3-alert bt3-alert-danger alert alert-danger coursera-assess-question-mathexpression-feedback"><strong>Sorry, that’s not what we’re looking for.&nbsp;</strong><p>'+(null==(jade_interp=feedback.definition.display)?"":jade_interp)+"</p></div>"),feedback.definition.correctAnswer)buf.push('<a data-js="reveal-answer-link" class="coursera-assess-question-mathexpression-link">Reveal correct answer</a><div data-js="correct-answer" style="display:none;"><p><strong>Correct Answer:&nbsp;</strong><span>'+jade.escape(null==(jade_interp=feedback.definition.correctAnswer.answer)?"":jade_interp)+'</span></p><div class="c-assess-common-arrow c-assess-common-arrow-info"></div><div data-js="user-html" class="bt3-alert bt3-alert-info alert alert-info coursera-assess-question-mathexpression-feedback"><p>'+(null==(jade_interp=feedback.definition.correctAnswer.feedback)?"":jade_interp)+"</p></div></div>")}.call(this,"feedback"in locals_for_with?locals_for_with.feedback:"undefined"!=typeof feedback?feedback:void 0,"showFeedbackIcon"in locals_for_with?locals_for_with.showFeedbackIcon:"undefined"!=typeof showFeedbackIcon?showFeedbackIcon:void 0,"isCorrect"in locals_for_with?locals_for_with.isCorrect:"undefined"!=typeof isCorrect?isCorrect:void 0,"index"in locals_for_with?locals_for_with.index:"undefined"!=typeof index?index:void 0,"instance"in locals_for_with?locals_for_with.instance:"undefined"!=typeof instance?instance:void 0),buf.join("")};return yudify};if("function"==typeof define&&define.amd)define("bundles/assess/questionTypes/mathExpression/student/template.html",["js/vendor/jade"],function(jade){var _t,_h;return jadify(jade,_t,_h)});else wndw.jade.templates["bundles.assess.questionTypes.mathExpression.student.template"]=jadify(wndw.jade.helpers)}(window),define("bundles/assess/questionTypes/mathExpression/student/view",["require","bundles/assess/questionTypes/mathExpression/student/latexModel","bundles/assess/questionTypes/mathExpression/student/mathExpressionPreview.html","bundles/assess/questionTypes/mathExpression/student/template.html","bundles/phoenix/lib/view","js/lib/coursera.mathjax","js/lib/fsm","js/vendor/underscore.v1-6","pages/help-center/data/HelpCenterLinks"],function(require){var LatexModel=require("bundles/assess/questionTypes/mathExpression/student/latexModel"),previewTemplate=require("bundles/assess/questionTypes/mathExpression/student/mathExpressionPreview.html"),template=require("bundles/assess/questionTypes/mathExpression/student/template.html"),PhoenixView=require("bundles/phoenix/lib/view"),courseraMathjax=require("js/lib/coursera.mathjax"),fsm=require("js/lib/fsm"),_=require("js/vendor/underscore.v1-6"),HelpCenterLinks=require("pages/help-center/data/HelpCenterLinks"),MathExpressionQuestion=PhoenixView.extend({className:"coursera-assess-question-mathexpression",classNames:{previewError:"coursera-assess-question-mathexpression-answer-input-error"},supportedStyles:["coursera-assess-style-question-default","coursera-assess-style-question-in-video"],events:{'click [data-js="reveal-answer-link"]':"revealAnswer",'input [data-js="response"]':"inputChange"},initialize:function(options){this.options=this.options||options||{},this.latexModel=new LatexModel,this.listenTo(this.latexModel,"state:change",this.renderPreview)
},state:function(){return this.latexModel.state()},render:function(){var instance=this.options.instance,responseVal,feedback=instance.feedback;if(this.$el.html(template({instance:instance,feedback:feedback,index:this.options.index,showFeedbackIcon:this.options.showFeedbackIcon,isCorrect:feedback?feedback.definition.isCorrect:null})),instance.localResponse)responseVal=instance.localResponse.answer,this.$$("response").val(responseVal);if(feedback&&feedback.definition&&feedback.definition.isCorrect)this.$el.removeClass("c-incorrect"),this.$el.addClass("c-correct");else this.$el.removeClass("c-correct"),this.$el.addClass("c-incorrect");this.$$("correct-answer]").hide(),this.renderPreview()},renderPreview:function(){this.$$("preview").html(previewTemplate({model:this.latexModel,helpCenterLinks:HelpCenterLinks})),courseraMathjax.render(this.el),this.renderFsm(),this.renderState()},disableInput:function(){this.$("input").attr("disabled",!0),this.inputChange()},enableInput:function(){this.$("input").attr("disabled",!1),this.inputChange()},getResponse:function(){return this.$$("response").val()},serializeResponse:function(){var response=this.getResponse();return{answer:response}},isAnswered:function(){return this.getResponse()&&this.getResponse().trim().length>0},revealAnswer:function(){this.$$("reveal-answer-link").hide(),this.$$("correct-answer").show()},inputChange:function(event){var input=this.$$("response").val();this.latexModel.inputChange(input),this.trigger("change")}});return MathExpressionQuestion}),!function(wndw){var jadify=function(jade,_t,_h){var yudify=function template(locals){var buf=[],jade_mixins={},jade_interp,locals_for_with=locals||{};return function(instanceId,option){buf.push('<label><input type="radio"'+jade.attr("name",instanceId,!0,!1)+jade.attr("value",option.id,!0,!1)+' class="coursera-assess-question-optionBase-option-input"/><div data-js="user-html" class="coursera-assess-question-optionBase-option-text">'+(null==(jade_interp=option.display)?"":jade_interp)+"</div></label>")}.call(this,"instanceId"in locals_for_with?locals_for_with.instanceId:"undefined"!=typeof instanceId?instanceId:void 0,"option"in locals_for_with?locals_for_with.option:"undefined"!=typeof option?option:void 0),buf.join("")};return yudify};if("function"==typeof define&&define.amd)define("bundles/assess/questionTypes/mcq/student/optionTemplate.html",["js/vendor/jade"],function(jade){var _t,_h;return jadify(jade,_t,_h)});else wndw.jade.templates["bundles.assess.questionTypes.mcq.student.optionTemplate"]=jadify(wndw.jade.helpers)}(window),define("bundles/assess/questionTypes/mcq/student/view",["underscore","bundles/assess/questionTypes/optionBase/student/view","bundles/assess/questionTypes/mcq/student/optionTemplate.html"],function(_,OptionBaseView,optionTemplate){var McqView=OptionBaseView.extend({optionTemplate:optionTemplate,className:OptionBaseView.prototype.className+" coursera-assess-question-mcq",initialize:function(options){this.instance=options.instance,OptionBaseView.prototype.initialize.apply(this,arguments)},normalizeFeedback:function(instance){var feedback=instance.feedback;if(!feedback||"Graded"==feedback.feedbackLevel)return!1;var options=instance.variant.definition.options,effectiveResponse=instance.effectiveResponse,normalizedFeedback={};return _(options).each(function(option){var showFeedback=option.id==effectiveResponse.response.chosen;if(showFeedback)normalizedFeedback[option.id]={feedbackDisplay:feedback.definition.display,isCorrect:feedback.definition.isCorrect}}),normalizedFeedback},renderExtra:function(){var feedback=this.instance.feedback;if(this.options.instance.localResponse){var responseVal=this.options.instance.localResponse.chosen;this.$('input[value="'+responseVal+'"]').prop("checked",!0)}if(feedback&&feedback.definition&&feedback.definition.isCorrect)this.$el.removeClass("c-incorrect"),this.$el.addClass("c-correct");else this.$el.removeClass("c-incorrect"),this.$el.addClass("c-incorrect")},getResponse:function(){return this.$("input:checked")},serializeResponse:function(){if(this.getResponse().length>0)return{chosen:this.getResponse().val()};else return{chosen:null}},isAnswered:function(){return this.getResponse().length>0}});return McqView}),!function(wndw){var jadify=function(jade,_t,_h){var yudify=function template(locals){var buf=[],jade_mixins={},jade_interp,locals_for_with=locals||{};return function(instanceId,option){buf.push('<label><input type="radio"'+jade.attr("name",instanceId,!0,!1)+jade.attr("value",option.id,!0,!1)+' class="coursera-assess-question-optionBase-option-input"/><div data-js="user-html" class="coursera-assess-question-optionBase-option-text">'+(null==(jade_interp=option.display)?"":jade_interp)+"</div></label>")}.call(this,"instanceId"in locals_for_with?locals_for_with.instanceId:"undefined"!=typeof instanceId?instanceId:void 0,"option"in locals_for_with?locals_for_with.option:"undefined"!=typeof option?option:void 0),buf.join("")};return yudify};if("function"==typeof define&&define.amd)define("bundles/assess/questionTypes/radioPoll/student/optionTemplate.html",["js/vendor/jade"],function(jade){var _t,_h;return jadify(jade,_t,_h)});else wndw.jade.templates["bundles.assess.questionTypes.radioPoll.student.optionTemplate"]=jadify(wndw.jade.helpers)}(window),!function(wndw){var jadify=function(jade,_t,_h){var yudify=function template(locals){var buf=[],jade_mixins={},jade_interp;return buf.push('<h4 class="coursera-assess-question-pollBase-header">Poll</h4>'),buf.join("")};return yudify};if("function"==typeof define&&define.amd)define("bundles/assess/questionTypes/radioPoll/student/headerTemplate.html",["js/vendor/jade"],function(jade){var _t,_h;return jadify(jade,_t,_h)});else wndw.jade.templates["bundles.assess.questionTypes.radioPoll.student.headerTemplate"]=jadify(wndw.jade.helpers)}(window),define("bundles/assess/questionTypes/radioPoll/student/view",["underscore","bundles/assess/questionTypes/pollBase/student/view","bundles/assess/questionTypes/radioPoll/student/optionTemplate.html","bundles/assess/questionTypes/radioPoll/student/headerTemplate.html","js/lib/util"],function(_,PollBaseView,optionTemplate,headerTemplate,util){var MultipleChoicePoll=PollBaseView.extend({feedbackTemplate:PollBaseView.prototype.feedbackTemplate,headerTemplate:headerTemplate,optionTemplate:optionTemplate,className:PollBaseView.prototype.className+" coursera-assess-question-radio-poll",initialize:function(options){this.options=this.options||options||{}},isIdChosen:function(chosen,id){return chosen===id},isAChosenOptionZero:function(chosen,histogram){var chosenHistogramOptions=_(histogram).filter(function(histogramOption){return chosen===histogramOption.id&&0!==histogramOption.count});return 1!==chosenHistogramOptions.length},getTotalNumberResponses:function(){var instance=this.options.instance,histogramOptions=[];if(instance.variant.definition.histogram)histogramOptions=instance.variant.definition.histogram;else if(instance.feedback)histogramOptions=instance.feedback.definition.options;var totalNumResponses=_(histogramOptions).reduce(function(total,histogramOption){return total+histogramOption.count},0);return totalNumResponses},renderExtra:function(){if(this.options.instance.localResponse){var responseVal=this.options.instance.localResponse.chosen;this.$('input[value="'+responseVal+'"]').attr("checked",!0)}},getResponse:function(){return this.$("input:checked")},serializeResponse:function(){if(this.getResponse().length>0)return{chosen:this.getResponse().val()};else return{chosen:null}},isAnswered:function(){return this.getResponse()&&this.getResponse().length>0}});return MultipleChoicePoll}),!function(wndw){var jadify=function(jade,_t,_h){var yudify=function template(locals){var buf=[],jade_mixins={},jade_interp,locals_for_with=locals||{};return function(instance,feedback){if(buf.push('<div data-prompt="data-prompt" data-js="user-html" class="coursera-assess-question-reflective-prompt">'+(null==(jade_interp=instance.variant.definition.prompt)?"":jade_interp)+"</div>"),"Full"==instance.variant.detailLevel)buf.push('<div class="coursera-assess-question-reflective-answer"><textarea data-reflective-response="data-reflective-response" placeholder="What do you think?" class="coursera-assess-question-reflective-answer-input"></textarea></div>');if(feedback&&"Explained"==feedback.feedbackLevel)if(feedback.definition.isCorrect)buf.push('<div class="c-assess-common-arrow c-assess-common-arrow-success"></div><div data-js="user-html" class="alert alert-success bt3-alert bt3-alert-success coursera-assess-question-reflective-feedback"><strong>Well done!&nbsp;</strong><p>'+(null==(jade_interp=feedback.definition.display)?"":jade_interp)+"</p></div>");else buf.push('<div class="c-assess-common-arrow c-assess-common-arrow-error"></div><div data-js="user-html" class="alert alert-danger bt3-alert bt3-alert-danger coursera-assess-question-reflective-feedback"><p>'+(null==(jade_interp=feedback.definition.display)?"":jade_interp)+"</p></div>");buf.push('<div data-reflective-correct-answers-list="data-reflective-correct-answers-list"></div>')}.call(this,"instance"in locals_for_with?locals_for_with.instance:"undefined"!=typeof instance?instance:void 0,"feedback"in locals_for_with?locals_for_with.feedback:"undefined"!=typeof feedback?feedback:void 0),buf.join("")};return yudify};if("function"==typeof define&&define.amd)define("bundles/assess/questionTypes/reflect/student/template.html",["js/vendor/jade"],function(jade){var _t,_h;return jadify(jade,_t,_h)});else wndw.jade.templates["bundles.assess.questionTypes.reflect.student.template"]=jadify(wndw.jade.helpers)}(window),define("bundles/assess/questionTypes/reflect/student/view",["backbone","bundles/assess/questionTypes/reflect/student/template.html"],function(Backbone,template){var ReflectiveQuestion=Backbone.View.extend({className:"coursera-assess-question-reflective",supportedStyles:["coursera-assess-style-question-default","coursera-assess-style-question-in-video"],events:{"keyup [data-reflective-response]":"onChangeInput","keydown [data-reflective-response]":"stopPropagation","keypress [data-reflective-response]":"stopPropagation","click [data-retry]":"retryQuestion"},initialize:function(options){this.options=this.options||options||{}},render:function(){var feedback=this.options.instance.feedback;if(this.$el.html(template({instance:this.options.instance,feedback:feedback})),this.options.instance.localResponse){var responseVal=this.options.instance.localResponse.answer;this.$("[data-reflective-response]").val(responseVal)}},retryQuestion:function(){this.options.instance.localResponse=null,this.options.instance.feedback=null,this.render()},disableInput:function(){this.$("input").attr("disabled",!0)},enableInput:function(){this.$("input").attr("disabled",!1)},serializeResponse:function(){var response=this.$("[data-reflective-response]").val();return{answer:response}},stopPropagation:function(event){event.stopPropagation()},onChangeInput:function(event){if(this.stopPropagation(event),this.trigger("change"),13===event.keyCode)this.trigger("submit")},isAnswered:function(){return this.getResponse()&&this.getResponse().trim().length>0},getResponse:function(){return this.$("[data-reflective-response]").val()}});return ReflectiveQuestion}),!function(wndw){var jadify=function(jade,_t,_h){var yudify=function template(locals){var buf=[],jade_mixins={},jade_interp,locals_for_with=locals||{};return function(feedback,showFeedbackIcon,isCorrect,index,instance){if(feedback&&showFeedbackIcon)buf.push("<i"+jade.cls(["fa","c-feedback-icon",isCorrect?"fa-check":"fa-times"],[null,null,!0])+"></i>");if(buf.push('<div data-js="user-html" class="coursera-assess-question-optionBase-prompt">'),index)buf.push('<span class="c-assess-question-number">'+jade.escape(null==(jade_interp=index)?"":jade_interp)+".&nbsp;</span>");if(buf.push('<span class="c-assess-question-title">'+(null==(jade_interp=instance.variant.definition.prompt)?"":jade_interp)+"</span></div>"),"Full"==instance.variant.detailLevel)buf.push('<div class="c-regex-input-container"><div><input data-js="response" placeholder="Enter answer here" class="c-assess-question-regex-answer-input"/></div></div>');if(feedback&&"Explained"==feedback.feedbackLevel)if(feedback.definition.isCorrect)buf.push('<div class="c-assess-common-arrow c-assess-common-arrow-success"></div><div data-js="user-html" class="bt3-alert bt3-alert-success alert alert-success c-assess-question-regex-feedback"><strong>Well done!&nbsp;</strong><p>'+(null==(jade_interp=feedback.definition.display)?"":jade_interp)+"</p></div>");else buf.push('<div class="c-assess-common-arrow c-assess-common-arrow-error"></div><div data-js="user-html" class="bt3-alert bt3-alert-danger alert alert-danger c-assess-question-regex-feedback"><strong>Sorry, that’s not what we’re looking for.&nbsp;</strong><p>'+(null==(jade_interp=feedback.definition.display)?"":jade_interp)+"</p></div>")}.call(this,"feedback"in locals_for_with?locals_for_with.feedback:"undefined"!=typeof feedback?feedback:void 0,"showFeedbackIcon"in locals_for_with?locals_for_with.showFeedbackIcon:"undefined"!=typeof showFeedbackIcon?showFeedbackIcon:void 0,"isCorrect"in locals_for_with?locals_for_with.isCorrect:"undefined"!=typeof isCorrect?isCorrect:void 0,"index"in locals_for_with?locals_for_with.index:"undefined"!=typeof index?index:void 0,"instance"in locals_for_with?locals_for_with.instance:"undefined"!=typeof instance?instance:void 0),buf.join("")};return yudify};if("function"==typeof define&&define.amd)define("bundles/assess/questionTypes/regex/student/template.html",["js/vendor/jade"],function(jade){var _t,_h;return jadify(jade,_t,_h)});else wndw.jade.templates["bundles.assess.questionTypes.regex.student.template"]=jadify(wndw.jade.helpers)}(window),define("bundles/assess/questionTypes/regex/student/view",["bundles/phoenix/lib/view","bundles/assess/questionTypes/regex/student/template.html"],function(PhoenixView,template){var SingleNumericQuestion=PhoenixView.extend({className:"c-assess-question-regex",supportedStyles:["coursera-assess-style-question-default","coursera-assess-style-question-in-video"],events:{'input [data-js="response"]':"inputChange"},initialize:function(options){this.options=options||{}},render:function(){var instance=this.options.instance,feedback=instance.feedback;if(this.$el.html(template({instance:instance,feedback:feedback,index:this.options.index,showFeedbackIcon:this.options.showFeedbackIcon,isCorrect:feedback?feedback.definition.isCorrect:null})),instance.localResponse)this.$$("response").val(instance.localResponse.answer);if(feedback&&feedback.definition&&feedback.definition.isCorrect)this.$el.removeClass("c-incorrect"),this.$el.addClass("c-correct");else this.$el.removeClass("c-correct"),this.$el.addClass("c-incorrect")},disableInput:function(){this.$$("response").attr("disabled",!0)},enableInput:function(){this.$$("response").attr("disabled",!1)},getResponse:function(){return this.$$("response").val()},serializeResponse:function(){var response=this.getResponse();return{answer:response}},isAnswered:function(){return this.getResponse()&&this.getResponse().trim().length>0},inputChange:function(){var input=this.$$("response").val();this.trigger("change",input)}});return SingleNumericQuestion}),!function(wndw){var jadify=function(jade,_t,_h){var yudify=function template(locals){var buf=[],jade_mixins={},jade_interp,locals_for_with=locals||{};return function(instance,feedback){if(buf.push('<div data-prompt="data-prompt" data-js="user-html" class="coursera-assess-question-shortanswer-prompt">'+(null==(jade_interp=instance.variant.definition.prompt)?"":jade_interp)+"</div>"),"Full"==instance.variant.detailLevel)buf.push('<div class="coursera-assess-question-shortanswer-answer"><input data-shortanswer-response="data-shortanswer-response" type="text" placeholder="Enter answer here" class="coursera-assess-question-shortanswer-answer-input"/></div>');if(feedback&&"Explained"==feedback.feedbackLevel)if(feedback.definition.isCorrect)buf.push('<div class="c-assess-common-arrow c-assess-common-arrow-success"></div><div data-js="user-html" class="alert alert-success bt3-alert bt3-alert-success coursera-assess-question-shortanswer-feedback"><strong>Well done!&nbsp;</strong><p>'+(null==(jade_interp=feedback.definition.display)?"":jade_interp)+"</p></div>");else buf.push('<div class="c-assess-common-arrow c-assess-common-arrow-error"></div><div data-js="user-html" class="alert alert-danger bt3-alert bt3-alert-danger coursera-assess-question-shortanswer-feedback"><strong>Sorry, that’s not what we’re looking for.&nbsp;</strong><p>'+(null==(jade_interp=feedback.definition.display)?"":jade_interp)+"</p></div>");buf.push('<div data-shortanswer-correct-answers-list="data-shortanswer-correct-answers-list"></div>')}.call(this,"instance"in locals_for_with?locals_for_with.instance:"undefined"!=typeof instance?instance:void 0,"feedback"in locals_for_with?locals_for_with.feedback:"undefined"!=typeof feedback?feedback:void 0),buf.join("")};return yudify};if("function"==typeof define&&define.amd)define("bundles/assess/questionTypes/shortanswer/student/template.html",["js/vendor/jade"],function(jade){var _t,_h;return jadify(jade,_t,_h)});else wndw.jade.templates["bundles.assess.questionTypes.shortanswer.student.template"]=jadify(wndw.jade.helpers)}(window),!function(wndw){var jadify=function(jade,_t,_h){var yudify=function template(locals){var buf=[],jade_mixins={},jade_interp,locals_for_with=locals||{};return function(correctAnswers,isCorrect,seeCorrectAnswers){var numOtherCorrectAnswers=correctAnswers.length,linkText="",titleText="",conjunction="",retryText="";if(1==numOtherCorrectAnswers){if(isCorrect)linkText="Show other acceptable response",titleText="Other acceptable response";else linkText="Show acceptable response",titleText="Acceptable response";conjunction=" or ",retryText="try again"}else if(numOtherCorrectAnswers>1){if(isCorrect)linkText="Show other acceptable responses",titleText="Other acceptable responses";else linkText="Show acceptable responses",titleText="Acceptable responses";conjunction=" or ",retryText="try again"}if(!seeCorrectAnswers){if(buf.push('<a data-show-correct-answers="data-show-correct-answers" href="#" onclick="return false;" class="coursera-assess-question-shortanswer-link">'+jade.escape(null==(jade_interp=linkText)?"":jade_interp)+"</a>"),!isCorrect)buf.push(""+jade.escape(null==(jade_interp=conjunction)?"":jade_interp)+'<a data-retry="data-retry" href="#" onclick="return false;" class="coursera-assess-question-shortanswer-link">'+jade.escape(null==(jade_interp=retryText)?"":jade_interp)+"</a>")}else buf.push("<strong>"+jade.escape(null==(jade_interp=titleText)?"":jade_interp)+'</strong><div data-correct-answers="data-correct-answers" class="coursera-assess-question-shortanswer-correctAnswer">'),function(){var $$obj=correctAnswers;if("number"==typeof $$obj.length)for(var $index=0,$$l=$$obj.length;$$l>$index;$index++){var correctAnswer=$$obj[$index];if(buf.push("<label>"+jade.escape(null==(jade_interp=correctAnswer.answer)?"":jade_interp)+"</label>"),correctAnswer.feedback&&""!==correctAnswer.feedback.trim())buf.push('<div class="c-assess-common-arrow c-assess-common-arrow-info"></div><div data-js="user-html" class="bt3-alert bt3-alert-info alert alert-info coursera-assess-question-shortanswer-feedback">'+(null==(jade_interp=correctAnswer.feedback)?"":jade_interp)+"</div>")}else{var $$l=0;for(var $index in $$obj){$$l++;var correctAnswer=$$obj[$index];if(buf.push("<label>"+jade.escape(null==(jade_interp=correctAnswer.answer)?"":jade_interp)+"</label>"),correctAnswer.feedback&&""!==correctAnswer.feedback.trim())buf.push('<div class="c-assess-common-arrow c-assess-common-arrow-info"></div><div data-js="user-html" class="bt3-alert bt3-alert-info alert alert-info coursera-assess-question-shortanswer-feedback">'+(null==(jade_interp=correctAnswer.feedback)?"":jade_interp)+"</div>")}}}.call(this),buf.push("</div>")}.call(this,"correctAnswers"in locals_for_with?locals_for_with.correctAnswers:"undefined"!=typeof correctAnswers?correctAnswers:void 0,"isCorrect"in locals_for_with?locals_for_with.isCorrect:"undefined"!=typeof isCorrect?isCorrect:void 0,"seeCorrectAnswers"in locals_for_with?locals_for_with.seeCorrectAnswers:"undefined"!=typeof seeCorrectAnswers?seeCorrectAnswers:void 0),buf.join("")};return yudify};if("function"==typeof define&&define.amd)define("bundles/assess/questionTypes/shortanswer/student/correctAnswers.html",["js/vendor/jade"],function(jade){var _t,_h;return jadify(jade,_t,_h)});else wndw.jade.templates["bundles.assess.questionTypes.shortanswer.student.correctAnswers"]=jadify(wndw.jade.helpers)}(window),define("bundles/assess/questionTypes/shortanswer/student/view",["underscore","backbone","bundles/assess/questionTypes/shortanswer/student/template.html","bundles/assess/questionTypes/shortanswer/student/correctAnswers.html"],function(_,Backbone,template,correctAnswersTemplate){var ShortAnswerQuestion=Backbone.View.extend({className:"coursera-assess-question-shortanswer",supportedStyles:["coursera-assess-style-question-default","coursera-assess-style-question-in-video"],events:{"click [data-show-correct-answers]":"showCorrectAnswers","keyup [data-shortanswer-response]":"onChangeInput","keydown [data-shortanswer-response]":"stopPropagation","keypress [data-shortanswer-response]":"stopPropagation","click [data-retry]":"retryQuestion"},initialize:function(options){this.options=this.options||options||{},this.options._seeCorrectAnswers=!1},render:function(){var feedback=this.options.instance.feedback;if(this.$el.html(template({instance:this.options.instance,feedback:feedback,isGraded:feedback&&"Graded"==feedback.feedbackLevel,isSubmitted:!!feedback})),this.options.instance.localResponse){var responseVal=this.options.instance.localResponse.answer;this.$("[data-shortanswer-response]").val(responseVal)}this.renderCorrectAnswersSection()},renderCorrectAnswersSection:function(){if(this.options.instance.feedback)this.$("[data-shortanswer-correct-answers-list]").html(correctAnswersTemplate({isCorrect:this.options.instance.feedback.definition.isCorrect,correctAnswers:this.getOtherCorrectAnswers(),seeCorrectAnswers:this.options._seeCorrectAnswers}))},retryQuestion:function(){this.options.instance.localResponse=null,this.options.instance.feedback=null,this.render()},disableInput:function(){this.$("input").attr("disabled",!0)},enableInput:function(){this.$("input").attr("disabled",!1)},getResponse:function(){return this.$("[data-shortanswer-response]").val()},serializeResponse:function(){var response=this.getResponse();return{answer:response}},isAnswered:function(){return this.getResponse()&&this.getResponse().trim().length>0},transform:function(str){return str.trim().toLowerCase()},stopPropagation:function(event){event.stopPropagation()},onChangeInput:function(event){if(this.stopPropagation(event),this.trigger("change"),13===event.keyCode)this.trigger("submit")},showCorrectAnswers:function(){var answerTopLoc=this.$("[data-shortanswer-correct-answers-list]").offset().top-this.$("[data-prompt]").offset().top;this.options._seeCorrectAnswers=!0,this.renderCorrectAnswersSection(),this.$el.animate({scrollTop:answerTopLoc},500)},getOtherCorrectAnswers:function(){var correctAnswers=[];if(this.options.instance.feedback){var self=this,effectiveResponseTransformed=self.transform(this.options.instance.effectiveResponse.response.answer);correctAnswers=_(this.options.instance.feedback.definition.correctAnswers).filter(function(correctAnswer){return effectiveResponseTransformed!==self.transform(correctAnswer.answer)})}return correctAnswers}});return ShortAnswerQuestion}),!function(wndw){var jadify=function(jade,_t,_h){var yudify=function template(locals){var buf=[],jade_mixins={},jade_interp,locals_for_with=locals||{};return function(feedback,showFeedbackIcon,isCorrect,index,instance){if(feedback&&showFeedbackIcon)buf.push("<i"+jade.cls(["fa","c-feedback-icon",isCorrect?"fa-check":"fa-times"],[null,null,!0])+"></i>");if(buf.push('<div data-js="user-html" class="coursera-assess-question-optionBase-prompt">'),index)buf.push('<span class="c-assess-question-number">'+jade.escape(null==(jade_interp=index)?"":jade_interp)+".&nbsp;</span>");if(buf.push('<span class="c-assess-question-title">'+(null==(jade_interp=instance.variant.definition.prompt)?"":jade_interp)+"</span></div>"),"Full"==instance.variant.detailLevel)buf.push('<div class="c-single-numeric-input-container"><div><input data-js="response" placeholder="Enter answer here" class="c-assess-question-single-numeric-answer-input"/></div></div>');if(feedback&&"Explained"==feedback.feedbackLevel)if(feedback.definition.isCorrect)buf.push('<div class="c-assess-common-arrow c-assess-common-arrow-success"></div><div data-js="user-html" class="bt3-alert bt3-alert-success alert alert-success c-assess-question-single-numeric-feedback"><strong>Well done!&nbsp;</strong><p>'+(null==(jade_interp=feedback.definition.display)?"":jade_interp)+"</p></div>");else if(buf.push('<div class="c-assess-common-arrow c-assess-common-arrow-error"></div><div data-js="user-html" class="bt3-alert bt3-alert-danger alert alert-danger c-assess-question-single-numeric-feedback"><strong>Sorry, that’s not what we’re looking for.&nbsp;</strong><p>'+(null==(jade_interp=feedback.definition.display)?"":jade_interp)+"</p></div>"),feedback.definition.correctAnswer)buf.push('<a data-js="reveal-answer-link" class="c-assess-question-single-numeric-link">Reveal correct answer</a><div data-js="correct-answer"><p><strong>Correct Answer: &nbsp;</strong>'+jade.escape(null==(jade_interp=feedback.definition.correctAnswer.answer)?"":jade_interp)+"</p></div>")}.call(this,"feedback"in locals_for_with?locals_for_with.feedback:"undefined"!=typeof feedback?feedback:void 0,"showFeedbackIcon"in locals_for_with?locals_for_with.showFeedbackIcon:"undefined"!=typeof showFeedbackIcon?showFeedbackIcon:void 0,"isCorrect"in locals_for_with?locals_for_with.isCorrect:"undefined"!=typeof isCorrect?isCorrect:void 0,"index"in locals_for_with?locals_for_with.index:"undefined"!=typeof index?index:void 0,"instance"in locals_for_with?locals_for_with.instance:"undefined"!=typeof instance?instance:void 0),buf.join("")};return yudify};if("function"==typeof define&&define.amd)define("bundles/assess/questionTypes/singleNumeric/student/template.html",["js/vendor/jade"],function(jade){var _t,_h;return jadify(jade,_t,_h)});else wndw.jade.templates["bundles.assess.questionTypes.singleNumeric.student.template"]=jadify(wndw.jade.helpers)}(window),define("bundles/assess/questionTypes/singleNumeric/student/view",["bundles/phoenix/lib/view","bundles/assess/questionTypes/singleNumeric/student/template.html"],function(PhoenixView,template){var SingleNumericQuestion=PhoenixView.extend({className:"c-assess-question-single-numeric",supportedStyles:["c-assess-theme-phoenix"],events:{'click [data-js="reveal-answer-link"]':"revealAnswer",'input [data-js="response"]':"inputChange"},initialize:function(options){this.options=options||{}},render:function(){var instance=this.options.instance,feedback=instance.feedback;if(this.$el.html(template({instance:instance,feedback:feedback,index:this.options.index,showFeedbackIcon:this.options.showFeedbackIcon,isCorrect:feedback?feedback.definition.isCorrect:null})),instance.localResponse)this.$$("response").val(instance.localResponse.answer);if(feedback&&feedback.definition&&feedback.definition.isCorrect)this.$el.removeClass("c-incorrect"),this.$el.addClass("c-correct");else this.$el.removeClass("c-correct"),this.$el.addClass("c-incorrect");this.$$("correct-answer").hide()},disableInput:function(){this.$$("response").attr("disabled",!0)},enableInput:function(){this.$$("response").attr("disabled",!1)},getResponse:function(){return this.$$("response").val()},serializeResponse:function(){var response=this.getResponse();return{answer:response}},isAnswered:function(){return this.getResponse()&&this.getResponse().trim().length>0},revealAnswer:function(){this.$$("reveal-answer-link").hide(),this.$$("correct-answer").show()},inputChange:function(){var input=this.$$("response").val();this.trigger("change",input)}});return SingleNumericQuestion}),!function(wndw){var jadify=function(jade,_t,_h){var yudify=function template(locals){var buf=[],jade_mixins={},jade_interp,locals_for_with=locals||{};return function(instance,optionTemplate){if(buf.push('<div data-js="user-html"><span class="coursera-assess-question-sparkSurveyOption-prompt-ab-test">'+(null==(jade_interp=instance.variant.definition.prompt)?"":jade_interp)+"</span></div>"),"Full"==instance.variant.detailLevel)buf.push('<div class="coursera-assess-question-sparkSurveyOption-option-container-ab-test">'),function(){var $$obj=instance.variant.definition.options;if("number"==typeof $$obj.length)for(var $index=0,$$l=$$obj.length;$$l>$index;$index++){var option=$$obj[$index];buf.push('<div data-option="data-option" class="coursera-assess-question-sparkSurveyOption-option-ab-test">'+(null==(jade_interp=optionTemplate({option:option,instanceId:instance.id}))?"":jade_interp)+"</div>")}else{var $$l=0;for(var $index in $$obj){$$l++;var option=$$obj[$index];buf.push('<div data-option="data-option" class="coursera-assess-question-sparkSurveyOption-option-ab-test">'+(null==(jade_interp=optionTemplate({option:option,instanceId:instance.id}))?"":jade_interp)+"</div>")}}}.call(this),buf.push("</div>");if(this.hasButton)buf.push('<button disabled="disabled" class="btn-flat btn-flat-primary coursera-assess-question-sparkSurveyOption-button">Submit</button>')}.call(this,"instance"in locals_for_with?locals_for_with.instance:"undefined"!=typeof instance?instance:void 0,"optionTemplate"in locals_for_with?locals_for_with.optionTemplate:"undefined"!=typeof optionTemplate?optionTemplate:void 0),buf.join("")};return yudify};if("function"==typeof define&&define.amd)define("bundles/assess/questionTypes/sparkSurveyOption/student/template2.html",["js/vendor/jade"],function(jade){var _t,_h;return jadify(jade,_t,_h)});else wndw.jade.templates["bundles.assess.questionTypes.sparkSurveyOption.student.template2"]=jadify(wndw.jade.helpers)}(window),!function(wndw){var jadify=function(jade,_t,_h){var yudify=function template(locals){var buf=[],jade_mixins={},jade_interp,locals_for_with=locals||{};return function(prompt,options,isIdChosen,myResponseChosenId){buf.push('<div data-js="user-html" class="coursera-assess-question-sparkSurveyOption-prompt">'+(null==(jade_interp=prompt)?"":jade_interp)+'</div><div class="coursera-assess-question-sparkSurveyOption-option-container">'),function(){var $$obj=options;if("number"==typeof $$obj.length)for(var $index=0,$$l=$$obj.length;$$l>$index;$index++){var option=$$obj[$index],extraClass="";if(isIdChosen(myResponseChosenId,option.id))extraClass="coursera-assess-question-pollBase-feedback-option-chosen";var choice=option.display.toLowerCase();switch(choice){case"yes":extraClass+=" coursera-assess-question-sparkSurveyOption-color-yes";break;case"maybe":extraClass+=" coursera-assess-question-sparkSurveyOption-color-maybe";break;case"no":extraClass+=" coursera-assess-question-sparkSurveyOption-color-no"}var percent=(100*option.fraction).toString()+"%",barStyle="height:"+percent+";";buf.push('<div class="coursera-assess-question-sparkSurveyOption-feedback-option"><div class="coursera-assess-question-sparkSurveyOption-feedback-bar-box"><div'+jade.attr("style",barStyle,!0,!1)+jade.cls(["coursera-assess-question-sparkSurveyOption-feedback-bar",extraClass],[null,!0])+'></div></div><div data-js="user-html" class="coursera-assess-question-sparkSurveyOption-feedback-text">'+(null==(jade_interp=option.display)?"":jade_interp)+"</div></div>")}else{var $$l=0;for(var $index in $$obj){$$l++;var option=$$obj[$index],extraClass="";if(isIdChosen(myResponseChosenId,option.id))extraClass="coursera-assess-question-pollBase-feedback-option-chosen";var choice=option.display.toLowerCase();
switch(choice){case"yes":extraClass+=" coursera-assess-question-sparkSurveyOption-color-yes";break;case"maybe":extraClass+=" coursera-assess-question-sparkSurveyOption-color-maybe";break;case"no":extraClass+=" coursera-assess-question-sparkSurveyOption-color-no"}var percent=(100*option.fraction).toString()+"%",barStyle="height:"+percent+";";buf.push('<div class="coursera-assess-question-sparkSurveyOption-feedback-option"><div class="coursera-assess-question-sparkSurveyOption-feedback-bar-box"><div'+jade.attr("style",barStyle,!0,!1)+jade.cls(["coursera-assess-question-sparkSurveyOption-feedback-bar",extraClass],[null,!0])+'></div></div><div data-js="user-html" class="coursera-assess-question-sparkSurveyOption-feedback-text">'+(null==(jade_interp=option.display)?"":jade_interp)+"</div></div>")}}}.call(this),buf.push("</div>")}.call(this,"prompt"in locals_for_with?locals_for_with.prompt:"undefined"!=typeof prompt?prompt:void 0,"options"in locals_for_with?locals_for_with.options:"undefined"!=typeof options?options:void 0,"isIdChosen"in locals_for_with?locals_for_with.isIdChosen:"undefined"!=typeof isIdChosen?isIdChosen:void 0,"myResponseChosenId"in locals_for_with?locals_for_with.myResponseChosenId:"undefined"!=typeof myResponseChosenId?myResponseChosenId:void 0),buf.join("")};return yudify};if("function"==typeof define&&define.amd)define("bundles/assess/questionTypes/sparkSurveyOption/student/feedbackTemplate.html",["js/vendor/jade"],function(jade){var _t,_h;return jadify(jade,_t,_h)});else wndw.jade.templates["bundles.assess.questionTypes.sparkSurveyOption.student.feedbackTemplate"]=jadify(wndw.jade.helpers)}(window),!function(wndw){var jadify=function(jade,_t,_h){var yudify=function template(locals){var buf=[],jade_mixins={},jade_interp,locals_for_with=locals||{};return function(instanceId,option){buf.push('<div class="coursera-assess-question-sparkSurveyOption-radio-container-ab-test"><input type="radio"'+jade.attr("name",instanceId,!0,!1)+jade.attr("value",option.id,!0,!1)+' class="coursera-assess-question-sparkSurveyOption-radio-ab-test"/><div data-js="user-html" class="coursera-assess-question-optionBase-option-text-ab-test">'+jade.escape(null==(jade_interp=option.display)?"":jade_interp)+"</div></div>")}.call(this,"instanceId"in locals_for_with?locals_for_with.instanceId:"undefined"!=typeof instanceId?instanceId:void 0,"option"in locals_for_with?locals_for_with.option:"undefined"!=typeof option?option:void 0),buf.join("")};return yudify};if("function"==typeof define&&define.amd)define("bundles/assess/questionTypes/sparkSurveyOption/student/optionTemplate2.html",["js/vendor/jade"],function(jade){var _t,_h;return jadify(jade,_t,_h)});else wndw.jade.templates["bundles.assess.questionTypes.sparkSurveyOption.student.optionTemplate2"]=jadify(wndw.jade.helpers)}(window),define("bundles/assess/questionTypes/sparkSurveyOption/student/view",["underscore","bundles/assess/questionTypes/radioPoll/student/view","bundles/assess/questionTypes/sparkSurveyOption/student/template2.html","bundles/assess/questionTypes/sparkSurveyOption/student/feedbackTemplate.html","bundles/assess/questionTypes/sparkSurveyOption/student/optionTemplate2.html","js/lib/util","js/lib/coursera.ab"],function(_,RadioPollView,template,feedbackTemplate,optionTemplate,util,AB){var SparkSurveyOption=RadioPollView.extend({feedbackTemplate:feedbackTemplate,template:template,optionTemplate:optionTemplate,headerTemplate:null,className:RadioPollView.prototype.className+" coursera-assess-question-spark-survey",initialize:function(options){this.options=options||{};var buttonVariant=AB.user.getExperiment("in_class_qqs_button").getChosenVariant();this.hasButton="button"==buttonVariant,this.hasButton=!1},supportedStyles:["coursera-assess-style-question-default","coursera-assess-style-question-spark-survey"],events:{"click .coursera-assess-question-optionBase-option-input":"clickOptionButton","click .coursera-assess-question-sparkSurveyOption-radio-ab-test":"clickOptionButtonABTest","click button.coursera-assess-question-sparkSurveyOption-button":"clickOptionButton"},clickOptionButtonABTest:function(){if(this.hasButton)this.$(".coursera-assess-question-sparkSurveyOption-button").prop("disabled",!1);else this.trigger("submit")},clickOptionButton:function(){this.trigger("submit")}});return SparkSurveyOption}),define("bundles/assess/questionTypes/allStudentTypes",["bundles/assess/questionTypes/checkbox/student/view","bundles/assess/questionTypes/checkboxPoll/student/view","bundles/assess/questionTypes/continue/student/view","bundles/assess/questionTypes/mathExpression/student/view","bundles/assess/questionTypes/mcq/student/view","bundles/assess/questionTypes/optionBase/student/view","bundles/assess/questionTypes/radioPoll/student/view","bundles/assess/questionTypes/reflect/student/view","bundles/assess/questionTypes/regex/student/view","bundles/assess/questionTypes/shortanswer/student/view","bundles/assess/questionTypes/singleNumeric/student/view","bundles/assess/questionTypes/sparkSurveyOption/student/view"],function(Checkbox,CheckboxPoll,Continue,MathExpression,Mcq,OptionBase,RadioPoll,Reflective,RegexQuestion,ShortAnswer,SingleNumeric,SparkSurveyOption){return{checkbox:{QuestionView:Checkbox},checkboxPoll:{QuestionView:CheckboxPoll},"continue":{QuestionView:Continue},mathExpression:{QuestionView:MathExpression},mcq:{QuestionView:Mcq},optionBase:{QuestionView:OptionBase},poll:{QuestionView:RadioPoll},reflect:{QuestionView:Reflective},regex:{QuestionView:RegexQuestion},singleNumeric:{QuestionView:SingleNumeric},textExactMatch:{QuestionView:ShortAnswer},sparkSurveyPoll:{QuestionView:SparkSurveyOption}}}),define("bundles/assess/lib/constants",{defaultUserHtmlClass:"coursera-assess-user",legacyUserHtmlClass:"coursera-assess-user-legacy",htmlGuideLink:"https://instructor-support.desk.com/customer/portal/articles/1441676#html"}),define("bundles/assess/framework/QuestionController",["backbone","underscore","js/lib/coursera.mathjax","bundles/assess/questionTypes/allStudentTypes","bundles/assess/lib/constants"],function(Backbone,_,courseraMathjax,allStudentTypes,constants){var QuestionController=Backbone.View.extend({_initQuestionView:function(){if(this.questionView)this.$el.empty(),this.questionView=null;var typeId=this.model.get("question").type;if(void 0!==this.options.typeId&&null!==this.options.typeId)typeId=this.options.typeId;var type=this.options.allStudentTypes[typeId];if(this.questionView=new type.QuestionView({instance:this.model.toLocalJson(),index:this.options.index,showFeedbackIcon:this.options.showFeedbackIcon||!1,el:this.el}),this.questionView.className)this.$el.addClass(this.questionView.className);this.questionView.render(),this.$("a").attr("target","_blank"),courseraMathjax.render(this.$el[0]),this.$('[data-js="user-html"]').addClass(this.options.userHtmlClass),this.questionView.on("change",this._handleViewResponseChange,this),this.questionView.on("submit",this.submit,this),this.setModelResponseToViewResponse({reason:"loadfrominitialrender"}),this._handleIsSubmitAllowed()},initialize:function(options){this.options=this.options||options||{},this.options.userHtmlClass=this.options.userHtmlClass||constants.defaultUserHtmlClass,this._disableReasons=[],this.options.allStudentTypes=this.options.allStudentTypes||allStudentTypes,this._initQuestionView(),this.model.on("change",this._handleQuestionModelChange,this)},remove:function(){this.model.off("change",this._handleQuestionModelChange,this),Backbone.View.prototype.remove.call(this)},isAnswered:function(){return this.questionView.isAnswered()},submit:function(){this.setModelResponseToViewResponse({reason:"presubmit"}),this.model.trigger("submit")},setModelResponseToViewResponse:function(options){this.model.set("localResponse",this.questionView.serializeResponse(),options),this.model.set("isAnswered",this.questionView.isAnswered())},_handleViewResponseChange:function(){_.defer(this.setModelResponseToViewResponse.bind(this),{reason:"userinput"})},_handleQuestionModelChange:function(model,options){if(options)if("userinput"===options.reason||"loadfrominitialrender"===options.reason)return;if(model.isInstanceChanged())this._initQuestionView();this._handleIsSubmitAllowed()},_handleIsSubmitAllowed:function(){if(this.model.get("isSubmitAllowed"))this.enableInput("submitNotAllowed");else this.disableInput("submitNotAllowed")},disableInput:function(reason){if(_(reason).isUndefined())reason="unspecified";this._disableReasons.push(reason),this.questionView.disableInput()},enableInput:function(reason){if(_(reason).isUndefined())reason="unspecified";if(this._disableReasons=_(this._disableReasons).without(reason),0===this._disableReasons.length)this.questionView.enableInput()},getSupportedStyles:function(){return this.questionView.supportedStyles}});return QuestionController}),define("bundles/assess/assessmentTypes/survey/assessment",["underscore","jquery","backbone","bundles/assess/assessmentTypes/survey/assessment.html","bundles/assess/assessmentTypes/survey/sessionModel","bundles/assess/framework/QuestionModel","bundles/assess/framework/QuestionController"],function(_,$,Backbone,template,SurveySessionModel,QuestionModel,QuestionController){var Survey=Backbone.View.extend({events:{"click [data-submit]":"submit"},remove:function(){this.model.off("change:state",this.stateChange,this),this.model.off("change:question",this.questionChange,this),Backbone.View.prototype.remove.call(this)},initialize:function(options){this.options=this.options||options||{},this.options.QuestionController=this.options.QuestionController||QuestionController},render:function(){this.$el.html(template()),this.model=this.model||this.options.model||new SurveySessionModel({assessmentId:this.options.assessmentId,classId:this.options.classId}),this.model.options=_(this.model.options||{}).extend({api:this.options.api}),this.model.on("change:state",this.stateChange,this),this.model.on("change:questions",this.questionsChange,this),this.model.fetch(),this.trigger("render")},displayState:function(state){this.$("[data-state]").each(function(){var $el=$(this),elStates=$el.attr("data-state").split(",");if(_(elStates).contains(state))$el.show();else $el.hide()})},stateChange:function(){var state=this.model.get("state");if(this.displayState(state),"submitting"==state)this.disableInputs();else this.enableInputs();if(!_(["nothing","loading"]).contains(state)&&this.options.loadDefer)this.options.loadDefer.resolve("no-more-questions"==state?"hidden":"visible")},questionsChange:function(){_(this.questionControllers).each(function(questionController){questionController.remove()}),this.$("[data-questions-container]").empty(),this.questionControllers=[];var questions=this.model.get("questions");if(null===questions)return;_(questions).each(function(question){var questionController=new this.options.QuestionController({model:question});if(_(questionController.getSupportedStyles()).contains("coursera-assess-style-question-survey"))questionController.$el.addClass("coursera-assess-style-question-survey");else questionController.$el.addClass("coursera-assess-style-question-default");this.questionControllers.push(questionController),this.$("[data-questions-container]").append(questionController.$el)},this)},disableInputs:function(){_(this.questionControllers).each(function(questionController){if(null!==questionController)questionController.disableInput()})},enableInputs:function(){_(this.questionControllers).each(function(questionController){if(null!==questionController)questionController.enableInput()})},submit:function(){return _(this.questionControllers).each(function(questionController){if(null!==questionController)questionController.setModelResponseToViewResponse({reason:"presubmit"})}),this.model.submit()}});return Survey}),define("bundles/assess/assessmentTypes/survey/storiesSessionModel",["bundles/assess/assessmentTypes/survey/sessionModel","underscore","q"],function(SurveySessionModel,_,Q){var StoriesSessionModel=SurveySessionModel.extend({callSessionAction:function(name,argument){return Q(this.options.api.post("stories/class/"+this.get("classId")+"/sessions/"+this.get("sessionId")+"/action/"+name,{data:{argument:argument}})).then(function(data){return data["return"]})},callGetOrCreateSession:function(){return Q(this.options.api.post("stories/class/"+this.get("classId")+"/sessions")).then(function(data){return data.session.id})}});return StoriesSessionModel}),define("pages/accomplishments/common/views/nls/courseBodyInstructorIcon",{}),!function(wndw){var jadify=function(jade,_t,_h){var yudify=function template(locals){var buf=[],jade_mixins={},jade_interp,locals_for_with=locals||{};return function(instructor,_t){if(instructor.shouldDisplay()){buf.push('<div class="c-story-course-instructors-profile">');var style="background-image:url("+instructor.getPhotoUrl()+");";if(buf.push('<div class="c-story-course-instructors-profile-image"><div'+jade.attr("style",style,!0,!1)+' class="c-story-course-instructor-image"></div></div><div class="c-story-course-instructors-info"><div class="c-story-course-instructor-name"><b>'+jade.escape(null==(jade_interp=_t(instructor.getFullName()))?"":jade_interp)+"</b></div>"),instructor.get("title"))buf.push('<div class="c-story-course-instructor-title c-truncate">'+jade.escape(null==(jade_interp=_t(instructor.get("title")))?"":jade_interp)+"</div>");buf.push("</div></div>")}}.call(this,"instructor"in locals_for_with?locals_for_with.instructor:"undefined"!=typeof instructor?instructor:void 0,"_t"in locals_for_with?locals_for_with._t:"undefined"!=typeof _t?_t:void 0),buf.join("")};return function(locals){if(locals)if(locals._t)_t=locals._t.merge(_t);return yudify(locals)}};if("function"==typeof define&&define.amd)define("pages/accomplishments/common/views/courseBodyInstructorIcon.html",["js/vendor/jade","i18n!pages/accomplishments/common/views/nls/courseBodyInstructorIcon"],function(jade,_t){var _h;return jadify(jade,_t,_h)});else wndw.jade.templates["pages.accomplishments.common.views.courseBodyInstructorIcon"]=jadify(wndw.jade.helpers)}(window),define("pages/accomplishments/common/views/nls/courseStory",{es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}),!function(wndw){var jadify=function(jade,_t,_h){var yudify=function template(locals){var buf=[],jade_mixins={},jade_interp,locals_for_with=locals||{};return function(_t,courseName,hasSingleInstructor,coursePhoto,universityNames){if(buf.push('<div class="c-story-listing bt3-row"><div data-js="story-course-listing" class="c-story-course-listing bt3-col-md-12"><span class="course-label c-font-normal">'+jade.escape(null==(jade_interp=_t(courseName))?"":jade_interp)+'</span><button class="hover-course-label hide">'+jade.escape(null==(jade_interp=_t("Say thanks!"))?"":jade_interp)+'</button></div></div><div data-js="story-course-modal" data-modal-overlay-class="story-course-overlay" class="modal c-story-course-modal hide"><div data-js="story-course-submit-message" class="bt3-alert bt3-alert-info c-story-course-submit-message bt3-hidden">'+jade.escape(null==(jade_interp=_t("You have dismissed the prompt or already submitted a story for this course."))?"":jade_interp)+'<button data-js="story-course-modal-close" class="bt3-btn bt3-btn-primary c-story-course-close">'+jade.escape(null==(jade_interp=_t("Close Window"))?"":jade_interp)+'</button></div><div data-js="story-course-modal-body" class="bt3-row"><div data-js="story-course-modal-left" class="bt3-col-xs-7 c-story-course-modal-left c-font-normal"><h2>'),hasSingleInstructor)buf.push(""+jade.escape(null==(jade_interp=_t("Write a note to your instructor."))?"":jade_interp));else buf.push(""+jade.escape(null==(jade_interp=_t("Write a note to your instructors."))?"":jade_interp));buf.push('</h2><div data-js="story-course-question" class="c-story-course-question"></div><div data-js="story-course-submit-warn" class="alert alert-danger c-story-course-submit-warn hide">'+jade.escape(null==(jade_interp=_t("Please enter a message or press Cancel"))?"":jade_interp)+'</div><div class="c-below-response-text"><div data-js="story-course-button-container" class="c-story-course-button-container"><a data-js="stories-question-cancel" class="c-story-course-question-cancel">'+jade.escape(null==(jade_interp=_t("Cancel"))?"":jade_interp)+'</a><button data-js="story-course-submit-button" data-submit="data-submit" data-state="question,submit-error" disabled="disabled" class="c-story-course-submit-button bt3-btn bt3-btn-primary">'+jade.escape(null==(jade_interp=_t("Submit"))?"":jade_interp)+'</button></div><form method="post"><input type="hidden" name="questionsSubmitted" value="no" class="was-submitted"/></form></div><div class="c-story-course-help-text"><b>'+jade.escape(null==(jade_interp=_t("Need help in solving a technical issue?"))?"":jade_interp)+"</b><p>"+(null==(jade_interp=_t('Talk to our support team <a href="https://courserahelp.zendesk.com/hc/en-us/requests/new?ticket_form_id=19009">here</a> instead.'))?"":jade_interp)+'</p></div></div><div data-js="story-course-modal-right" class="c-story-course-modal-right bt3-col-xs-5"><div data-js="story-course-instructors" class="c-story-course-instructors"></div><img'+jade.attr("src",coursePhoto,!0,!1)+' class="c-story-course-listing-icon"/><div class="c-story-course-question-label"><b>'+jade.escape(null==(jade_interp=_t(courseName))?"":jade_interp)+"</b></div><div>"+jade.escape(null==(jade_interp=_t(universityNames))?"":jade_interp)+"</div></div></div></div>")}.call(this,"_t"in locals_for_with?locals_for_with._t:"undefined"!=typeof _t?_t:void 0,"courseName"in locals_for_with?locals_for_with.courseName:"undefined"!=typeof courseName?courseName:void 0,"hasSingleInstructor"in locals_for_with?locals_for_with.hasSingleInstructor:"undefined"!=typeof hasSingleInstructor?hasSingleInstructor:void 0,"coursePhoto"in locals_for_with?locals_for_with.coursePhoto:"undefined"!=typeof coursePhoto?coursePhoto:void 0,"universityNames"in locals_for_with?locals_for_with.universityNames:"undefined"!=typeof universityNames?universityNames:void 0),buf.join("")};return function(locals){if(locals)if(locals._t)_t=locals._t.merge(_t);return yudify(locals)}};if("function"==typeof define&&define.amd)define("pages/accomplishments/common/views/courseStory.html",["js/vendor/jade","i18n!pages/accomplishments/common/views/nls/courseStory"],function(jade,_t){var _h;return jadify(jade,_t,_h)});else wndw.jade.templates["pages.accomplishments.common.views.courseStory"]=jadify(wndw.jade.helpers)}(window),define("pages/accomplishments/common/views/nls/courseStoryQuestion",{es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}),!function(wndw){var jadify=function(jade,_t,_h){var yudify=function template(locals){var buf=[],jade_mixins={},jade_interp,locals_for_with=locals||{};return function(_t){buf.push("<p>"+jade.escape(null==(jade_interp=_t("Some tips:"))?"":jade_interp)+"</p><ul><li>"+jade.escape(null==(jade_interp=_t("Tell your instructor about yourself."))?"":jade_interp)+"</li><li>"+jade.escape(null==(jade_interp=_t("Why did you take the course?  How has it helped you?"))?"":jade_interp)+"</li><li>"+jade.escape(null==(jade_interp=_t("What did you love about the course?  Tell them!"))?"":jade_interp)+"</li></ul>")}.call(this,"_t"in locals_for_with?locals_for_with._t:"undefined"!=typeof _t?_t:void 0),buf.join("")};return function(locals){if(locals)if(locals._t)_t=locals._t.merge(_t);return yudify(locals)}};if("function"==typeof define&&define.amd)define("pages/accomplishments/common/views/courseStoryQuestion.html",["js/vendor/jade","i18n!pages/accomplishments/common/views/nls/courseStoryQuestion"],function(jade,_t){var _h;return jadify(jade,_t,_h)});else wndw.jade.templates["pages.accomplishments.common.views.courseStoryQuestion"]=jadify(wndw.jade.helpers)}(window),define("pages/assess/app",["js/lib/coursera"],function(Coursera){return Coursera}),define("js/lib/asyncMessages",["jquery","underscore","js/lib/cookie","backbone"],function($,_,cookie,Backbone){var _private={defaults:{selector:null},defaults_item:{timeout:0},item_remove:function(item){var index=_.indexOf(this.stack,item.options.id);if(-1!=index){this.stack.splice(index,1);for(var _event in item.options.events)item.$ele.off(_event+".asyncMessage");item.$ele.remove()}delete this.items[item.options.id]},item_show:function(item){var that=this;if(this.stack.length){var previous=this.items[this.stack[0]];if(previous)previous.$ele.remove()}if(this.$container.append(item.$ele),this.trigger("showing",item.$ele),this.$container.show(),this.stack.unshift(item.options.id),this.trigger("show",item),item.options.timeout)setTimeout(function(){that.trigger("hiding",item),that.remove(item.options.id),that.trigger("hide",item)},item.options.timeout);for(var _event in item.options.events)item.$ele.on(_event+".asyncMessage",function(e){item.options.events[_event].call(that,e,item)})}},asyncMessage=function(ele,options){this.options=$.extend({},_private.defaults,options),this.$ele=$(ele||$("<div>").appendTo("body")),this.$container=this.options.selector?this.$ele.find(this.options.selector):this.$ele,this.stack=[],this.items={}};return asyncMessage.prototype.add=function(ele,_options){var $item=$(ele),options=$.extend({},_private.defaults_item,_options),that=this;if(options.id=options.id||_.uniqueId(),_.has(this.items,options.id))return options.id;this.items[options.id]={$ele:$item,options:options,timer:null};var show=function(){if(!that.stack.length)that.trigger("opening");if(_private.item_show.call(that,that.items[options.id]),1==that.stack.length)that.trigger("open")};if(options.delay)this.items[options.id].timer=setTimeout(show,options.delay);else show();return options.id},asyncMessage.prototype.remove=function(id){var item=this.items[id];if(item)if(clearTimeout(item.timer),1==this.stack.length)this.trigger("closing"),_private.item_remove.call(this,item),this.$container.hide(),this.trigger("close");else{if(this.stack.length){var toShow=this.items[this.stack.shift()];if(toShow)_private.item_show.call(this,toShow)}_private.item_remove.call(this,item)}},_.extend(asyncMessage.prototype,Backbone.Events),{create:function(ele,options){return new asyncMessage(ele,options)}}}),define("pages/assess/message",["jquery","js/lib/asyncMessages"],function($,asyncMessages){var $message=$("<div>").appendTo("body").addClass("coursera-assess-message");return asyncMessages.create($message)}),define("pages/assess/assessApi",["js/lib/api","pages/assess/app","pages/assess/message"],function(API,AssessApp,message){var api=API("/api/assess/v1/",{message:message,type:"rest"});return api.on("always",function(apiEvent){var xhr=apiEvent.xhr,url=apiEvent.url;if(xhr.status>=400)AssessApp.multitracker.push(["api.error."+xhr.status,{timing:apiEvent.timing,url:url,status:xhr.status,response:xhr.responseText}]);else AssessApp.multitracker.push(["api.ok."+xhr.status,{timing:apiEvent.timing,url:url,status:xhr.status}])}),api}),define("pages/accomplishments/common/views/courseStory",["require","jquery","q","bundles/assess/assessmentTypes/survey/assessment","bundles/assess/assessmentTypes/survey/storiesSessionModel","bundles/phoenix/lib/view","bundles/phoenix/lib/multitrackerMixin","js/lib/coursera.ab","js/lib/modals","pages/accomplishments/common/views/courseBodyInstructorIcon.html","pages/accomplishments/common/views/courseStory.html","pages/accomplishments/common/views/courseStoryQuestion.html","pages/accomplishments/constants","pages/assess/assessApi"],function(require){var $=require("jquery"),Q=require("q"),AssessmentView=require("bundles/assess/assessmentTypes/survey/assessment"),StoriesSessionModel=require("bundles/assess/assessmentTypes/survey/storiesSessionModel"),PhoenixView=require("bundles/phoenix/lib/view"),MultitrackerMixin=require("bundles/phoenix/lib/multitrackerMixin"),AB=require("js/lib/coursera.ab"),Modal=require("js/lib/modals"),InstructorIconTemplate=require("pages/accomplishments/common/views/courseBodyInstructorIcon.html"),template=require("pages/accomplishments/common/views/courseStory.html"),courseStoryQuestionTemplate=require("pages/accomplishments/common/views/courseStoryQuestion.html"),Constants=require("pages/accomplishments/constants"),assessApi=require("pages/assess/assessApi"),CourseStory=PhoenixView.extend({multitracker:{namespace:"accomplishments.courseStory",baseValues:["courseId","courseName"],definitions:{courseId:function(){return this.courseId},courseName:function(){return this.courseName}}},name:"courseStory",template:template,charactersTyped:!1,events:{'click [data-js~="story-course-submit-button"]':"submitQuestion",'click [data-js~="stories-question-cancel"]':"applyCancelButtonEffects",'click [data-js~="story-course-modal-close"]':"closeModal",'click [data-js~="story-course-listing"]':"storyCourseClickConversion"},initialize:function(options){this.course=options.course,this.enrollment=options.enrollment,this.suppliedCourseId=options.suppliedCourseId,this.instructors=this.course.get("instructors"),this.courseId=this.enrollment.get("course_id"),this.courseName=this.course.get("name"),this.assessmentViewLoadDefer=Q.defer(),this.assessmentView=new AssessmentView({model:new StoriesSessionModel({classId:this.courseId}),api:assessApi,loadDefer:this.assessmentViewLoadDefer})},render:function(){var hasSingleInstructor=this.instructors.length<=1;return this.$el.html(this.template({course:this.course,courseId:this.courseId,courseName:this.courseName,hasSingleInstructor:hasSingleInstructor,coursePhoto:this.course.get("photo"),universityNames:this.course.get("partners").getNamesString()})),this.assessmentViewLoadDefer.promise.then(function(state){if("visible"==state){if(this.setTipsSubheader(),this.addInstructors(),this.instructors.length<=1)this.setPlaceholderText("Let your instructor know how this course helped you.");else this.setPlaceholderText("Let your instructors know how this course helped you.");if(this.$(".coursera-assess-question-reflective-answer-input").keyup(function(){this.charactersTypedConversion(),this.checkInput()}.bind(this)),this.trigger("showed"),this.suppliedCourseId===this.courseId)this.openModal()}else this.$$("story-course-submit-message").removeClass("bt3-hidden"),this.$$("story-course-listing").addClass("bt3-hidden"),this.trigger("notShowed")}.bind(this)).done(),this.assessmentView.render(),this.$$("story-course-question").append(this.assessmentView.$el),this},setTipsSubheader:function(){this.$(".coursera-assess-question-reflective-prompt").html(courseStoryQuestionTemplate()),this.setPlaceholderText("Write your note here.")},setPlaceholderText:function(text){this.$(".coursera-assess-question-reflective-answer-input").attr("placeholder",text)},addInstructors:function(){this.instructors.each(function(inst){var instructorTemplate=InstructorIconTemplate({config:Constants.config,instructor:inst});this.$$("story-course-instructors").append(instructorTemplate)}.bind(this))},submitQuestion:function(){if(this.userHasEnteredCharacters())this.submitQuestionClickConversion(),this.assessmentView.submit().then(function(){this.applySubmitEffects(),this.closeModal(),this.trigger("questionSubmitted")}.bind(this),function(err){this.track("eocs_submission_failed"),console.error("Question submission failed!")}.bind(this)).done();else this.displayEmptyResponseErrorMessage()},displayEmptyResponseErrorMessage:function(){this.$$("story-course-submit-warn").show()},checkInput:function(){this.$$("story-course-submit-button").prop("disabled",!this.userHasEnteredCharacters())},applySubmitEffects:function(){this.$$("story-course-button-container").hide()},applyCancelButtonEffects:function(){this.closeModal(),this.cancelClickConversion()},openModal:function(){Modal(this.$$("story-course-modal")).open()},closeModal:function(){this.$$("story-course-submit-warn").hide(),Modal(this.$$("story-course-modal")).close()},userHasEnteredCharacters:function(){var textboxContents=this.$(".coursera-assess-question-reflective-answer-input").val();return textboxContents=$.trim(textboxContents),textboxContents.length>0},storyCourseClickConversion:function(){this.openModal(),AB.user.getExperiment("new_records_page_eocs_banner").convert("eocs_story_click")},cancelClickConversion:function(){AB.user.getExperiment("new_records_page_eocs_banner").convert("eocs_cancel_click")},submitQuestionClickConversion:function(){AB.user.getExperiment("new_records_page_eocs_banner").convert("eocs_submit_story_click")},charactersTypedConversion:function(){if(!this.charactersTyped)AB.user.getExperiment("new_records_page_eocs_banner").convert("eocs_type_characters");this.charactersTyped=!0}});return CourseStory.extend(MultitrackerMixin)}),define("pages/accomplishments/common/views/nls/courseStoryList",{es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}),!function(wndw){var jadify=function(jade,_t,_h){var yudify=function template(locals){var buf=[],jade_mixins={},jade_interp,locals_for_with=locals||{};return function(_t){buf.push('<div data-js="course-stories-body" class="c-story-course-body bt3-row"><div data-js="story-course-submitted-bar" class="c-story-course-submitted-bar bt3-alert bt3-alert-success bt3-hidden bt3-col-md-12"><b>'+jade.escape(null==(jade_interp=_t("Thanks!"))?"":jade_interp)+"</b> "+jade.escape(null==(jade_interp=_t("We appreciate the time you took to write this note."))?"":jade_interp)+'</div><div class="c-story-course-container"><div data-js="story-list-header" class="c-story-course-list-header bt3-col-md-12"><b class="liked c-font-light">'+jade.escape(null==(jade_interp=_t("Liked these courses?"))?"":jade_interp)+'</b><span class="thanks c-font-extralight"> '+jade.escape(null==(jade_interp=_t("Say thanks to your instructors!"))?"":jade_interp)+'</span><em data-js="toggle-story-down" class="fa fa-caret-down c-story-course-toggle"></em><em data-js="toggle-story-up" class="fa fa-caret-up c-story-course-toggle bt3-hidden"></em></div><div data-js="course-story-list" class="c-story-course-list bt3-col-md-12"></div></div></div>')}.call(this,"_t"in locals_for_with?locals_for_with._t:"undefined"!=typeof _t?_t:void 0),buf.join("")};return function(locals){if(locals)if(locals._t)_t=locals._t.merge(_t);return yudify(locals)}};if("function"==typeof define&&define.amd)define("pages/accomplishments/common/views/courseStoryList.html",["js/vendor/jade","i18n!pages/accomplishments/common/views/nls/courseStoryList"],function(jade,_t){var _h;return jadify(jade,_t,_h)});else wndw.jade.templates["pages.accomplishments.common.views.courseStoryList"]=jadify(wndw.jade.helpers)}(window),define("pages/accomplishments/common/views/courseStoryList",["require","origami","underscore","bundles/phoenix/lib/view","js/lib/coursera.ab","pages/accomplishments/common/views/courseStory","pages/accomplishments/common/views/courseStoryList.html"],function(require){var origami=require("origami"),_=require("underscore"),PhoenixView=require("bundles/phoenix/lib/view"),AB=require("js/lib/coursera.ab"),CourseStory=require("pages/accomplishments/common/views/courseStory"),template=require("pages/accomplishments/common/views/courseStoryList.html"),CourseStoryList=PhoenixView.extend({name:"courseStoryList",template:template,storiesHidden:0,heardBack:0,events:{'click [data-js~="story-list-header"]':"storyListToggle"},initialize:function(options){this.courses=options.courses,this.enrollments=options.enrollments,this.courseId=parseInt(options.courseId,10),this.enrollmentsToShow=this.enrollments.filter(function(enrollment){return enrollment.courseEnded()&&enrollment.passedCourse()}),this.totalStories=this.enrollmentsToShow.length},render:function(){var matchingStory=_(this.enrollmentsToShow).any(function(enrollment){return enrollment.get("course_id")===this.courseId}.bind(this));this.$el.html(this.template({}));var variant=AB.user.getExperiment("new_records_page_eocs_banner").getChosenVariant();if(this.$$("course-stories-body").hide(),"vertical_list"==variant&&matchingStory)this.renderCourseStories();
return this},renderCourseStories:function(){_.each(this.enrollmentsToShow,this.renderCourseStory,this)},renderCourseStory:function(enrollment){var course=this.courses.get("v1-"+enrollment.getCourseId());if(!course)return;var story=new CourseStory({enrollment:enrollment,course:course,suppliedCourseId:this.courseId});this.listenTo(story,"notShowed",this.onNotShowed.bind(this)),this.listenTo(story,"showed",this.onShowed.bind(this)),this.listenTo(story,"questionSubmitted",this.onQuestionSubmitted.bind(this)),this.$$("course-story-list").append(story.render().$el)},onQuestionSubmitted:function(){this.$$("story-course-submitted-bar").removeClass("bt3-hidden")},onNotShowed:function(){this.heardBack+=1,this.storiesHidden+=1,this.resolveStoryBar()},onShowed:function(){this.heardBack+=1,this.resolveStoryBar()},resolveStoryBar:function(){if(this.heardBack===this.totalStories&&this.totalStories>0)if(this.storiesHidden<this.totalStories)this.$$("course-stories-body").show()},storyListToggle:function(){this.$$("toggle-story-down").toggleClass("bt3-hidden"),this.$$("toggle-story-up").toggleClass("bt3-hidden"),this.$$("course-story-list").toggleClass("bt3-hidden")}});return CourseStoryList}),define("pages/accomplishments/list/viewModels/recordList",["require","backbone"],function(require){var Backbone=require("backbone"),RecordListViewModel=Backbone.Model.extend({defaults:{"other-courses-table-visible":!1,"past-courses-table-visible":!1,"no-certificates-tile-visible":!0,"next-signature-track-tile-visible":!1}});return RecordListViewModel}),define("pages/accomplishments/list/views/nls/body",{es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}),!function(wndw){var jadify=function(jade,_t,_h){var yudify=function template(locals){var buf=[],jade_mixins={},jade_interp,locals_for_with=locals||{};return function(_t,hasSpecializationCertificates,certImageUrl,vcCoursesLink){if(jade_mixins["c-vc-courses-button"]=function(url){var block=this&&this.block,attributes=this&&this.attributes||{};buf.push("<a"+jade.attr("href",url,!0,!1)+' target="_blank" data-js="vc-courses-button" class="c-vc-courses-button bt3-text-center"><span class="c-vc-courses-button-text c-font-normal">'+jade.escape(null==(jade_interp=_t("Browse Courses"))?"":jade_interp)+"</span></a>")},buf.push('<div class="c-accomplishments-list">'),hasSpecializationCertificates)buf.push('<div data-js="specializations-table" class="c-accomplishments-list-specializations c-accomplishments-table bt3-row"><div class="c-accomplishments-table-header bt3-col-md-12"><span class="c-font-bold">'+jade.escape(null==(jade_interp=_t("Specializations"))?"":jade_interp)+'</span><em class="c-accomplishments-table-header-secondary-text">'+jade.escape(null==(jade_interp=_t("A specialization is a targeted sequence of course with a capstone project"))?"":jade_interp)+'</em></div><div class="c-accomplishments-table-body bt3-col-md-12"><div data-js="specializations-container" class="c-accomplishments-specializations-container"></div></div></div>');buf.push('<div class="c-accomplishments-list-main c-accomplishments-table bt3-row"><div class="c-accomplishments-table-header c-font-bold bt3-col-md-12">'+jade.escape(null==(jade_interp=_t("Verified Certificates"))?"":jade_interp)+'</div><div class="c-accomplishments-table-body bt3-col-md-12"><div class="bt3-row"><div data-js="records-container" class="c-accomplishments-records-container"></div><div data-js="no-certificates-tile" class="c-accomplishments-record-tile bt3-col-lg-3 bt3-col-md-4 bt3-col-sm-4 bt3-col-xs-6"><div class="c-accomplishments-certificate-image-container c-accomplishments-certificate-image-inactive-container"><img'+jade.attr("src",certImageUrl,!0,!1)+' class="c-accomplishments-certificate-image"/></div><div class="c-accomplishments-record-tile-text"><div class="c-font-normal">'+jade.escape(null==(jade_interp=_t("Earn your first Verified Certificate"))?"":jade_interp)+"</div><small>"+jade.escape(null==(jade_interp=_t("Get Certified in a new skill."))?"":jade_interp)+'</small></div><div class="c-accomplishments-record-tile-links bt3-row">'),jade_mixins["c-vc-courses-button"](vcCoursesLink),buf.push('</div></div><div data-js="next-signature-track-tile" class="c-accomplishments-record-tile bt3-col-lg-3 bt3-col-md-4 bt3-col-sm-4 bt3-col-xs-6 bt3-hide"><a'+jade.attr("href",vcCoursesLink,!0,!1)+' class="c-accomplishments-certificate-image-container c-accomplishments-certificate-image-inactive-container"><img'+jade.attr("src",certImageUrl,!0,!1)+' class="c-accomplishments-certificate-image"/></a><div class="c-accomplishments-record-tile-text"><small>'+jade.escape(null==(jade_interp=_t("Keep up the learning"))?"":jade_interp)+'<div class="c-accomplishments-record-tile-earn-link"><a'+jade.attr("href",vcCoursesLink,!0,!1)+' target="_blank" data-js="earn-next-certificate" class="c-font-bold">'+(null==(jade_interp=_t("Earn Your Next Certificate &nbsp;"))?"":jade_interp)+'<span class="fa fa-chevron-right"></span></a></div></small></div></div></div></div></div><div data-js="course-stories"></div><div data-js="other-courses-table" class="c-accomplishments-list-other c-accomplishments-table bt3-row bt3-hide"><div class="c-accomplishments-table-header c-font-bold bt3-col-md-12">'+jade.escape(null==(jade_interp=_t("Other Completed Courses"))?"":jade_interp)+'</div><div class="c-accomplishments-table-body bt3-col-md-12"><div data-js="other-courses-container" class="c-accomplishments-other-courses-container"></div></div></div><div data-js="past-courses-table" class="c-accomplishments-list-past-courses c-accomplishments-table bt3-row bt3-hide"><div class="c-accomplishments-table-body bt3-col-md-12"><div class="bt3-row"><div class="bt3-col-md-12 c-accomplishments-list-past-courses-text"><div class="bt3-pull-left">'+jade.escape(null==(jade_interp=_t("Don't see all of your courses listed? You may have enrolled in courses without successfully completing them."))?"":jade_interp)+'</div><div class="bt3-pull-right"><div data-js="show-past-courses-button" class="c-font-normal bt3-btn-link">'+jade.escape(null==(jade_interp=_t("Show All Past Courses"))?"":jade_interp)+'</div><div data-js="hide-past-courses-button" class="c-font-normal bt3-btn-link bt3-hide">'+jade.escape(null==(jade_interp=_t("Hide All Past Courses"))?"":jade_interp)+'</div></div></div></div><div data-js="past-courses-container" class="c-accomplishments-list-past-courses-container bt3-hide"></div></div></div></div>')}.call(this,"_t"in locals_for_with?locals_for_with._t:"undefined"!=typeof _t?_t:void 0,"hasSpecializationCertificates"in locals_for_with?locals_for_with.hasSpecializationCertificates:"undefined"!=typeof hasSpecializationCertificates?hasSpecializationCertificates:void 0,"certImageUrl"in locals_for_with?locals_for_with.certImageUrl:"undefined"!=typeof certImageUrl?certImageUrl:void 0,"vcCoursesLink"in locals_for_with?locals_for_with.vcCoursesLink:"undefined"!=typeof vcCoursesLink?vcCoursesLink:void 0),buf.join("")};return function(locals){if(locals)if(locals._t)_t=locals._t.merge(_t);return yudify(locals)}};if("function"==typeof define&&define.amd)define("pages/accomplishments/list/views/body.html",["js/vendor/jade","i18n!pages/accomplishments/list/views/nls/body"],function(jade,_t){var _h;return jadify(jade,_t,_h)});else wndw.jade.templates["pages.accomplishments.list.views.body"]=jadify(wndw.jade.helpers)}(window),define("pages/accomplishments/common/lib/linkedIn",["require","pages/accomplishments/constants","js/lib/uri"],function(require){function courseTrackingId(courseShortName){return"Eml-prof-csra-"+courseShortName+"-os"}function specializationTrackingId(specializationShortName){return"Eml-prof-csraspec-"+specializationShortName+"-t"}function generateUrl(trackingId,certName,authorityId,licenseNo,url,date){var linkedinUrl=new URI("http://www.linkedin.com/profile/guided").addQueryParam("startTask","CERTIFICATION_NAME").addQueryParam("force","true").addQueryParam("pfCertificationName",certName).addQueryParam("_mSplash",1).addQueryParam("pfCertStartDate",date&&date.format("YYYYMM")).addQueryParam("trk",trackingId).addQueryParam("pfAuthorityId",authorityId).addQueryParam("pfCertificationUrl",url);if(licenseNo)linkedinUrl=linkedinUrl.addQueryParam("pfLicenseNo",licenseNo);return linkedinUrl.toString()}var linkedin=require("pages/accomplishments/constants").linkedin,URI=require("js/lib/uri");return{courseUrl:function(course,enrollment){var sessions=course&&course.get("details.sessions"),session=sessions&&sessions.get(enrollment.getSessionId()),date=session&&session.getEndMoment();if(enrollment.isEligibleForVC())return generateUrl(courseTrackingId(course.get("slug")),course.get("name"),linkedin.COURSERA_ST_ID,enrollment.getVerifiedCertificateId(),enrollment.getSharedVerifyLink(),date);else if(enrollment.passedACE()||enrollment.isEligibleForSoA())return generateUrl(courseTrackingId(course.get("slug")),course.get("name"),linkedin.COURSERA_ID,null,course.getFullLink(),date)},courseUrlWithMembership:function(membership){var course=membership.get("course"),session=membership.get("session"),date=session&&session.getEndMoment();if(membership.hasVerifiedCertificate())return generateUrl(courseTrackingId(course.get("slug")),course.get("name"),linkedin.COURSERA_ST_ID,membership.get("vcMembership.certificateCode"),membership.getFullRecordsLink(),date)},specializationUrl:function(specializationMembership){var specialization=specializationMembership.get("specialization");return generateUrl(specializationTrackingId(specialization.get("shortName")),specialization.get("name")+" Specialization",linkedin.SPECIALIZATION_ID,specializationMembership.getCertificateCode(),specializationMembership.getFullRecordsLink(),specializationMembership.getCompletionDate())}}}),define("pages/accomplishments/list/views/nls/courseListing",{es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}),!function(wndw){var jadify=function(jade,_t,_h){var yudify=function template(locals){var buf=[],jade_mixins={},jade_interp,locals_for_with=locals||{};return function(_t,course,universityNames,enrollment,linkedinUrl){if(jade_mixins["c-linkedin-button"]=function(url){var block=this&&this.block,attributes=this&&this.attributes||{};buf.push("<a"+jade.attr("href",url,!0,!1)+' target="_blank" data-js="linkedin-button" class="c-linkedin-button bt3-text-center"><span class="c-linkedin-button-icon fa fa-linkedin-square"></span>&nbsp;&nbsp;<span class="c-linkedin-button-text c-font-normal">'+jade.escape(null==(jade_interp=_t("Add to Profile"))?"":jade_interp)+"</span></a>")},buf.push('<div data-js="other-record" class="c-accomplishments-list-other-record bt3-row"><div class="bt3-col-sm-5"><a'+jade.attr("href",course.getLink(),!0,!1)+' data-js="course-listing-course-link" target="_blank" class="c-accomplishments-list-other-record-course-link">'+jade.escape(null==(jade_interp=_t(course.get("name")))?"":jade_interp)+'</a></div><div class="bt3-col-sm-3">'+jade.escape(null==(jade_interp=_t(universityNames))?"":jade_interp)+'</div><div class="c-accomplishments-list-other-record-links bt3-col-sm-4">'+jade.escape(null==(jade_interp=_t("Grade Achieved: #{enrollment.getGradePercentString()}%",{"enrollment.getGradePercentString()":enrollment.getGradePercentString()}))?"":jade_interp)),enrollment.isDistinction())buf.push("<em> "+jade.escape(null==(jade_interp=_t("with Distinction"))?"":jade_interp)+"</em>");if(enrollment.isEligibleForSoA())if(buf.push("<div><a"+jade.attr("href",enrollment.getSOALink(),!0,!1)+' data-js="soa-link" target="_blank">'+jade.escape(null==(jade_interp=_t("View Statement of Accomplishment"))?"":jade_interp)+"</a></div>"),linkedinUrl)jade_mixins["c-linkedin-button"](linkedinUrl);buf.push("</div></div>")}.call(this,"_t"in locals_for_with?locals_for_with._t:"undefined"!=typeof _t?_t:void 0,"course"in locals_for_with?locals_for_with.course:"undefined"!=typeof course?course:void 0,"universityNames"in locals_for_with?locals_for_with.universityNames:"undefined"!=typeof universityNames?universityNames:void 0,"enrollment"in locals_for_with?locals_for_with.enrollment:"undefined"!=typeof enrollment?enrollment:void 0,"linkedinUrl"in locals_for_with?locals_for_with.linkedinUrl:"undefined"!=typeof linkedinUrl?linkedinUrl:void 0),buf.join("")};return function(locals){if(locals)if(locals._t)_t=locals._t.merge(_t);return yudify(locals)}};if("function"==typeof define&&define.amd)define("pages/accomplishments/list/views/courseListing.html",["js/vendor/jade","i18n!pages/accomplishments/list/views/nls/courseListing"],function(jade,_t){var _h;return jadify(jade,_t,_h)});else wndw.jade.templates["pages.accomplishments.list.views.courseListing"]=jadify(wndw.jade.helpers)}(window),define("pages/accomplishments/list/views/courseListing",["require","bundles/phoenix/lib/view","pages/accomplishments/common/lib/linkedIn","pages/accomplishments/list/views/courseListing.html"],function(require){var PhoenixView=require("bundles/phoenix/lib/view"),linkedIn=require("pages/accomplishments/common/lib/linkedIn"),template=require("pages/accomplishments/list/views/courseListing.html"),CourseListing=PhoenixView.extend({template:template,initialize:function(options){this.enrollment=options.enrollment,this.course=options.course},render:function(){return this.$el.html(this.template({course:this.course,enrollment:this.enrollment,universityNames:this.course.get("partners").getNamesString(),linkedinUrl:linkedIn.courseUrl(this.course,this.enrollment)})),this}});return CourseListing}),define("pages/accomplishments/list/views/nls/verifiedCertificateTile",{es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}),!function(wndw){var jadify=function(jade,_t,_h){var yudify=function template(locals){var buf=[],jade_mixins={},jade_interp,locals_for_with=locals||{};return function(_t,recordLink,certImageUrl,courseName,userName,universityLogo,isDistinction,universityNames,gradePercentage,linkedinUrl){if(jade_mixins["c-linkedin-button"]=function(url){var block=this&&this.block,attributes=this&&this.attributes||{};buf.push("<a"+jade.attr("href",url,!0,!1)+' target="_blank" data-js="linkedin-button" class="c-linkedin-button bt3-text-center"><span class="c-linkedin-button-icon fa fa-linkedin-square"></span>&nbsp;&nbsp;<span class="c-linkedin-button-text c-font-normal">'+jade.escape(null==(jade_interp=_t("Add to Profile"))?"":jade_interp)+"</span></a>")},jade_mixins["c-certificate-image"]=function(certImageUrl,courseName,userName,universityLogo,distinction){var block=this&&this.block,attributes=this&&this.attributes||{};if(buf.push("<img"+jade.attr("src",certImageUrl,!0,!1)+' class="c-accomplishments-certificate-image"/><div class="c-certificate-image-details"><img'+jade.attr("src",universityLogo,!0,!1)+' class="c-certificate-image-logo"/><div class="c-certificate-image-text c-font-serif">'+jade.escape(null==(jade_interp=_t(userName))?"":jade_interp)+'</div><div class="c-certificate-image-text c-font-serif c-certificate-image-text-small">'+jade.escape(null==(jade_interp=_t("has successfully completed"))?"":jade_interp)+'</div><div class="c-certificate-image-text c-font-serif">'+jade.escape(null==(jade_interp=_t(courseName))?"":jade_interp)+"</div></div>"),distinction)buf.push('<span class="c-accomplishments-certificate-ribbon c-font-bold">'+jade.escape(null==(jade_interp=_t("Distinction"))?"":jade_interp)+"</span>");if(block)block&&block()},buf.push('<div data-js="accomplishments-record-tile" class="c-accomplishments-record-tile bt3-col-lg-3 bt3-col-md-4 bt3-col-sm-4 bt3-col-xs-6"><a'+jade.attr("href",recordLink,!0,!1)+' data-js="accomplishments-link record-link" class="c-accomplishments-certificate-image-container">'),jade_mixins["c-certificate-image"].call({block:function(){buf.push('<span class="c-accomplishments-certificate-hover c-font-bold c-uppercase"><span class="fa fa-external-link"></span>'+(null==(jade_interp=_t("&nbsp;&nbsp;View Record"))?"":jade_interp)+"</span>")},attributes:{"data-js":"certificate-image"}},certImageUrl,courseName,userName,universityLogo,isDistinction),buf.push('</a><div class="c-accomplishments-record-tile-text"><a'+jade.attr("href",recordLink,!0,!1)+' data-js="vc-tile-course-link" target="_blank" class="c-accomplishments-record-tile-name">'+jade.escape(null==(jade_interp=_t(courseName))?"":jade_interp)+'</a><div class="c-accomplishments-record-tile-university"><small>'+jade.escape(null==(jade_interp=_t(universityNames))?"":jade_interp)+'</small></div><div class="c-accomplishments-record-tile-grade"><small>'+jade.escape(null==(jade_interp=_t("Grade Achieved: #{gradePercentage}%",{gradePercentage:gradePercentage}))?"":jade_interp)+'</small></div></div><div class="c-accomplishments-record-tile-links bt3-row">'),linkedinUrl)jade_mixins["c-linkedin-button"](linkedinUrl);buf.push("</div></div>")}.call(this,"_t"in locals_for_with?locals_for_with._t:"undefined"!=typeof _t?_t:void 0,"recordLink"in locals_for_with?locals_for_with.recordLink:"undefined"!=typeof recordLink?recordLink:void 0,"certImageUrl"in locals_for_with?locals_for_with.certImageUrl:"undefined"!=typeof certImageUrl?certImageUrl:void 0,"courseName"in locals_for_with?locals_for_with.courseName:"undefined"!=typeof courseName?courseName:void 0,"userName"in locals_for_with?locals_for_with.userName:"undefined"!=typeof userName?userName:void 0,"universityLogo"in locals_for_with?locals_for_with.universityLogo:"undefined"!=typeof universityLogo?universityLogo:void 0,"isDistinction"in locals_for_with?locals_for_with.isDistinction:"undefined"!=typeof isDistinction?isDistinction:void 0,"universityNames"in locals_for_with?locals_for_with.universityNames:"undefined"!=typeof universityNames?universityNames:void 0,"gradePercentage"in locals_for_with?locals_for_with.gradePercentage:"undefined"!=typeof gradePercentage?gradePercentage:void 0,"linkedinUrl"in locals_for_with?locals_for_with.linkedinUrl:"undefined"!=typeof linkedinUrl?linkedinUrl:void 0),buf.join("")};return function(locals){if(locals)if(locals._t)_t=locals._t.merge(_t);return yudify(locals)}};if("function"==typeof define&&define.amd)define("pages/accomplishments/list/views/verifiedCertificateTile.html",["js/vendor/jade","i18n!pages/accomplishments/list/views/nls/verifiedCertificateTile"],function(jade,_t){var _h;return jadify(jade,_t,_h)});else wndw.jade.templates["pages.accomplishments.list.views.verifiedCertificateTile"]=jadify(wndw.jade.helpers)}(window),define("pages/accomplishments/list/views/verifiedCertificateTile",["require","bundles/phoenix/lib/view","bundles/phoenix/template/models/userIdentity","js/lib/coursera.ab","pages/accomplishments/common/lib/linkedIn","pages/accomplishments/constants","pages/accomplishments/list/views/verifiedCertificateTile.html"],function(require){var PhoenixView=require("bundles/phoenix/lib/view"),userIdentity=require("bundles/phoenix/template/models/userIdentity"),AB=require("js/lib/coursera.ab"),linkedIn=require("pages/accomplishments/common/lib/linkedIn"),constants=require("pages/accomplishments/constants"),template=require("pages/accomplishments/list/views/verifiedCertificateTile.html"),RecordTile=PhoenixView.extend({template:template,events:{'click [data-js~="linkedin-button"]':"onLinkedInButtonClick",'click [data-js~="record-link"]':"onCertificateClick"},initialize:function(options){this.enrollment=options.enrollment,this.course=options.course},templateOptions:function(){return{certImageUrl:constants.certImageUrl,courseName:this.course.get("name"),isDistinction:this.enrollment.isDistinction(),linkedinUrl:linkedIn.courseUrl(this.course,this.enrollment),recordLink:this.enrollment.getRecordLink(),universityLogo:this.course.getCertLogo(),universityNames:this.course.get("partners").getNamesString(),userName:userIdentity.get("authenticated")?userIdentity.get("full_name"):"Jane Learner",gradePercentage:this.enrollment.getGradePercentString()}},triggerTrackEvent:function(e,eventName){this.trigger("trackEvent",eventName,{courseName:this.course.get("name"),courseId:this.course.get("id"),sessionId:this.enrollment.getSessionId(),achievementLevel:this.enrollment.getAchievementLevel(),grade:this.enrollment.getGrade(),vcIndex:this.$(e.currentTarget).parents('[data-js~="accomplishments-record-tile"]').parent().index()})},onLinkedInButtonClick:function(e){this.triggerTrackEvent(e,"click.addVCToLinkedin"),AB.user.getExperiment("new_records_page_eocs_banner").convert("linkedin_button_click")},onCertificateClick:function(e){this.triggerTrackEvent(e,"click.vcRecord"),AB.user.getExperiment("new_records_page_eocs_banner").convert("certificate_image_click")}});return RecordTile}),define("pages/accomplishments/list/views/nls/specializationTile",{es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}),!function(wndw){var jadify=function(jade,_t,_h){var yudify=function template(locals){var buf=[],jade_mixins={},jade_interp,locals_for_with=locals||{};return function(_t,userIdentity,specializationMembership,certImageUrl,specialization,partnerNames,linkedinUrl){jade_mixins["c-linkedin-button"]=function(url){var block=this&&this.block,attributes=this&&this.attributes||{};buf.push("<a"+jade.attr("href",url,!0,!1)+' target="_blank" data-js="linkedin-button" class="c-linkedin-button bt3-text-center"><span class="c-linkedin-button-icon fa fa-linkedin-square"></span>&nbsp;&nbsp;<span class="c-linkedin-button-text c-font-normal">'+jade.escape(null==(jade_interp=_t("Add to Profile"))?"":jade_interp)+"</span></a>")},jade_mixins["c-spec-certificate-image"]=function(certImageUrl,userName){var block=this&&this.block,attributes=this&&this.attributes||{};if(buf.push("<img"+jade.attr("src",certImageUrl,!0,!1)+' class="c-accomplishments-certificate-image"/><div class="c-certificate-image-details"><div class="c-certificate-image-text c-font-light">'+jade.escape(null==(jade_interp=_t(userName))?"":jade_interp)+"</div></div>"),block)block&&block()};var userName=userIdentity.get("authenticated")?userIdentity.get("full_name"):"Jane Learner";if(buf.push('<div data-js="accomplishments-specialization-tile" class="c-accomplishments-specialization-tile bt3-row"><div class="bt3-col-sm-4"><a'+jade.attr("href",specializationMembership.getRecordsLink(),!0,!1)+' data-js="accomplishments-link specialization-link" class="c-accomplishments-specialization-certificate c-accomplishments-certificate-image-container">'),jade_mixins["c-spec-certificate-image"].call({block:function(){buf.push('<span class="c-accomplishments-certificate-hover c-font-bold c-uppercase"><span class="fa fa-external-link"></span>'+(null==(jade_interp=_t("&nbsp;&nbsp;View Record"))?"":jade_interp)+"</span>")},attributes:{"data-js":"certificate-image"}},certImageUrl,userName),buf.push('</a></div><div class="c-accomplishments-specialization-tile-text bt3-col-sm-8"><a'+jade.attr("href",specialization.getLink(),!0,!1)+' data-js="specialization-tile-course-link" target="_blank" class="c-accomplishments-specialization-tile-name"><p>'+jade.escape(null==(jade_interp=_t(specialization.get("name")))?"":jade_interp)+'</p></a><p class="c-accomplishments-specialization-tile-byline">'+jade.escape(null==(jade_interp=_t(specialization.get("details").byline))?"":jade_interp)+'</p><p class="c-accomplishments-specialization-tile-university">'+jade.escape(null==(jade_interp=_t(partnerNames))?"":jade_interp)+'</p><p class="c-accomplishments-specialization-tile-counts"><div>'+jade.escape(null==(jade_interp=_t("#{specializationMembership.getPassedCourses().length} Verified Certificates",{"specializationMembership.getPassedCourses().length":specializationMembership.getPassedCourses().length}))?"":jade_interp)+"</div><div>"+jade.escape(null==(jade_interp=_t("1 Capstone Project"))?"":jade_interp)+'</div></p><div class="c-accomplishments-specialization-tile-links bt3-row">'),linkedinUrl)buf.push('<div class="bt3-col-sm-4">'),jade_mixins["c-linkedin-button"](linkedinUrl),buf.push("</div>");buf.push("</div></div></div>")}.call(this,"_t"in locals_for_with?locals_for_with._t:"undefined"!=typeof _t?_t:void 0,"userIdentity"in locals_for_with?locals_for_with.userIdentity:"undefined"!=typeof userIdentity?userIdentity:void 0,"specializationMembership"in locals_for_with?locals_for_with.specializationMembership:"undefined"!=typeof specializationMembership?specializationMembership:void 0,"certImageUrl"in locals_for_with?locals_for_with.certImageUrl:"undefined"!=typeof certImageUrl?certImageUrl:void 0,"specialization"in locals_for_with?locals_for_with.specialization:"undefined"!=typeof specialization?specialization:void 0,"partnerNames"in locals_for_with?locals_for_with.partnerNames:"undefined"!=typeof partnerNames?partnerNames:void 0,"linkedinUrl"in locals_for_with?locals_for_with.linkedinUrl:"undefined"!=typeof linkedinUrl?linkedinUrl:void 0),buf.join("")};return function(locals){if(locals)if(locals._t)_t=locals._t.merge(_t);return yudify(locals)}};if("function"==typeof define&&define.amd)define("pages/accomplishments/list/views/specializationTile.html",["js/vendor/jade","i18n!pages/accomplishments/list/views/nls/specializationTile"],function(jade,_t){var _h;return jadify(jade,_t,_h)});else wndw.jade.templates["pages.accomplishments.list.views.specializationTile"]=jadify(wndw.jade.helpers)}(window),define("pages/accomplishments/list/views/specializationTile",["require","bundles/phoenix/lib/view","bundles/phoenix/template/models/userIdentity","pages/accomplishments/constants","pages/accomplishments/list/views/specializationTile.html","pages/accomplishments/common/lib/linkedIn"],function(require){var PhoenixView=require("bundles/phoenix/lib/view"),userIdentity=require("bundles/phoenix/template/models/userIdentity"),constants=require("pages/accomplishments/constants"),template=require("pages/accomplishments/list/views/specializationTile.html"),linkedIn=require("pages/accomplishments/common/lib/linkedIn"),SpecializationTile=PhoenixView.extend({template:template,events:{'click [data-js~="linkedin-button"]':"onLinkedInButtonClick",'click [data-js~="specialization-tile-course-link"]':"onSpecializationTitleClick",'click [data-js~="specialization-link"]':"onCertificateClick"},initialize:function(options){this.specializationMembership=options.specializationMembership,this.specialization=this.specializationMembership.get("specialization")},render:function(){return this.$el.html(this.template({certImageUrl:constants.getSpecCertImageUrl(this.specialization.get("shortName")),specializationMembership:this.specializationMembership,specialization:this.specialization,linkedinUrl:linkedIn.specializationUrl(this.specializationMembership),partnerNames:this.specialization.get("partners").getNamesString(),userIdentity:userIdentity})),this},triggerTrackEvent:function(e,eventName){this.trigger("trackEvent",eventName,{specializationName:this.specialization.get("name"),specializationId:this.specialization.get("id"),vcIndex:this.$(e.currentTarget).parents('[data-js~="accomplishments-specialization-tile"]').parent().index()})},onLinkedInButtonClick:function(e){this.triggerTrackEvent(e,"click.addSpecializationCertificateToLinkedin")},onSpecializationTitleClick:function(e){this.triggerTrackEvent(e,"click.specializationCourseLink")},onCertificateClick:function(e){this.triggerTrackEvent(e,"click.specializationRecord")}});return SpecializationTile}),define("pages/accomplishments/list/views/body",["require","bundles/phoenix/lib/view","bundles/phoenix/template/models/userIdentity","pages/accomplishments/constants","pages/accomplishments/list/viewModels/recordList","pages/accomplishments/list/views/body.html","pages/accomplishments/list/views/courseListing","pages/accomplishments/list/views/verifiedCertificateTile","pages/accomplishments/list/views/specializationTile"],function(require){var PhoenixView=require("bundles/phoenix/lib/view"),userIdentity=require("bundles/phoenix/template/models/userIdentity"),constants=require("pages/accomplishments/constants"),RecordListViewModel=require("pages/accomplishments/list/viewModels/recordList"),template=require("pages/accomplishments/list/views/body.html"),CourseListing=require("pages/accomplishments/list/views/courseListing"),RecordTile=require("pages/accomplishments/list/views/verifiedCertificateTile"),SpecializationTile=require("pages/accomplishments/list/views/specializationTile"),ListBody=PhoenixView.extend({events:{'click [data-js~="show-past-courses-button"]':"togglePastCourses",'click [data-js~="hide-past-courses-button"]':"togglePastCourses"},name:"body",template:template,initialize:function(options){this.model=new RecordListViewModel,this.enrollments=options.enrollments,this.courses=options.courses,this.specializationMemberships=options.specializationMemberships,this.listenTo(this.model,"change",this.renderVisibility)},multitracker:{namespace:"accomplishments.listPage",baseValues:["sectionVisibility","recordCounts"],definitions:{sectionVisibility:function(){return this.model.toJSON()},otherRecordIndex:function(e){return this.$(e.currentTarget).parents('[data-js~="other-record"]').parent().index()},recordCounts:function(){var specCount=this.$$("specializations-container").find('[data-js~="accomplishments-specialization-tile"]').length;return{Specializations:specCount,VC:this.$$("records-container").find('[data-js~="record-link"]').length,otherCompleted:this.$$("other-courses-container").children().length,incomplete:this.$$("past-courses-container").children().length}}},events:{"click.viewSoa":{delegate:'click [data-js~="soa-link"]',values:["otherRecordIndex"]},"click.addSoaToLinkedin":{delegate:'click [data-js~="other-courses-container"] [data-js~="linkedin-button"]',values:["otherRecordIndex"]},"click.earnNextCertificateLink":'click [data-js~="earn-next-certificate"]',"click.vcCoursesButton":'click [data-js~="vc-courses-button"]',"click.vcCourseTitle":'click [data-js~="vc-tile-course-link"]',"click.courseListingCourseLink":'click [data-js~="course-listing-course-link"]'}},render:function(){var specializationsWithCertificates=this.specializationMemberships.filterWithSpecializationCertificates();return this.$el.html(this.template({config:constants.config,vcCoursesLink:constants.vcCoursesLink,userIdentity:userIdentity,certImageUrl:constants.certImageUrl,hasSpecializationCertificates:specializationsWithCertificates.length>0})),specializationsWithCertificates.each(this.renderSpecializationTile,this),this.renderRecordTiles(),this},appendSubview:function(Type,target,initialize){this.region.append(Type,{initialize:initialize,to:target}).then(function(subview){this.listenTo(subview.view,"trackEvent",this.trackSubviewEvent.bind(this))}.bind(this))},renderRecordTiles:function(){this.enrollments.each(this.renderRecords,this)},renderSpecializationTile:function(specializationMembership){this.appendSubview(SpecializationTile,this.$$("specializations-container"),{specializationMembership:specializationMembership})},renderRecords:function(enrollment){var course=this.courses.get("v1-"+enrollment.getCourseId()),sessions=course&&course.get("details.sessions"),session=sessions&&sessions.get(enrollment.getSessionId()),typeOfListing=CourseListing,listingContainer=this.$$("past-courses-container");if(course&&enrollment.courseEnded()){if(enrollment.passedCourse())if(enrollment.isEligibleForVC()&&session&&session.get("certificatesReleased"))typeOfListing=RecordTile,listingContainer=this.$$("records-container"),this.model.set({"no-certificates-tile-visible":!1,"next-signature-track-tile-visible":!0});else typeOfListing=CourseListing,listingContainer=this.$$("other-courses-container"),this.model.set("other-courses-table-visible",!0);else this.model.set("past-courses-table-visible",!0);this.appendSubview(typeOfListing,listingContainer,{enrollment:enrollment,course:course})}},renderVisibility:function(){this.renderByVisibility("other-courses-table-visible",this.$$("other-courses-table")),this.renderByVisibility("past-courses-table-visible",this.$$("past-courses-table")),this.renderByVisibility("no-certificates-tile-visible",this.$$("no-certificates-tile")),this.renderByVisibility("next-signature-track-tile-visible",this.$$("next-signature-track-tile"))
},renderByVisibility:function(visibilitySetting,container){if(this.model.get(visibilitySetting))container.removeClass("bt3-hide");else container.addClass("bt3-hide")},togglePastCourses:function(){this.track("click.togglePastCourses"),this.$$("show-past-courses-button").toggleClass("bt3-hide"),this.$$("hide-past-courses-button").toggleClass("bt3-hide"),this.$$("past-courses-container").toggleClass("bt3-hide")},trackSubviewEvent:function(eventName,eventValues){this.track(eventName,eventValues)}});return ListBody}),define("pages/accomplishments/list/entry",["require","origami","q","underscore","bundles/phoenix/template/models/userIdentity","memoize!pages/accomplishments/common/promises/courses","memoize!pages/accomplishments/common/promises/enrollments","memoize!pages/accomplishments/common/promises/specializationMemberships","bundles/phoenix/template/layout/page","pages/accomplishments/common/layout/body","pages/accomplishments/common/layout/header","pages/accomplishments/common/views/courseStoryList","pages/accomplishments/list/views/body"],function(require){var origami=require("origami"),Q=require("q"),_=require("underscore"),userIdentity=require("bundles/phoenix/template/models/userIdentity"),coursesPromise=require("memoize!pages/accomplishments/common/promises/courses"),enrollmentsPromise=require("memoize!pages/accomplishments/common/promises/enrollments"),specializationMembershipsPromise=require("memoize!pages/accomplishments/common/promises/specializationMemberships");require("bundles/phoenix/template/layout/page"),require("pages/accomplishments/common/layout/body"),require("pages/accomplishments/common/layout/header"),require("pages/accomplishments/common/views/courseStoryList"),require("pages/accomplishments/list/views/body");var authenticated=userIdentity&&userIdentity.get("authenticated"),toV1Ids=function(ids){return _(ids).map(function(id){return"v1-"+id})},openCourseStory=function(openCourseStory,params){if(!authenticated)return void(window.location="/");var enrollments=enrollmentsPromise({data:{include_course_records:!0}}),courses=enrollments.then(function(enrollmentsCollection){var courseIds=enrollmentsCollection.invoke("getCourseId");return coursesPromise(toV1Ids(_.unique(courseIds)))});return Q.all([enrollments,courses,specializationMembershipsPromise(params)]).spread(function(enrollmentsCollection,coursesCollection,specializationMemberships){var courseIds=toV1Ids(enrollmentsCollection.invoke("getCourseId")),enrollmentsInNonPublicCourses=_(courseIds).chain().difference(coursesCollection.pluck("id")).map(function(courseId){return enrollmentsCollection.getByCourseId(courseId)}).compact().value();enrollmentsCollection.remove(enrollmentsInNonPublicCourses);var headerParams={"pages/accomplishments/common/layout/header":{to:'[data-js~="accomplishments-header"]',initialize:{showBackLink:!1,userName:userIdentity.get("full_name"),userPhoto:userIdentity.get("photo")}}};return origami.region.open({"bundles/phoenix/template/layout/page":{regions:{body:{"pages/accomplishments/common/layout/body":{to:'[data-js~="phoenix-template-region-body"]',regions:{header:headerParams,body:{"pages/accomplishments/list/views/body":{to:'[data-js~="accomplishments-body"]',initialize:{courses:coursesCollection,enrollments:enrollmentsCollection,specializationMemberships:specializationMemberships},regions:{courseStoryList:{"pages/accomplishments/common/views/courseStoryList":{to:'[data-js~="course-stories"]',initialize:{courses:coursesCollection,enrollments:enrollmentsCollection,courseId:openCourseStory}}}}}}}}}}}})}).fail(function(){origami.router.trigger("error",404)}).done()};return{open:_.partial(openCourseStory,null),openCourseStory:openCourseStory}}),define("pages/accomplishments/record/views/nls/body",{es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}),!function(wndw){var jadify=function(jade,_t,_h){var yudify=function template(locals){var buf=[],jade_mixins={},jade_interp,locals_for_with=locals||{};return function(_t,ownRecord,recordLink,zeroClipboardEnabled,certificateLink,certImageUrl,courseName,userName,universityLogo,courseDistinction,courseEndDate,courseDuration,courseWorkload,instructorNames,universityNames,sharedCertificateLink,courseDescription,courseSyllabus,guidebookUrl){if(jade_mixins["c-certificate-image"]=function(certImageUrl,courseName,userName,universityLogo,distinction){var block=this&&this.block,attributes=this&&this.attributes||{};if(buf.push("<img"+jade.attr("src",certImageUrl,!0,!1)+' class="c-accomplishments-certificate-image"/><div class="c-certificate-image-details"><img'+jade.attr("src",universityLogo,!0,!1)+' class="c-certificate-image-logo"/><div class="c-certificate-image-text c-font-serif">'+jade.escape(null==(jade_interp=_t(userName))?"":jade_interp)+'</div><div class="c-certificate-image-text c-font-serif c-certificate-image-text-small">'+jade.escape(null==(jade_interp=_t("has successfully completed"))?"":jade_interp)+'</div><div class="c-certificate-image-text c-font-serif">'+jade.escape(null==(jade_interp=_t(courseName))?"":jade_interp)+"</div></div>"),distinction)buf.push('<span class="c-accomplishments-certificate-ribbon c-font-bold">'+jade.escape(null==(jade_interp=_t("Distinction"))?"":jade_interp)+"</span>");if(block)block&&block()},jade_mixins["c-copy-link"]=function(name,link,zeroClipboardEnabled){var block=this&&this.block,attributes=this&&this.attributes||{};if(zeroClipboardEnabled)buf.push('<div class="bt3-input-group"><input'+jade.attr("id",name,!0,!1)+' type="text"'+jade.attr("value",link,!0,!1)+' class="c-accomplishments-copylink bt3-form-control"/><strong'+jade.attr("data-clipboard-target",name,!0,!1)+jade.attr("data-js","zero-clipboard-copy "+name,!0,!1)+' class="c-accomplishments-copylink-button c-uppercase bt3-input-group-addon bt3-btn">'+jade.escape(null==(jade_interp=_t("Copy"))?"":jade_interp)+"</strong></div>");else buf.push("<input"+jade.attr("id",name,!0,!1)+' type="text"'+jade.attr("value",link,!0,!1)+' class="c-accomplishments-copylink bt3-form-control"/>')},buf.push('<div class="c-accomplishments-record-body">'),ownRecord)buf.push('<div data-js="record-header-copy" class="c-accomplishments-info-box bt3-row"><div class="bt3-col-sm-6">'+jade.escape(null==(jade_interp=_t("Use this link to show the details of your course, your grade and your Verified Certificate."))?"":jade_interp)+'</div><div class="bt3-col-sm-6">'),jade_mixins["c-copy-link"]("header-copylink",recordLink,zeroClipboardEnabled),buf.push("</div></div>");if(buf.push('<div class="c-accomplishments-record-main c-accomplishments-table bt3-row"><div class="bt3-col-sm-12"><div class="c-accomplishments-table-header c-font-bold bt3-row"><div class="bt3-col-sm-12">'+jade.escape(null==(jade_interp=_t("Verified Course Record"))?"":jade_interp)+'</div></div><div class="c-accomplishments-table-body bt3-clearfix bt3-row"><div class="bt3-col-sm-5"><a data-js="accomplishments-link accomplishments-certificate-link"'+jade.attr("href",certificateLink,!0,!1)+' class="c-accomplishments-certificate-image-container">'),jade_mixins["c-certificate-image"].call({block:function(){if(ownRecord)buf.push('<span class="c-accomplishments-certificate-hover c-font-bold c-uppercase"><span class="fa fa-external-link"></span>'+(null==(jade_interp=_t("&nbsp;&nbsp;View Certificate"))?"":jade_interp)+"</span>")}},certImageUrl,courseName,userName,universityLogo,courseDistinction),buf.push('</a></div><div class="bt3-col-sm-7"><h4 class="c-font-bold">'+jade.escape(null==(jade_interp=_t(courseName))?"":jade_interp)+"</h4><p>"+jade.escape(null==(jade_interp=_t("Completed by #{userName} on #{courseEndDate}",{userName:userName,courseEndDate:courseEndDate}))?"":jade_interp)+"</p><p>"+jade.escape(null==(jade_interp=_t(courseDuration))?"":jade_interp)),courseWorkload)buf.push(""+(null==(jade_interp=_t("&nbsp;&nbsp;|&nbsp;&nbsp;#{courseWorkload}",{courseWorkload:courseWorkload}))?"":jade_interp));if(buf.push("</p><p>"+jade.escape(null==(jade_interp=_t(instructorNames))?"":jade_interp)+"</p><p>"+jade.escape(null==(jade_interp=_t(universityNames))?"":jade_interp)+"</p><p>"+jade.escape(null==(jade_interp=_t("Share Only Verified Certificate (No Grade)"))?"":jade_interp)+'</p><div class="bt3-row"><div class="bt3-col-sm-8">'),jade_mixins["c-copy-link"]("body-copylink",sharedCertificateLink,zeroClipboardEnabled),buf.push("</div></div></div></div>"),courseDescription)buf.push('<div class="c-accomplishments-table-subheader c-font-bold">'+jade.escape(null==(jade_interp=_t("Course Description"))?"":jade_interp)+"</div><p>"+(null==(jade_interp=_t(courseDescription))?"":jade_interp)+"</p>");if(courseSyllabus)buf.push('<div class="c-accomplishments-table-subheader c-font-bold">'+jade.escape(null==(jade_interp=_t("Course Syllabus"))?"":jade_interp)+"</div><p>"+(null==(jade_interp=_t(courseSyllabus))?"":jade_interp)+"</p>");buf.push('<div class="c-accomplishments-table-subheader c-font-bold"><em class="c-accomplishments-record-id-check-icon fa fa-check-circle"></em> '+jade.escape(null==(jade_interp=_t("Coursera Identity Verification"))?"":jade_interp)+"</div><p>"+jade.escape(null==(jade_interp=_t("Coursera has verified the photo identification and keystroke profile of the student and their successful participation in the course."))?"":jade_interp)+"</p><p><a"+jade.attr("href",guidebookUrl,!0,!1)+' target="_blank" data-js="learn-more">'+jade.escape(null==(jade_interp=_t("Learn more about identity verification."))?"":jade_interp)+'</a></p><div class="c-accomplishments-table-subheader c-font-bold">'+jade.escape(null==(jade_interp=_t("Frequently Asked Questions"))?"":jade_interp)+"</div><p><strong>"+jade.escape(null==(jade_interp=_t("How should I list my course on my resume/C.V.?"))?"":jade_interp)+"</strong></p><p>"+jade.escape(null==(jade_interp=_t('We\'d recommend "#{courseName} by #{universityNames} on Coursera. Certificate earned on #{courseEndDate}".',{courseName:courseName,universityNames:universityNames,courseEndDate:courseEndDate}))?"":jade_interp)+"</p></div></div></div>")}.call(this,"_t"in locals_for_with?locals_for_with._t:"undefined"!=typeof _t?_t:void 0,"ownRecord"in locals_for_with?locals_for_with.ownRecord:"undefined"!=typeof ownRecord?ownRecord:void 0,"recordLink"in locals_for_with?locals_for_with.recordLink:"undefined"!=typeof recordLink?recordLink:void 0,"zeroClipboardEnabled"in locals_for_with?locals_for_with.zeroClipboardEnabled:"undefined"!=typeof zeroClipboardEnabled?zeroClipboardEnabled:void 0,"certificateLink"in locals_for_with?locals_for_with.certificateLink:"undefined"!=typeof certificateLink?certificateLink:void 0,"certImageUrl"in locals_for_with?locals_for_with.certImageUrl:"undefined"!=typeof certImageUrl?certImageUrl:void 0,"courseName"in locals_for_with?locals_for_with.courseName:"undefined"!=typeof courseName?courseName:void 0,"userName"in locals_for_with?locals_for_with.userName:"undefined"!=typeof userName?userName:void 0,"universityLogo"in locals_for_with?locals_for_with.universityLogo:"undefined"!=typeof universityLogo?universityLogo:void 0,"courseDistinction"in locals_for_with?locals_for_with.courseDistinction:"undefined"!=typeof courseDistinction?courseDistinction:void 0,"courseEndDate"in locals_for_with?locals_for_with.courseEndDate:"undefined"!=typeof courseEndDate?courseEndDate:void 0,"courseDuration"in locals_for_with?locals_for_with.courseDuration:"undefined"!=typeof courseDuration?courseDuration:void 0,"courseWorkload"in locals_for_with?locals_for_with.courseWorkload:"undefined"!=typeof courseWorkload?courseWorkload:void 0,"instructorNames"in locals_for_with?locals_for_with.instructorNames:"undefined"!=typeof instructorNames?instructorNames:void 0,"universityNames"in locals_for_with?locals_for_with.universityNames:"undefined"!=typeof universityNames?universityNames:void 0,"sharedCertificateLink"in locals_for_with?locals_for_with.sharedCertificateLink:"undefined"!=typeof sharedCertificateLink?sharedCertificateLink:void 0,"courseDescription"in locals_for_with?locals_for_with.courseDescription:"undefined"!=typeof courseDescription?courseDescription:void 0,"courseSyllabus"in locals_for_with?locals_for_with.courseSyllabus:"undefined"!=typeof courseSyllabus?courseSyllabus:void 0,"guidebookUrl"in locals_for_with?locals_for_with.guidebookUrl:"undefined"!=typeof guidebookUrl?guidebookUrl:void 0),buf.join("")};return function(locals){if(locals)if(locals._t)_t=locals._t.merge(_t);return yudify(locals)}};if("function"==typeof define&&define.amd)define("pages/accomplishments/record/views/body.html",["js/vendor/jade","i18n!pages/accomplishments/record/views/nls/body"],function(jade,_t){var _h;return jadify(jade,_t,_h)});else wndw.jade.templates["pages.accomplishments.record.views.body"]=jadify(wndw.jade.helpers)}(window),define("pages/accomplishments/record/views/nls/body.includeGrade",{es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}),!function(wndw){var jadify=function(jade,_t,_h){var yudify=function template(locals){var buf=[],jade_mixins={},jade_interp,locals_for_with=locals||{};return function(_t,ownRecord,recordLink,zeroClipboardEnabled,certificateLink,certImageUrl,courseName,userName,universityLogo,courseDistinction,courseGrade,courseEndDate,courseDuration,courseWorkload,instructorNames,universityNames,sharedCertificateLink,courseDescription,courseSyllabus,courseGradingPolicyDistinction,courseGradingPolicy,guidebookUrl){if(jade_mixins["c-copy-link"]=function(name,link,zeroClipboardEnabled){var block=this&&this.block,attributes=this&&this.attributes||{};if(zeroClipboardEnabled)buf.push('<div class="bt3-input-group"><input'+jade.attr("id",name,!0,!1)+' type="text"'+jade.attr("value",link,!0,!1)+' class="c-accomplishments-copylink bt3-form-control"/><strong'+jade.attr("data-clipboard-target",name,!0,!1)+jade.attr("data-js","zero-clipboard-copy "+name,!0,!1)+' class="c-accomplishments-copylink-button c-uppercase bt3-input-group-addon bt3-btn">'+jade.escape(null==(jade_interp=_t("Copy"))?"":jade_interp)+"</strong></div>");else buf.push("<input"+jade.attr("id",name,!0,!1)+' type="text"'+jade.attr("value",link,!0,!1)+' class="c-accomplishments-copylink bt3-form-control"/>')},jade_mixins["c-certificate-image"]=function(certImageUrl,courseName,userName,universityLogo,distinction){var block=this&&this.block,attributes=this&&this.attributes||{};if(buf.push("<img"+jade.attr("src",certImageUrl,!0,!1)+' class="c-accomplishments-certificate-image"/><div class="c-certificate-image-details"><img'+jade.attr("src",universityLogo,!0,!1)+' class="c-certificate-image-logo"/><div class="c-certificate-image-text c-font-serif">'+jade.escape(null==(jade_interp=_t(userName))?"":jade_interp)+'</div><div class="c-certificate-image-text c-font-serif c-certificate-image-text-small">'+jade.escape(null==(jade_interp=_t("has successfully completed"))?"":jade_interp)+'</div><div class="c-certificate-image-text c-font-serif">'+jade.escape(null==(jade_interp=_t(courseName))?"":jade_interp)+"</div></div>"),distinction)buf.push('<span class="c-accomplishments-certificate-ribbon c-font-bold">'+jade.escape(null==(jade_interp=_t("Distinction"))?"":jade_interp)+"</span>");if(block)block&&block()},jade_mixins["c-certificate-image"]=function(certImageUrl,courseName,userName,universityLogo,distinction){var block=this&&this.block,attributes=this&&this.attributes||{};if(buf.push("<img"+jade.attr("src",certImageUrl,!0,!1)+' class="c-accomplishments-certificate-image"/><div class="c-certificate-image-details"><img'+jade.attr("src",universityLogo,!0,!1)+' class="c-certificate-image-logo"/><div class="c-certificate-image-text c-font-serif">'+jade.escape(null==(jade_interp=_t(userName))?"":jade_interp)+'</div><div class="c-certificate-image-text c-font-serif c-certificate-image-text-small">'+jade.escape(null==(jade_interp=_t("has successfully completed"))?"":jade_interp)+'</div><div class="c-certificate-image-text c-font-serif">'+jade.escape(null==(jade_interp=_t(courseName))?"":jade_interp)+"</div></div>"),distinction)buf.push('<span class="c-accomplishments-certificate-ribbon c-font-bold">'+jade.escape(null==(jade_interp=_t("Distinction"))?"":jade_interp)+"</span>");if(block)block&&block()},jade_mixins["c-copy-link"]=function(name,link,zeroClipboardEnabled){var block=this&&this.block,attributes=this&&this.attributes||{};if(zeroClipboardEnabled)buf.push('<div class="bt3-input-group"><input'+jade.attr("id",name,!0,!1)+' type="text"'+jade.attr("value",link,!0,!1)+' class="c-accomplishments-copylink bt3-form-control"/><strong'+jade.attr("data-clipboard-target",name,!0,!1)+jade.attr("data-js","zero-clipboard-copy "+name,!0,!1)+' class="c-accomplishments-copylink-button c-uppercase bt3-input-group-addon bt3-btn">'+jade.escape(null==(jade_interp=_t("Copy"))?"":jade_interp)+"</strong></div>");else buf.push("<input"+jade.attr("id",name,!0,!1)+' type="text"'+jade.attr("value",link,!0,!1)+' class="c-accomplishments-copylink bt3-form-control"/>')},buf.push('<div class="c-accomplishments-record-body">'),ownRecord)buf.push('<div data-js="record-header-copy" class="c-accomplishments-info-box bt3-row"><div class="bt3-col-sm-6">'+jade.escape(null==(jade_interp=_t("Use this link to show the details of your course, your grade and your Verified Certificate."))?"":jade_interp)+'</div><div class="bt3-col-sm-6">'),jade_mixins["c-copy-link"]("header-copylink",recordLink,zeroClipboardEnabled),buf.push("</div></div>");if(buf.push('<div class="c-accomplishments-record-main c-accomplishments-table bt3-row"><div class="bt3-col-sm-12"><div class="c-accomplishments-table-header c-font-bold bt3-row"><div class="bt3-col-sm-12">'+jade.escape(null==(jade_interp=_t("Verified Course Record"))?"":jade_interp)+'</div></div><div class="c-accomplishments-table-body bt3-clearfix bt3-row"><div class="bt3-col-sm-5"><a data-js="accomplishments-link accomplishments-certificate-link"'+jade.attr("href",certificateLink,!0,!1)+' class="c-accomplishments-certificate-image-container">'),jade_mixins["c-certificate-image"].call({block:function(){if(ownRecord)buf.push('<span class="c-accomplishments-certificate-hover c-font-bold c-uppercase"><span class="fa fa-external-link"></span>'+(null==(jade_interp=_t("&nbsp;&nbsp;View Certificate"))?"":jade_interp)+"</span>")}},certImageUrl,courseName,userName,universityLogo,courseDistinction),buf.push('</a></div><div class="bt3-col-sm-7"><h4 class="c-font-bold">'+jade.escape(null==(jade_interp=_t(courseName))?"":jade_interp)+"</h4><p>"+jade.escape(null==(jade_interp=_t("Grade Achieved: #{courseGrade}%",{courseGrade:courseGrade}))?"":jade_interp)+"</p><p>"+jade.escape(null==(jade_interp=_t("Completed by #{userName} on #{courseEndDate}",{userName:userName,courseEndDate:courseEndDate}))?"":jade_interp)+"</p><p>"+jade.escape(null==(jade_interp=_t(courseDuration))?"":jade_interp)),courseWorkload)buf.push(""+(null==(jade_interp=_t("&nbsp;&nbsp;|&nbsp;&nbsp;#{courseWorkload}",{courseWorkload:courseWorkload}))?"":jade_interp));if(buf.push("</p><p>"+jade.escape(null==(jade_interp=_t(instructorNames))?"":jade_interp)+"</p><p>"+jade.escape(null==(jade_interp=_t(universityNames))?"":jade_interp)+"</p><p>"+jade.escape(null==(jade_interp=_t("Share Only Verified Certificate (No Grade)"))?"":jade_interp)+'</p><div class="bt3-row"><div class="bt3-col-sm-8">'),jade_mixins["c-copy-link"]("body-copylink",sharedCertificateLink,zeroClipboardEnabled),buf.push("</div></div></div></div>"),courseDescription)buf.push('<div class="c-accomplishments-table-subheader c-font-bold">'+jade.escape(null==(jade_interp=_t("Course Description"))?"":jade_interp)+"</div><p>"+(null==(jade_interp=_t(courseDescription))?"":jade_interp)+"</p>");if(courseSyllabus)buf.push('<div class="c-accomplishments-table-subheader c-font-bold">'+jade.escape(null==(jade_interp=_t("Course Syllabus"))?"":jade_interp)+"</div><p>"+(null==(jade_interp=_t(courseSyllabus))?"":jade_interp)+"</p>");if(courseDistinction){if(courseGradingPolicyDistinction)buf.push('<div class="c-accomplishments-table-subheader c-font-bold">'+jade.escape(null==(jade_interp=_t("Distinction Grading Policy"))?"":jade_interp)+"</div><p>"+jade.escape(null==(jade_interp=_t("The student’s performance in this course met the standard for Distinction as defined by the course instructor."))?"":jade_interp)+"</p><p>"+jade.escape(null==(jade_interp=_t(courseGradingPolicyDistinction))?"":jade_interp)+"</p>")}else if(courseGradingPolicy)buf.push('<div class="c-accomplishments-table-subheader c-font-bold">'+jade.escape(null==(jade_interp=_t("Grading Policy"))?"":jade_interp)+"</div><p>"+jade.escape(null==(jade_interp=_t(courseGradingPolicy))?"":jade_interp)+"</p>");buf.push('<div class="c-accomplishments-table-subheader c-font-bold"><em class="c-accomplishments-record-id-check-icon fa fa-check-circle"></em> '+jade.escape(null==(jade_interp=_t("Coursera Identity Verification"))?"":jade_interp)+"</div><p>"+jade.escape(null==(jade_interp=_t("Coursera has verified the photo identification and keystroke profile of the student and their successful participation in the course."))?"":jade_interp)+"</p><p><a"+jade.attr("href",guidebookUrl,!0,!1)+' target="_blank" data-js="learn-more">'+jade.escape(null==(jade_interp=_t("Learn more about identity verification."))?"":jade_interp)+'</a></p><div class="c-accomplishments-table-subheader c-font-bold">'+jade.escape(null==(jade_interp=_t("Frequently Asked Questions"))?"":jade_interp)+"</div><p><strong>"+jade.escape(null==(jade_interp=_t("How should I list my course on my resume/C.V.?"))?"":jade_interp)+"</strong></p><p>"+jade.escape(null==(jade_interp=_t('We\'d recommend "#{courseName} by #{universityNames} on Coursera. Certificate earned on #{courseEndDate}".',{courseName:courseName,universityNames:universityNames,courseEndDate:courseEndDate}))?"":jade_interp)+"</p></div></div></div>")}.call(this,"_t"in locals_for_with?locals_for_with._t:"undefined"!=typeof _t?_t:void 0,"ownRecord"in locals_for_with?locals_for_with.ownRecord:"undefined"!=typeof ownRecord?ownRecord:void 0,"recordLink"in locals_for_with?locals_for_with.recordLink:"undefined"!=typeof recordLink?recordLink:void 0,"zeroClipboardEnabled"in locals_for_with?locals_for_with.zeroClipboardEnabled:"undefined"!=typeof zeroClipboardEnabled?zeroClipboardEnabled:void 0,"certificateLink"in locals_for_with?locals_for_with.certificateLink:"undefined"!=typeof certificateLink?certificateLink:void 0,"certImageUrl"in locals_for_with?locals_for_with.certImageUrl:"undefined"!=typeof certImageUrl?certImageUrl:void 0,"courseName"in locals_for_with?locals_for_with.courseName:"undefined"!=typeof courseName?courseName:void 0,"userName"in locals_for_with?locals_for_with.userName:"undefined"!=typeof userName?userName:void 0,"universityLogo"in locals_for_with?locals_for_with.universityLogo:"undefined"!=typeof universityLogo?universityLogo:void 0,"courseDistinction"in locals_for_with?locals_for_with.courseDistinction:"undefined"!=typeof courseDistinction?courseDistinction:void 0,"courseGrade"in locals_for_with?locals_for_with.courseGrade:"undefined"!=typeof courseGrade?courseGrade:void 0,"courseEndDate"in locals_for_with?locals_for_with.courseEndDate:"undefined"!=typeof courseEndDate?courseEndDate:void 0,"courseDuration"in locals_for_with?locals_for_with.courseDuration:"undefined"!=typeof courseDuration?courseDuration:void 0,"courseWorkload"in locals_for_with?locals_for_with.courseWorkload:"undefined"!=typeof courseWorkload?courseWorkload:void 0,"instructorNames"in locals_for_with?locals_for_with.instructorNames:"undefined"!=typeof instructorNames?instructorNames:void 0,"universityNames"in locals_for_with?locals_for_with.universityNames:"undefined"!=typeof universityNames?universityNames:void 0,"sharedCertificateLink"in locals_for_with?locals_for_with.sharedCertificateLink:"undefined"!=typeof sharedCertificateLink?sharedCertificateLink:void 0,"courseDescription"in locals_for_with?locals_for_with.courseDescription:"undefined"!=typeof courseDescription?courseDescription:void 0,"courseSyllabus"in locals_for_with?locals_for_with.courseSyllabus:"undefined"!=typeof courseSyllabus?courseSyllabus:void 0,"courseGradingPolicyDistinction"in locals_for_with?locals_for_with.courseGradingPolicyDistinction:"undefined"!=typeof courseGradingPolicyDistinction?courseGradingPolicyDistinction:void 0,"courseGradingPolicy"in locals_for_with?locals_for_with.courseGradingPolicy:"undefined"!=typeof courseGradingPolicy?courseGradingPolicy:void 0,"guidebookUrl"in locals_for_with?locals_for_with.guidebookUrl:"undefined"!=typeof guidebookUrl?guidebookUrl:void 0),buf.join("")};return function(locals){if(locals)if(locals._t)_t=locals._t.merge(_t);return yudify(locals)}};if("function"==typeof define&&define.amd)define("pages/accomplishments/record/views/body.includeGrade.html",["js/vendor/jade","i18n!pages/accomplishments/record/views/nls/body.includeGrade"],function(jade,_t){var _h;return jadify(jade,_t,_h)});else wndw.jade.templates["pages.accomplishments.record.views.body.includeGrade"]=jadify(wndw.jade.helpers)}(window),define("pages/accomplishments/record/views/body",["require","bundles/phoenix/lib/view","bundles/zeroclipboard/coursera.zeroclipboard.v2-1-6","pages/accomplishments/constants","pages/accomplishments/record/views/body.html","pages/accomplishments/record/views/body.includeGrade.html"],function(require){var PhoenixView=require("bundles/phoenix/lib/view"),ZeroClipboard=require("bundles/zeroclipboard/coursera.zeroclipboard.v2-1-6"),constants=require("pages/accomplishments/constants"),template=require("pages/accomplishments/record/views/body.html"),templateIncludeGrade=require("pages/accomplishments/record/views/body.includeGrade.html"),RecordBody=PhoenixView.extend({name:"body",multitracker:{namespace:"accomplishments.recordPage",baseValues:["includeGrade","ownRecord","zeroClipboardEnabled","courseName","courseId","sessionId","achievementLevel","grade"],definitions:{includeGrade:function(){return this.includeGrade},ownRecord:function(){return this.ownRecord},zeroClipboardEnabled:function(){return ZeroClipboard.isEnabled()},courseName:function(){return this.courseRecord.get("course_name")},courseId:function(){return this.courseRecord.getCourseId()},sessionId:function(){return this.courseRecord.getSessionId()},achievementLevel:function(){return this.courseRecord.getAchievementLevel()},grade:function(){return this.courseRecord.getGrade()}},events:{"click.certificateLink":'click [data-js~="accomplishments-certificate-link"]',"click.shareRecordCopyLink":'click [data-js~="header-copylink"]',"click.shareCertificateCopyLink":'click [data-js~="body-copylink"]',"click.learnMoreLink":'click [data-js~="learn-more"]'}},initialize:function(options){this.courseRecord=options.courseRecord,this.includeGrade=options.includeGrade,this.userName=options.userName,this.ownRecord=options.ownRecord,this.template=this.includeGrade?templateIncludeGrade:template},render:function(){return this.$el.html(this.template({includeGrade:this.includeGrade,certImageUrl:constants.certImageUrl,guidebookUrl:constants.guidebookUrl,recordLink:this.courseRecord.getSharedRecordLink(),certificateLink:this.courseRecord.getCertificateLink(),sharedCertificateLink:this.courseRecord.getSharedCertificateLink(),courseDescription:this.courseRecord.get("about_the_course"),courseDistinction:this.courseRecord.isDistinction(),courseDuration:this.courseRecord.get("duration"),courseEndDate:this.courseRecord.getCourseEndMoment().format("MMMM Do, YYYY"),courseGrade:this.courseRecord.getGradePercentString(),courseGradingPolicy:this.courseRecord.get("grading_policy_normal"),courseGradingPolicyDistinction:this.courseRecord.get("grading_policy_distinction"),courseName:this.courseRecord.get("course_name"),courseSyllabus:this.courseRecord.get("syllabus"),courseWorkload:this.courseRecord.get("time_commitment"),instructorNames:this.courseRecord.getInstructorNames(),universityLogo:this.courseRecord.getUniversityLogo(),universityNames:this.courseRecord.getUniversityNames(),userName:this.userName,ownRecord:this.ownRecord,zeroClipboardEnabled:ZeroClipboard.isEnabled()})),ZeroClipboard(this.$$("zero-clipboard-copy")),this}});return RecordBody}),define("pages/accomplishments/record/entry",["require","origami","underscore","bundles/phoenix/template/models/userIdentity","memoize!pages/accomplishments/common/promises/verifiedCourseRecord","bundles/phoenix/template/layout/page","pages/accomplishments/common/layout/body","pages/accomplishments/common/layout/header","pages/accomplishments/record/views/body"],function(require){var origami=require("origami"),_=require("underscore"),userIdentity=require("bundles/phoenix/template/models/userIdentity"),verifiedCourseRecordPromise=require("memoize!pages/accomplishments/common/promises/verifiedCourseRecord");require("bundles/phoenix/template/layout/page"),require("pages/accomplishments/common/layout/body"),require("pages/accomplishments/common/layout/header"),require("pages/accomplishments/record/views/body");var authenticated=userIdentity.get("authenticated"),userId=userIdentity.get("id"),open=function(code,includeGrade,preview){verifiedCourseRecordPromise({code:code,includeGrade:includeGrade,preview:preview}).then(function(verifiedCourseRecord){var userName=verifiedCourseRecord.getUserFullName(),userPhoto="",ownRecord=authenticated&&userId===verifiedCourseRecord.getUserId(),headerParams={"pages/accomplishments/common/layout/header":{to:'[data-js~="accomplishments-header"]',initialize:{showBackLink:ownRecord,userName:userName,userPhoto:userPhoto}}},bodyParams={"pages/accomplishments/record/views/body":{to:'[data-js~="accomplishments-body"]',initialize:{courseRecord:verifiedCourseRecord,includeGrade:includeGrade,userName:userName,ownRecord:ownRecord}}};return origami.region.open({"bundles/phoenix/template/layout/page":{regions:{body:{"pages/accomplishments/common/layout/body":{initialize:{userName:userName,userPhoto:userPhoto},to:'[data-js~="phoenix-template-region-body"]',regions:{header:headerParams,body:bodyParams}}}}}})}).fail(function(){origami.router.trigger("error",404)}).done()};return{verify:_(open).partial(_,!1,!1),verifyPreview:_(open).partial(_,!1,!0),records:_(open).partial(_,!0,!1),recordsPreview:_(open).partial(_,!0,!0)}}),define("pages/accomplishments/specialization/views/verifiedCertificateTile",["require","bundles/phoenix/template/models/userIdentity","pages/accomplishments/constants","pages/accomplishments/common/lib/linkedIn","pages/accomplishments/list/views/verifiedCertificateTile"],function(require){var userIdentity=require("bundles/phoenix/template/models/userIdentity"),constants=require("pages/accomplishments/constants"),linkedIn=require("pages/accomplishments/common/lib/linkedIn"),RecordTile=require("pages/accomplishments/list/views/verifiedCertificateTile"),SpecializationCourseRecordTile=RecordTile.extend({initialize:function(options){this.ownRecord=options.ownRecord,this.membership=options.membership,this.course=this.membership.get("course")},templateOptions:function(){return{certImageUrl:constants.certImageUrl,courseName:this.course.get("name"),gradePercentage:this.membership.getCourseGradeString(),isDistinction:this.membership.hasDistinction(),linkedinUrl:this.ownRecord&&linkedIn.courseUrlWithMembership(this.membership),recordLink:this.membership.getVerifyLink(),universityLogo:this.course.getCertLogo(),universityNames:this.course.get("partners").getNamesString(),userName:userIdentity.get("authenticated")?userIdentity.get("full_name"):"Jane Learner"}},triggerTrackEvent:function(e,eventName){var grade=this.membership.getCourseGrade(!0);this.trigger("trackEvent",eventName,{courseName:this.course.get("name"),courseId:this.course.get("id"),sessionId:this.membership.get("sessionId"),achievementLevel:grade&&grade.distinctionLevel,grade:grade&&grade.score,vcIndex:this.$(e.currentTarget).parents('[data-js~="accomplishments-record-tile"]').parent().index()})}});return SpecializationCourseRecordTile}),define("pages/accomplishments/specialization/views/nls/body",{es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}),!function(wndw){var jadify=function(jade,_t,_h){var yudify=function template(locals){var buf=[],jade_mixins={},jade_interp,locals_for_with=locals||{};
return function(_t,ownRecord,recordLink,zeroClipboardEnabled,specialization,certificateLink,certImageUrl,userName,partnerNames,numCourses,linkedinUrl,fullCertificateLink,completionDate){if(jade_mixins["c-linkedin-button"]=function(url){var block=this&&this.block,attributes=this&&this.attributes||{};buf.push("<a"+jade.attr("href",url,!0,!1)+' target="_blank" data-js="linkedin-button" class="c-linkedin-button bt3-text-center"><span class="c-linkedin-button-icon fa fa-linkedin-square"></span>&nbsp;&nbsp;<span class="c-linkedin-button-text c-font-normal">'+jade.escape(null==(jade_interp=_t("Add to Profile"))?"":jade_interp)+"</span></a>")},jade_mixins["c-spec-certificate-image"]=function(certImageUrl,userName){var block=this&&this.block,attributes=this&&this.attributes||{};if(buf.push("<img"+jade.attr("src",certImageUrl,!0,!1)+' class="c-accomplishments-certificate-image"/><div class="c-certificate-image-details"><div class="c-certificate-image-text c-font-light">'+jade.escape(null==(jade_interp=_t(userName))?"":jade_interp)+"</div></div>"),block)block&&block()},jade_mixins["c-copy-link"]=function(name,link,zeroClipboardEnabled){var block=this&&this.block,attributes=this&&this.attributes||{};if(zeroClipboardEnabled)buf.push('<div class="bt3-input-group"><input'+jade.attr("id",name,!0,!1)+' type="text"'+jade.attr("value",link,!0,!1)+' class="c-accomplishments-copylink bt3-form-control"/><strong'+jade.attr("data-clipboard-target",name,!0,!1)+jade.attr("data-js","zero-clipboard-copy "+name,!0,!1)+' class="c-accomplishments-copylink-button c-uppercase bt3-input-group-addon bt3-btn">'+jade.escape(null==(jade_interp=_t("Copy"))?"":jade_interp)+"</strong></div>");else buf.push("<input"+jade.attr("id",name,!0,!1)+' type="text"'+jade.attr("value",link,!0,!1)+' class="c-accomplishments-copylink bt3-form-control"/>')},buf.push('<div class="c-accomplishments-record-body c-accomplishments-specialization-body">'),ownRecord)buf.push('<div data-js="specialization-header-copy" class="c-accomplishments-info-box bt3-row"><div class="bt3-col-sm-6"><div class="c-font-bold">'+jade.escape(null==(jade_interp=_t("Share this page with the following link!"))?"":jade_interp)+"</div><div>"+jade.escape(null==(jade_interp=_t("This also includes links to all the certificates you've earned."))?"":jade_interp)+'</div></div><div class="bt3-col-sm-6">'),jade_mixins["c-copy-link"]("header-copylink",recordLink,zeroClipboardEnabled),buf.push("</div></div>");if(buf.push('<div class="c-accomplishments-record-main c-accomplishments-table bt3-row"><div class="bt3-col-sm-12"><div class="c-accomplishments-table-header bt3-row"><div class="bt3-col-sm-12"><span class="c-font-bold">'+jade.escape(null==(jade_interp=_t(specialization.get("name")))?"":jade_interp)+'</span></div></div><div class="c-accomplishments-table-body bt3-clearfix bt3-row"><div class="bt3-col-sm-6"><a data-js="accomplishments-link accomplishments-certificate-link"'+jade.attr("href",certificateLink,!0,!1)+' class="c-accomplishments-specialization-certificate c-accomplishments-certificate-image-container">'),jade_mixins["c-spec-certificate-image"].call({block:function(){if(ownRecord)buf.push('<span class="c-accomplishments-certificate-hover c-font-bold c-uppercase"><span class="fa fa-external-link"></span>'+(null==(jade_interp=_t("&nbsp;&nbsp;View Certificate"))?"":jade_interp)+"</span>")}},certImageUrl,userName),buf.push('</a></div><div data-js="specialization-details" class="bt3-col-sm-6"><p class="c-accomplishments-specialization-tile-byline">'+jade.escape(null==(jade_interp=_t(specialization.get("details").byline))?"":jade_interp)+'</p><p class="c-accomplishments-specialization-tile-university">'+jade.escape(null==(jade_interp=_t(partnerNames))?"":jade_interp)+'</p><p class="c-accomplishments-specialization-tile-counts"><div>'+jade.escape(null==(jade_interp=_t("#{numCourses} Verified Certificates",{numCourses:numCourses}))?"":jade_interp)+"</div><div>"+jade.escape(null==(jade_interp=_t("1 Capstone Project"))?"":jade_interp)+"</div></p>"),linkedinUrl)buf.push('<div class="bt3-row"><div class="bt3-col-sm-6">'),jade_mixins["c-linkedin-button"](linkedinUrl),buf.push("</div></div>");if(ownRecord)buf.push('<div class="c-accomplishments-info-box"><div class="c-font-bold">'+jade.escape(null==(jade_interp=_t("Share your certificate with the following link!"))?"":jade_interp)+"</div><div>"+jade.escape(null==(jade_interp=_t("This links to the PDF view of your Specialization Certificate."))?"":jade_interp)+"</div>"),jade_mixins["c-copy-link"]("body-copylink",fullCertificateLink,zeroClipboardEnabled),buf.push("</div>");buf.push('</div></div><div class="c-accomplishments-table-subheader"><span class="c-font-bold">'+jade.escape(null==(jade_interp=_t("Verified Certificates"))?"":jade_interp)+'</span><em class="c-accomplishments-table-header-secondary-text">'+jade.escape(null==(jade_interp=_t("Earned after completing each course in the Specialization"))?"":jade_interp)+'</em></div><div data-js="verified-certs" class="c-accomplishments-specialization-vc-container bt3-row"></div><div class="c-accomplishments-table-subheader c-font-bold">'+jade.escape(null==(jade_interp=_t("Specialization Description"))?"":jade_interp)+"</div><p>"+jade.escape(null==(jade_interp=_t(specialization.get("details").byline))?"":jade_interp)+"</p><p>"+jade.escape(null==(jade_interp=_t(specialization.get("details").incentives))?"":jade_interp)+"</p><p>"+jade.escape(null==(jade_interp=_t(specialization.get("details").description))?"":jade_interp)+'</p><div class="c-accomplishments-table-subheader c-font-bold">'+jade.escape(null==(jade_interp=_t("Frequently Asked Questions"))?"":jade_interp)+"</div><p><strong>"+jade.escape(null==(jade_interp=_t("How should I represent my completed Coursera Specialization Certificate on my resume/C.V.?"))?"":jade_interp)+"</strong></p><p>"+jade.escape(null==(jade_interp=_t("We'd recommend \"#{specialization.get('name')}, a #{numCourses}-course specialization by #{partnerNames} on Coursera. Specialization Certificate earned on #{completionDate}\".",{"specialization.get('name')":specialization.get("name"),numCourses:numCourses,partnerNames:partnerNames,completionDate:completionDate}))?"":jade_interp)+"</p></div></div></div>")}.call(this,"_t"in locals_for_with?locals_for_with._t:"undefined"!=typeof _t?_t:void 0,"ownRecord"in locals_for_with?locals_for_with.ownRecord:"undefined"!=typeof ownRecord?ownRecord:void 0,"recordLink"in locals_for_with?locals_for_with.recordLink:"undefined"!=typeof recordLink?recordLink:void 0,"zeroClipboardEnabled"in locals_for_with?locals_for_with.zeroClipboardEnabled:"undefined"!=typeof zeroClipboardEnabled?zeroClipboardEnabled:void 0,"specialization"in locals_for_with?locals_for_with.specialization:"undefined"!=typeof specialization?specialization:void 0,"certificateLink"in locals_for_with?locals_for_with.certificateLink:"undefined"!=typeof certificateLink?certificateLink:void 0,"certImageUrl"in locals_for_with?locals_for_with.certImageUrl:"undefined"!=typeof certImageUrl?certImageUrl:void 0,"userName"in locals_for_with?locals_for_with.userName:"undefined"!=typeof userName?userName:void 0,"partnerNames"in locals_for_with?locals_for_with.partnerNames:"undefined"!=typeof partnerNames?partnerNames:void 0,"numCourses"in locals_for_with?locals_for_with.numCourses:"undefined"!=typeof numCourses?numCourses:void 0,"linkedinUrl"in locals_for_with?locals_for_with.linkedinUrl:"undefined"!=typeof linkedinUrl?linkedinUrl:void 0,"fullCertificateLink"in locals_for_with?locals_for_with.fullCertificateLink:"undefined"!=typeof fullCertificateLink?fullCertificateLink:void 0,"completionDate"in locals_for_with?locals_for_with.completionDate:"undefined"!=typeof completionDate?completionDate:void 0),buf.join("")};return function(locals){if(locals)if(locals._t)_t=locals._t.merge(_t);return yudify(locals)}};if("function"==typeof define&&define.amd)define("pages/accomplishments/specialization/views/body.html",["js/vendor/jade","i18n!pages/accomplishments/specialization/views/nls/body"],function(jade,_t){var _h;return jadify(jade,_t,_h)});else wndw.jade.templates["pages.accomplishments.specialization.views.body"]=jadify(wndw.jade.helpers)}(window),define("pages/accomplishments/specialization/views/body",["require","bundles/phoenix/lib/view","bundles/zeroclipboard/coursera.zeroclipboard.v2-1-6","pages/accomplishments/common/lib/linkedIn","pages/accomplishments/constants","pages/accomplishments/specialization/views/verifiedCertificateTile","pages/accomplishments/specialization/views/body.html"],function(require){var PhoenixView=require("bundles/phoenix/lib/view"),ZeroClipboard=require("bundles/zeroclipboard/coursera.zeroclipboard.v2-1-6"),linkedIn=require("pages/accomplishments/common/lib/linkedIn"),constants=require("pages/accomplishments/constants"),RecordTile=require("pages/accomplishments/specialization/views/verifiedCertificateTile"),template=require("pages/accomplishments/specialization/views/body.html"),SpecializationBody=PhoenixView.extend({name:"body",template:template,multitracker:{namespace:"accomplishments.specCertPage",baseValues:["ownRecord","zeroClipboardEnabled","specializationName","specializationId"],definitions:{ownRecord:function(){return this.ownRecord},zeroClipboardEnabled:function(){return ZeroClipboard.isEnabled()},specializationName:function(){return this.specialization.get("name")},specializationId:function(){return this.specialization.get("id")}},events:{"click.viewSpecializationCertificate":'click [data-js~="accomplishments-certificate-link"]',"click.addSpecializationCertificateToLinkedin":'click [data-js~="specialization-details"] [data-js~="linkedin-button"]',"click.shareRecordCopyLink":'click [data-js~="header-copylink"]',"click.shareCertificateCopyLink":'click [data-js~="body-copylink"]'}},initialize:function(options){this.specializationMembership=options.specializationMembership,this.specialization=this.specializationMembership.get("specialization"),this.ownRecord=options.ownRecord,this.userName=options.userName},render:function(){var membership=this.specializationMembership;return this.$el.html(this.template({certImageUrl:constants.getSpecCertImageUrl(this.specialization.get("shortName")),guidebookUrl:constants.guidebookUrl,recordLink:membership.getFullRecordsLink(),certificateLink:membership.getCertificateLink(),fullCertificateLink:membership.getFullCertificateLink(),specializationMembership:membership,specialization:this.specialization,numCourses:membership.getPassedCourses().length,completionDate:membership.getCompletionDate().format("LL"),linkedinUrl:linkedIn.specializationUrl(membership),partnerNames:this.specialization.get("partners").getNamesString(),userName:this.userName,ownRecord:this.ownRecord,zeroClipboardEnabled:ZeroClipboard.isEnabled()})),ZeroClipboard(this.$$("zero-clipboard-copy")),this.specialization.get("courses").each(function(course){var membership=course.get("memberships").filterVerifiedCertificates().last();if(membership&&!course.isCapstone())this.renderVCRecord(membership)},this),this},renderVCRecord:function(membership){this.region.append(RecordTile,{initialize:{membership:membership,course:membership.get("course"),ownRecord:this.ownRecord},to:this.$$("verified-certs")}).then(function(subview){this.listenTo(subview.view,"trackEvent",this.trackSubviewEvent.bind(this))}.bind(this))},trackSubviewEvent:function(eventName,eventValues){this.track(eventName,eventValues)}});return SpecializationBody}),define("pages/accomplishments/specialization/entry",["require","origami","underscore","bundles/phoenix/template/models/userIdentity","memoize!pages/accomplishments/common/promises/specializationMemberships","pages/accomplishments/constants","bundles/phoenix/template/layout/page","pages/accomplishments/common/layout/body","pages/accomplishments/common/layout/header","pages/accomplishments/specialization/views/body"],function(require){var origami=require("origami"),_=require("underscore"),userIdentity=require("bundles/phoenix/template/models/userIdentity"),specializationMembershipsPromise=require("memoize!pages/accomplishments/common/promises/specializationMemberships"),constants=require("pages/accomplishments/constants");require("bundles/phoenix/template/layout/page"),require("pages/accomplishments/common/layout/body"),require("pages/accomplishments/common/layout/header"),require("pages/accomplishments/specialization/views/body");var userId=userIdentity.get("id"),open=function(code,includeGrade,params){specializationMembershipsPromise(params).then(function(specializationMemberships){var specializationMembership=specializationMemberships.getByCertificateCode(code);if(!specializationMembership)return origami.router.trigger("error",404);var userName=userIdentity.get("full_name"),userPhoto=userIdentity.get("photo"),headerParams={"pages/accomplishments/common/layout/header":{to:'[data-js~="accomplishments-header"]',initialize:{showBackLink:!0,userName:userName,userPhoto:userPhoto}}},bodyParams={"pages/accomplishments/specialization/views/body":{to:'[data-js~="accomplishments-body"]',initialize:{specializationMembership:specializationMembership,ownRecord:includeGrade,userName:userName}}};return origami.region.open({"bundles/phoenix/template/layout/page":{regions:{body:{"pages/accomplishments/common/layout/body":{initialize:{userName:userName,userPhoto:userPhoto},to:'[data-js~="phoenix-template-region-body"]',regions:{header:headerParams,body:bodyParams}}}}}})}).fail(function(){origami.router.trigger("error",404)}).done()},certificate=function(code,params){specializationMembershipsPromise(params).then(function(specializationMemberships){var specializationMembership=specializationMemberships.getByCertificateCode(code);if(!specializationMembership)return origami.router.trigger("error",404);var pdfUrl=constants.getSpecCertPdfUrl(userId,code);return origami.region.open({"bundles/phoenix/template/layout/fullscreen":{regions:{body:{"pages/accomplishments/certificate/views/body":{initialize:{pdfUrl:pdfUrl},to:'[data-js~="phoenix-template-fullscreen-body"]',regions:{header:{"pages/accomplishments/specialization/views/certificateHeader":{to:'[data-js~="accomplishments-certificate-header"]',initialize:{specializationMembership:specializationMembership,pdfUrl:pdfUrl}}}}}}}}})}).fail(function(){origami.router.trigger("error",404)}).done()};return{loggedOut:_(open).partial(_,!1),loggedIn:_(open).partial(_,!0),certificate:certificate}}),define("js/vendor/require.css.v0-1-2!bundles/nprogress/nprogress",[],function(){}),define("pages/error/route",["require","js/app/multitrackerSingleton.v0-0-1","js/app/origamiSingleton.v0-0-2","js/vendor/underscore.v1-6","bundles/phoenix/template/layout/page","bundles/phoenix/template/layout/modals"],function(require){var multitracker=require("js/app/multitrackerSingleton.v0-0-1"),origami=require("js/app/origamiSingleton.v0-0-2"),_=require("js/vendor/underscore.v1-6");require("bundles/phoenix/template/layout/page"),require("bundles/phoenix/template/layout/modals");var setupErrorRoutes=function(_base){var routes={};return routes["error/:id"]=function(id){var status=parseInt(id,10);if(_.isNumber(status)&&status>=300&&500>=status)origami.region.open({"bundles/phoenix/template/layout/page":{regions:{body:{"pages/error/body":{id:"error-"+id,initialize:{status:status},to:'[data-js="phoenix-template-region-body"]'}},modals:{"bundles/phoenix/template/layout/modals":{to:'[data-js="phoenix-template-region-modal"]'}}}}});else origami.router.trigger("error",404,location.href)},origami.router.addRoutes(routes),origami.router.on("error",function(code,url,message){multitracker.push(["page.error",{code:code,url:url||location.href,message:message||""}]),routes["error/:id"](code)}),origami.router};return setupErrorRoutes()}),define("pages/accomplishments/routes",["require","backbone","jquery","origami","bundles/nprogress/coursera.nprogress.v0-1-3","bundles/phoenix/lib/viewOpenerWrapper","bundles/phoenix/template/models/userIdentity","js/app/multitrackerSingleton.v0-0-1","js/lib/coursera.ab","pages/accomplishments/certificate/entry","pages/accomplishments/constants","pages/accomplishments/list/entry","pages/accomplishments/record/entry","pages/accomplishments/specialization/entry","css!bundles/nprogress/nprogress.css","pages/error/route"],function(require){var Backbone=require("backbone"),$=require("jquery"),origami=require("origami"),NProgress=require("bundles/nprogress/coursera.nprogress.v0-1-3"),viewOpenerWrapper=require("bundles/phoenix/lib/viewOpenerWrapper"),userIdentity=require("bundles/phoenix/template/models/userIdentity"),multitracker=require("js/app/multitrackerSingleton.v0-0-1"),AB=require("js/lib/coursera.ab"),certificateEntry=require("pages/accomplishments/certificate/entry"),constants=require("pages/accomplishments/constants"),listEntry=require("pages/accomplishments/list/entry"),recordEntry=require("pages/accomplishments/record/entry"),specializationEntry=require("pages/accomplishments/specialization/entry");require("css!bundles/nprogress/nprogress.css"),require("pages/error/route");var routes={};routes[""]=listEntry.open,routes["story/:id"]=listEntry.openCourseStory,routes["verify/:code"]=recordEntry.verify,routes["records/:code"]=recordEntry.records,routes["verify/preview/:sessionId"]=recordEntry.previewVerify,routes["records/preview/:sessionId"]=recordEntry.previewRecords,routes["certificate/:code"]=certificateEntry.open,routes["specialization/:code"]=specializationEntry.loggedIn,routes["specialization/certificate/:code"]=specializationEntry.certificate,origami.router.setupLinks(constants.rootPath,'[data-js~="accomplishments-link"]'),origami.router.addRoutes(routes,viewOpenerWrapper),origami.on("open",function(region){NProgress.start()}),origami.on("opened",function(region){NProgress.stop()}),$(document).ready(function(){if(multitracker.get("204").queue.push(["client","accomplishments"]),userIdentity.get("authenticated"))multitracker.get("204").queue.push(["user",userIdentity.get("id")]),AB.user.setId(userIdentity.get("id"));var routeSuccess=Backbone.history.start({pushState:!0,root:constants.rootPath});if(!routeSuccess)origami.router.trigger("error",404)})}),function(c){var d=document,a="appendChild",i="styleSheet",s=d.createElement("style");s.type="text/css",d.getElementsByTagName("head")[0][a](s),s[i]?s[i].cssText=c:s[a](d.createTextNode(c))}(".bt3-clearfix:before,.bt3-clearfix:after{display:table}@font-face{font-family:'sofiapro';src:url(\"https://dw0ugk4msqulk.cloudfront.net/type/sofiapro/sofiaproregular.eot\");src:url(\"https://dw0ugk4msqulk.cloudfront.net/type/sofiapro/sofiaproregular.eot?#iefix\") format('embedded-opentype'),url(\"https://dw0ugk4msqulk.cloudfront.net/type/sofiapro/sofiaproregular.woff2\") format('woff2'),url(\"https://dw0ugk4msqulk.cloudfront.net/type/sofiapro/sofiaproregular.woff\") format('woff'),url(\"https://dw0ugk4msqulk.cloudfront.net/type/sofiapro/sofiaproregular.ttf\") format('truetype'),url(\"https://dw0ugk4msqulk.cloudfront.net/type/sofiapro/sofiaproregular.svg#sofiapro\") format('svg');font-weight:400;font-style:normal}@font-face{font-family:'sofiapro-bold';src:url(\"https://dw0ugk4msqulk.cloudfront.net/type/sofiapro/sofiaprobold.eot\");src:url(\"https://dw0ugk4msqulk.cloudfront.net/type/sofiapro/sofiaprobold.eot?#iefix\") format('embedded-opentype'),url(\"https://dw0ugk4msqulk.cloudfront.net/type/sofiapro/sofiaprobold.woff2\") format('woff2'),url(\"https://dw0ugk4msqulk.cloudfront.net/type/sofiapro/sofiaprobold.woff\") format('woff'),url(\"https://dw0ugk4msqulk.cloudfront.net/type/sofiapro/sofiaprobold.ttf\") format('truetype'),url(\"https://dw0ugk4msqulk.cloudfront.net/type/sofiapro/sofiaprobold.svg#sofiapro-bold\") format('svg');font-weight:400;font-style:normal}@font-face{font-family:'sofiapro-light';src:url(\"https://dw0ugk4msqulk.cloudfront.net/type/sofiapro/sofiaprolight.eot\");src:url(\"https://dw0ugk4msqulk.cloudfront.net/type/sofiapro/sofiaprolight.eot?#iefix\") format('embedded-opentype'),url(\"https://dw0ugk4msqulk.cloudfront.net/type/sofiapro/sofiaprolight.woff2\") format('woff2'),url(\"https://dw0ugk4msqulk.cloudfront.net/type/sofiapro/sofiaprolight.woff\") format('woff'),url(\"https://dw0ugk4msqulk.cloudfront.net/type/sofiapro/sofiaprolight.ttf\") format('truetype'),url(\"https://dw0ugk4msqulk.cloudfront.net/type/sofiapro/sofiaprolight.svg#sofiapro-light\") format('svg');font-weight:400;font-style:normal}@font-face{font-family:'sofiapro-extralight';src:url(\"https://dw0ugk4msqulk.cloudfront.net/type/sofiapro/sofiaproextralight.eot\");src:url(\"https://dw0ugk4msqulk.cloudfront.net/type/sofiapro/sofiaproextralight.eot?#iefix\") format('embedded-opentype'),url(\"https://dw0ugk4msqulk.cloudfront.net/type/sofiapro/sofiaproextralight.woff2\") format('woff2'),url(\"https://dw0ugk4msqulk.cloudfront.net/type/sofiapro/sofiaproextralight.woff\") format('woff'),url(\"https://dw0ugk4msqulk.cloudfront.net/type/sofiapro/sofiaproextralight.ttf\") format('truetype'),url(\"https://dw0ugk4msqulk.cloudfront.net/type/sofiapro/sofiaproextralight.svg#sofiapro-extralight\") format('svg');font-weight:400;font-style:normal}@font-face{font-family:'sofiapro-medium';src:url(\"https://dw0ugk4msqulk.cloudfront.net/type/sofiapro/sofiapromedium.eot\");src:url(\"https://dw0ugk4msqulk.cloudfront.net/type/sofiapro/sofiapromedium.eot?#iefix\") format('embedded-opentype'),url(\"https://dw0ugk4msqulk.cloudfront.net/type/sofiapro/sofiapromedium.woff2\") format('woff2'),url(\"https://dw0ugk4msqulk.cloudfront.net/type/sofiapro/sofiapromedium.woff\") format('woff'),url(\"https://dw0ugk4msqulk.cloudfront.net/type/sofiapro/sofiapromedium.ttf\") format('truetype'),url(\"https://dw0ugk4msqulk.cloudfront.net/type/sofiapro/sofiapromedium.svg#sofiapro-medium\") format('svg');font-weight:400;font-style:normal}@font-face{font-family:'enriqueta';src:url(\"https://dw0ugk4msqulk.cloudfront.net/type/enriqueta/enriqueta-regular.eot\");src:url(\"https://dw0ugk4msqulk.cloudfront.net/type/enriqueta/enriqueta-regular.eot?#iefix\") format('embedded-opentype'),url(\"https://dw0ugk4msqulk.cloudfront.net/type/enriqueta/enriqueta-regular.woff2\") format('woff2'),url(\"https://dw0ugk4msqulk.cloudfront.net/type/enriqueta/enriqueta-regular.woff\") format('woff'),url(\"https://dw0ugk4msqulk.cloudfront.net/type/enriqueta/enriqueta-regular.ttf\") format('truetype'),url(\"https://dw0ugk4msqulk.cloudfront.net/type/enriqueta/enriqueta-regular.svg#enriqueta\") format('svg');font-weight:400;font-style:normal}body{font-family:'Helvetica Neue',Helvetica,Arial,sans-serif}.c-font-light,.c-font-header,h1,h2,h3,h4,h5,h6,.h1,.h2,.h3,.h4,.h5,.h6{font-family:'sofiapro-light',Arial,sans-serif}.c-font-normal{font-family:'sofiapro-medium',Arial,sans-serif}.c-font-extralight{font-family:'sofiapro-extralight',Arial,sans-serif}.c-font-bold{font-family:'sofiapro-bold',Arial,sans-serif}.c-font-spaced{letter-spacing:1px}.c-font-serif{font-family:'enriqueta',Times,serif}body{font-size:14px;line-height:21px}h1,.h1{font-size:36px;line-height:44px}h2,.h2{font-size:24px;line-height:32px}h3,.h3{font-size:18px;line-height:21px}footer,.c-font-footer{font-size:12px;line-height:15px}.c-phoenix-template-small-logo,.c-phoenix-template-infinity-logo{display:inline-block}.c-phoenix-hide{display:none}.c-hidden-accessibility{clip:rect(1px 1px 1px 1px)}.c-phoenix-template-header{margin-bottom:0}.c-phoenix-template-header .c-phoenix-template-small-logo{height:50px}.c-phoenix-template-header .c-phoenix-template-header-nav>li>a{cursor:pointer;color:#717171;text-decoration:none}.c-phoenix-template-header .c-phoenix-template-header-nav>li>a:hover,.c-phoenix-template-header .c-phoenix-template-header-nav>li>a:focus{color:#4d8ce9;background-color:transparent}.c-phoenix-template-header .c-phoenix-template-header-nav>li>a .c-specializations-new-label{color:#fff;text-decoration:none;font-size:12px;line-height:12px;padding:1px 4px;background-color:#d95450;border-radius:3px;margin-left:4px;position:relative;top:-1px}@media (max-width:767px){.c-phoenix-template-header .c-phoenix-template-header-menu.popup-open{outline:0!important;position:static!important;float:none!important;width:auto!important;background-color:transparent!important;border:0!important;-webkit-box-shadow:none!important;box-shadow:none!important}}@media (min-width:768px){.c-phoenix-template-header .c-phoenix-template-header-collapse-container{display:block}}.c-phoenix-template-header .c-phoenix-template-header-navbar{margin-left:0;margin-right:0}.c-phoenix-template-header .c-phoenix-template-header-navbar .c-phoenix-template-header-navbar-toggle{border-color:#ddd;margin-right:0}.c-phoenix-template-header .c-phoenix-template-header-navbar .c-phoenix-template-header-navbar-toggle:hover,.c-phoenix-template-header .c-phoenix-template-header-navbar .c-phoenix-template-header-navbar-toggle:focus{background-color:#ddd}.c-phoenix-template-header .c-phoenix-template-header-navbar .c-phoenix-template-header-navbar-toggle .c-phoenix-template-header-navbar-icon-bar{background-color:#888}body,.c-phoenix-template-page{background-color:#fafafa}.c-phoenix-template-footer{padding-top:10px;border-top:1px solid #e5e5e5}.c-phoenix-template-footer .c-phoenix-template-small-logo{margin-top:6px;margin-bottom:6px}.c-phoenix-template-footer .c-phoenix-template-footer-link{cursor:pointer;color:#717171;text-decoration:none}.c-phoenix-template-footer .c-phoenix-template-footer-link:hover,.c-phoenix-template-footer .c-phoenix-template-footer-link:focus{color:#4d8ce9;background-color:transparent}.c-phoenix-template-footer-list{list-style-type:none}.c-phoenix-template-footer-list-item{margin-bottom:10px}div[data-readme],.readme{display:none}.readme{background:#daebf8;color:#428bca;padding:10px 40px 9px 20px;position:relative;min-height:50px}.readme a,.readme a:visited:not(.btn){color:#428ccd;font-weight:700;text-decoration:none}.readme a:hover,.readme a:focus{text-decoration:underline}.readme .c-container{max-width:960px;margin:0 auto}.readme .c-message{float:left;margin:4px 25px 0}.readme .c-action-items{margin-left:12px}.readme button{background-color:#51bc53}.readme .c-action-item{font-size:12px}.readme-close-icon{position:absolute;top:50%;right:20px;cursor:pointer;color:#428bca;transform:translateY(-50%)}@media (max-width:991px){.c-message{float:none}}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.c-phoenix-template-small-logo{background:url(\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxNi4yLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iMTA4cHgiIGhlaWdodD0iMTdweCIgdmlld0JveD0iMCAwIDEwOCAxNyIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMTA4IDE3IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxwYXRoIGZpbGw9IiM3MTcxNzIiIGQ9Ik01NC4yODEsNS43NzNjMC4wNjYtMS4yNjksMC41MjEtMi4zMDYsMS4yMzItMy4xMTVWMS41OGgtMC45NDVjLTEuOTEsMC0zLjUyNywwLjczMi00LjQ2NywyLjM4NmgtMC4wNTUNCglWMS43NjJoLTQuODk5djEzLjQ0MWg0LjlWOS43NzdjMC0yLjMwMywwLjY3NC00LjA1OSwzLjM5My00LjA1OUM1My43MzYsNS43Miw1NC4wMTMsNS43MzcsNTQuMjgxLDUuNzczeiIvPg0KPHBhdGggZmlsbD0iIzcxNzE3MiIgZD0iTTkxLjM4LDUuNzI0YzAuNDA3LTEuMTg4LDEuMDY3LTIuMjQ2LDEuOTI1LTMuMDk1di0xLjA1aC0wLjk0M2MtMS45MTEsMC0zLjUyNiwwLjczMi00LjQ3MSwyLjM4NWgtMC4wNTMNCglWMS43NjJoLTQuOTAydjEzLjQ0MWg0LjkwMlY5Ljc3N2MwLTIuMzAzLDAuNjc2LTQuMDU5LDMuMzk1LTQuMDU5TDkxLjM4LDUuNzI0eiIvPg0KPHBhdGggZmlsbD0iIzcxNzE3MiIgZD0iTTY0LjIzMiw1LjIyYy0wLjc1Ni0wLjM5My0xLjgwOC0wLjY1NS0yLjY0NS0wLjY1NWMtMC41NjIsMC0xLjUzMywwLjIzNC0xLjUzMywwLjkxNw0KCWMwLDAuOTE4LDEuNTMzLDEuMDQ4LDIuMjExLDEuMTgyYzIuMjg0LDAuNDQ0LDQuMDEyLDEuNDkzLDQuMDEyLDMuOTc5YzAsMy41MzYtMy4zMTMsNS4wMDgtNi41Miw1LjAwOA0KCWMtMS45NjcsMC0zLjkwMi0wLjU1MS01LjU3NC0xLjU0N2wxLjc3Ny0zLjMzYzAuOTk1LDAuNjg0LDIuNjY1LDEuMzYzLDMuODc3LDEuMzYzYzAuNjIsMCwxLjUzNS0wLjI4NywxLjUzNS0xLjAyMQ0KCWMwLTEuMDQ4LTEuNTM1LTEuMTAzLTMuMDcyLTEuNDk1Yy0xLjUzMy0wLjM5My0zLjA2Ni0xLjEyNS0zLjA2Ni0zLjUzNmMwLTMuMzAyLDMuMDY2LTQuNzY3LDYuMDg4LTQuNzY3DQoJYzEuNTYyLDAsMy4xMjUsMC4yMzUsNC41NDksMC44NjRMNjQuMjMyLDUuMjJ6Ii8+DQo8cGF0aCBmaWxsPSIjNzE3MTcyIiBkPSJNMTA4LDE1LjIwM2gtNC45di0xLjQ5NWgtMC4wNTRjLTAuODYyLDEuMzM2LTIuNTYyLDEuOTM4LTQuMTc1LDEuOTM4Yy00LjA5NiwwLTYuOTc1LTMuMzI4LTYuOTc1LTcuMTgNCgljMC0zLjg0OCwyLjgyOC03LjE1MSw2LjkyLTcuMTUxYzEuNTg4LDAsMy4yNiwwLjU3Niw0LjI4MywxLjc1NFYxLjc2Mmg0Ljg5OUwxMDgsMTUuMjAzTDEwOCwxNS4yMDN6IE05Ni45NTksOC40OTUNCgljMCwxLjcwMiwxLjE2LDMuMDEyLDMuMTUsMy4wMTJjMS45OTIsMCwzLjE0Ny0xLjMwOCwzLjE0Ny0zLjAxMmMwLTEuNjUxLTEuMTU1LTMuMDM5LTMuMTQ3LTMuMDM5DQoJQzk4LjExOSw1LjQ1Nyw5Ni45NTksNi44NDQsOTYuOTU5LDguNDk1eiIvPg0KPHBhdGggZmlsbD0iIzcxNzE3MiIgZD0iTTgyLjE2Myw5LjI4M0g3MS44NDZjMCwxLjkzNywxLjA1MywyLjk4NCwzLjA3MiwyLjk4NGMxLjA1LDAsMS44MDMtMC4zMzksMi4zNDMtMS4yMzFoNC43MTQNCgljLTAuNzgxLDMuMTcxLTMuODc5LDQuNjEyLTcuMDI5LDQuNjEyYy00LjU3NSwwLTcuOTk1LTIuNTE3LTcuOTk1LTcuMTUyYzAtNC40OCwzLjE0Ny03LjE3OCw3LjY0NC03LjE3OA0KCWM0Ljc5MywwLDcuNTcsMi44ODMsNy41Nyw3LjQ2Nkw4Mi4xNjMsOS4yODNMODIuMTYzLDkuMjgzeiBNNzcuNjExLDYuNTNjLTAuMjQzLTEuMjg0LTEuNDU1LTIuMTIyLTIuNzczLTIuMTIyDQoJYy0xLjQyOSwwLTIuNjA5LDAuNzMxLTIuOTEsMi4xMjJINzcuNjExeiIvPg0KPGc+DQoJPGc+DQoJCTxwYXRoIGZpbGw9IiM3MTcxNzIiIGQ9Ik0yOS41NjEsOC4yNjFjLTAuMDA1LTAuMTE2LTAuMDEzLTAuMjI5LTAuMDIyLTAuMzQ0YzAsMCwwLTAuMDAxLDAtMC4wMDJjMCwwLDAtMC4wMDEsMC0wLjAwMg0KCQkJYy0wLjExLTEuMjQ3LTAuNTIyLTIuNDE0LTEuMjIxLTMuNDY4Yy0wLjMxMi0wLjQ3LTAuNjY5LTAuODk3LTEuMDY4LTEuMjhjLTAuNTgzLTAuNTYxLTEuMjU4LTEuMDI1LTIuMDE5LTEuMzkyDQoJCQljLTEuMTQ1LTAuNTQ3LTIuNDEtMC44MjMtMy43Ni0wLjgyM2MtMC4xMzIsMC0wLjI3LDAuMDAyLTAuNDA5LDAuMDA3QzIwLjExNCwxLDE5LjE5NywxLjE4LDE4LjMzNSwxLjQ5Nw0KCQkJYy0wLjg2OSwwLjMxNC0xLjYyNiwwLjcyOS0yLjI0NSwxLjIyN2MtMC4xMjYsMC4xLTAuMjYzLDAuMjIzLTAuNDEsMC4zNThsLTAuMTA2LDAuMTA0TDE1LjQyOSwzLjM0aDAuMDAxaDAuMDAxbC0wLjA2OCwwLjA2Nw0KCQkJTDE1LjMzLDMuNDQzbC0wLjE3MywwLjE4MmMtMC4xMjgsMC4xNDQtMC4yNSwwLjI4OC0wLjM2NCwwLjQyOWwtMC4wMDEtMC4wMDJsLTAuMDA0LTAuMDA0Yy0wLjIzNywwLjI4OC0wLjQ1NiwwLjU4Ni0wLjYxNywwLjg1NA0KCQkJYy0wLjEwOSwwLjE3Mi0wLjIxNiwwLjM0OS0wLjMxOCwwLjUyNkwxMi40NCw4LjI4NWwwLjAwMiwwLjAwMmwtMC4wNzQsMC4xNDVsLTAuMTU2LDAuMzE2Yy0wLjMxLDAuNjI3LTAuNjQyLDEuMjUyLTEuMDEzLDEuNzY4DQoJCQljLTAuODI3LDAuOTA3LTEuNzYyLDEuMzUxLTIuOTY0LDEuMzUxYy0wLjA4NCwwLTAuMTctMC4wMDQtMC4yNTgtMC4wMDljLTAuNzI0LTAuMDI5LTEuMzQ1LTAuMi0xLjg5Ni0wLjUyNg0KCQkJYy0wLjA1OS0wLjAzNS0wLjExNi0wLjA3MS0wLjE3MS0wLjEwOGMtMC40NS0wLjI5OS0wLjc5NS0wLjY4My0xLjA1My0xLjE2MmMtMC4yOTEtMC41NDMtMC40Mi0xLjA5OC0wLjQwMi0xLjY4Ng0KCQkJQzQuNDU2LDguMzYsNC40NTcsOC4zNDYsNC40NTcsOC4zMzNDNC40OTYsNy4zOTcsNC44NTMsNi42NjksNS41NzIsNi4wNEM1Ljc0Nyw1Ljg4OSw1LjkzLDUuNzYxLDYuMTIxLDUuNjQ3DQoJCQljMC4wMjctMC4wMTYsMC4wNTQtMC4wMzEsMC4wODEtMC4wNDVjMC41MzQtMC4yOTEsMS4xNDItMC40MzYsMS44MzktMC40MzZsMC4yMTcsMC4wMDZDOS4zNjUsNS4yMTQsMTAuMjE5LDUuNTYsMTAuOSw2LjIzNQ0KCQkJTDEzLjAzNiwyLjRjLTAuNTExLTAuMzQyLTEuMDg4LTAuNjM2LTEuNzI0LTAuODc1Yy0wLjAyNC0wLjAwOS0wLjA0OS0wLjAxOS0wLjA3NC0wLjAyN2MtMC4wNzYtMC4wMjctMC4xNTEtMC4wNTUtMC4yMjktMC4wOA0KCQkJQzEwLjMzMywxLjE5Miw5LjYyNCwxLjA1Myw4Ljg5NCwwLjk5bDAsMEM4Ljg3NiwwLjk4Nyw4Ljg1NiwwLjk4NSw4LjgzOCwwLjk4M0M4LjcyNiwwLjk3Niw4LjYxMiwwLjk2Miw4LjUsMC45NTcNCgkJCUM4LjM3OCwwLjk1Miw4LjI1NSwwLjk1LDguMTM1LDAuOTQ5SDguMDY2Yy0xLjM0MywwLjAwNS0yLjU5MSwwLjI4LTMuNzMyLDAuODI1QzMuMDU2LDIuMzksMi4wMiwzLjI4NywxLjI1Miw0LjQ0Mw0KCQkJQzAuNDg2LDUuNTk5LDAuMDY4LDYuODgyLDAuMDA4LDguMjU5QzAuMDAzLDguMzc3LDAsOC40OTQsMCw4LjYwOWMtMC4wMDEsMS45MjYsMC43MDEsMy42MiwyLjA5Nyw1LjA0Mg0KCQkJYzEuNDU3LDEuNDkyLDMuMzUyLDIuMjk2LDUuNjI3LDIuMzkxYzAuMTQ2LDAuMDA2LDAuMjksMC4wMSwwLjQzNCwwLjAxYzEuMjg3LDAsMi40NzgtMC4yMjksMy41NDYtMC42ODcNCgkJCWMwLjI2Ny0wLjExNCwwLjUyNi0wLjI0OCwwLjc5MS0wLjM5N2MwLjE0NC0wLjA4MywwLjI4LTAuMTcxLDAuNDE1LTAuMjY1bDAuMS0wLjA2N2wwLjE2OC0wLjExNQ0KCQkJYzAuMjAyLTAuMTQ1LDAuMzkxLTAuMzAyLDAuNTc1LTAuNDY5bDAuMDY0LTAuMDYxYzAuMTA4LTAuMTAzLDAuMjE2LTAuMjA3LDAuMzE4LTAuMzE0bDAuMzgzLTAuNDMzbDAuMTQ2LTAuMTgzbDAuMDY4LTAuMQ0KCQkJbDAuMDY4LTAuMDk4YzAuNTY5LTAuOTU2LDIuNDIxLTQuNDM1LDIuNDIxLTQuNDM1VjguNDIxbDAuMTEtMC4yMTJsMC4wOTItMC4xNjZjMC4yNzMtMC40OTcsMC40Ny0wLjg1LDAuNzMxLTEuMjIxbDAuMDA3LTAuMDExDQoJCQljMC42MDktMC44ODMsMS42NTYtMS41MTIsMi44OS0xLjYxOGMyLjA3LTAuMTc4LDMuODg0LDEuMTgyLDQuMDUxLDMuMDM4YzAuMTY2LDEuODU2LTEuMzc4LDMuNTA1LTMuNDQ4LDMuNjg0DQoJCQljLTAuNDMxLDAuMDM3LTAuODUsMC4wMDgtMS4yNDUtMC4wNzlsLTAuMDEsMC4wMDRjLTEuNTE5LTAuMzE2LTIuNDg2LTEuNDI0LTIuOTYzLTEuOTE5bC0xLjk5MiwzLjY2Mw0KCQkJYzAsMCwwLjYxOSwwLjYyNCwxLjA0MywwLjkzNmMwLjQyNSwwLjMxMSwwLjk3NCwwLjYxNywxLjQxMiwwLjgwN2MxLjA2MywwLjQ1NCwyLjIxOSwwLjcyNiwzLjQ5NiwwLjcyNg0KCQkJYzAuMTQ4LDAsMC4xMTgsMCwwLjI3Mi0wLjAwNmMyLjI3My0wLjA5NSw0LjI5OS0wLjk2Niw1Ljc2LTIuNDU4YzEuMzg0LTEuNDE3LDIuMTM1LTMuMDM1LDIuMTQyLTQuOTVWOC41ODINCgkJCUMyOS41NjgsOC40NzYsMjkuNTY1LDguMzY5LDI5LjU2MSw4LjI2MXoiLz4NCgk8L2c+DQo8L2c+DQo8Zz4NCgk8cGF0aCBmaWxsPSIjNzE3MTcyIiBkPSJNMzcuMTgxLDE1LjY1N2MtMS4wMzMsMC0xLjk3LTAuMTItMi44MTEtMC4zNmMtMC44NDEtMC4yNC0xLjU1OS0wLjYxOS0yLjE1NC0xLjEzOQ0KCQljLTAuNTk3LTAuNTItMS4wNTctMS4xODItMS4zODEtMS45ODVzLTAuNDg2LTEuNzcxLTAuNDg2LTIuODk5VjEuNzU5aDQuNzI3djcuNDU1YzAsMC44NDUsMC4yMDIsMS40NTcsMC42MDUsMS44MzkNCgkJYzAuNDA0LDAuMzgzLDAuOTE3LDAuNTc0LDEuNTM5LDAuNTc0YzAuNjM2LDAsMS4xNTItMC4xNzgsMS41NS0wLjUzNWMwLjM5Ni0wLjM1NywwLjU5Ni0wLjk0OSwwLjU5Ni0xLjc4MVYxLjc1OWg0LjcyN3Y3LjQxNg0KCQljMCwxLjE2OC0wLjE2NiwyLjE2MS0wLjQ5NywyLjk3OGMtMC4zMzEsMC44MTgtMC43OTgsMS40ODYtMS4zOTksMi4wMDZjLTAuNjA0LDAuNTItMS4zMzEsMC44OTgtMi4xODYsMS4xMzkNCgkJQzM5LjE1NiwxNS41MzcsMzguMjEzLDE1LjY1NywzNy4xODEsMTUuNjU3eiIvPg0KPC9nPg0KPC9zdmc+DQo=\");width:108px;height:17px}.c-phoenix-template-small-logo,.c-phoenix-template-infinity-logo{display:inline-block;background-repeat:no-repeat;background-position:center center}.c-phoenix-template-infinity-logo{background:url(\"https://dw0ugk4msqulk.cloudfront.net/bundles/phoenix/template/images/coursera-infinity.png\");background-size:32px 16px;width:32px;height:16px}.c-phoenix-template-truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.c-phoenix-template-button{outline:none;margin:15px 0;color:#fff;background-color:#428bca;cursor:pointer;border-top-right-radius:3px;border-top-left-radius:3px;border-bottom-right-radius:3px;border-bottom-left-radius:3px}.c-phoenix-template-button:hover{background-color:#3d7cb3;color:#fff}.c-phoenix-template-button[disabled]{background-color:#cccccb}.c-phoenix-template-button:focus{color:#fff}.c-phoenix-template-input{width:100%;height:34px;padding-left:8px;padding-right:8px;margin-bottom:8px;border:1px solid #d2d2d2;font-family:'HelveticaNeue-',Arial,sans-serif;font-weight:400;color:#212121}.c-phoenix-hide{display:none}.c-hidden-accessibility{position:absolute!important;height:1px;width:1px;overflow:hidden;clip:rect(1px 1px 1px 1px)}.c-col-no-left-padding{padding-left:0}.c-col-no-right-padding{padding-right:0}.c-no-margin{margin:0}.tooltip{position:absolute;z-index:1030;display:block;visibility:visible;padding:5px;font-size:11px}.tooltip.top{margin-top:-3px}.tooltip.right{margin-left:3px}.tooltip.bottom{margin-top:3px}.tooltip.left{margin-left:-3px}.tooltip-inner{max-width:200px;padding:3px 8px;color:#fff;text-align:center;text-decoration:none;background-color:#000}.tooltip-arrow{position:absolute;width:0;height:0;border-color:transparent;border-style:solid}.tooltip.top .tooltip-arrow{bottom:0;left:50%;margin-left:-5px;border-width:5px 5px 0;border-top-color:#000}.tooltip.right .tooltip-arrow{top:50%;left:0;margin-top:-5px;border-width:5px 5px 5px 0;border-right-color:#000}.tooltip.left .tooltip-arrow{top:50%;right:0;margin-top:-5px;border-width:5px 0 5px 5px}.tooltip.bottom .tooltip-arrow{top:0;left:50%;margin-left:-5px;border-width:0 5px 5px;border-bottom-color:#000}@media (max-height:568px){.c-user-modal{padding-bottom:40px}.c-user-modal-logo,.c-user-modal-description{display:none!important}}.c-user-modal{text-align:center;padding-top:32px;border-top-right-radius:4px;border-top-left-radius:4px;border-bottom-right-radius:4px;border-bottom-left-radius:4px;max-width:520px}.c-user-modal .c-user-modal-close{position:absolute;top:12px;right:12px;font-size:18px;color:#bdbdbd;cursor:pointer}.c-user-modal .c-user-modal-content{width:250px;display:inline-block}.c-user-modal .c-user-modal-content .c-user-modal-info .c-user-modal-header{font-family:'sofiapro-light',Arial,sans-serif;font-size:24px;line-height:29px;margin-top:0;margin-bottom:16px;color:#39393a}.c-user-modal .c-user-modal-content .c-user-modal-info .c-user-modal-logo{margin-bottom:8px}.c-user-modal .c-user-modal-content .c-user-modal-info .c-user-modal-description{font-size:18px;font-family:'HelveticaNeue-light',Arial,sans-serif;line-height:22px;color:#4a4a4a;display:block;margin-bottom:12px}.c-user-modal .c-user-modal-content .c-user-modal-info .c-user-modal-description-small{font-size:16px;line-height:20px}.c-user-modal .c-user-modal-content .c-user-modal-nav{margin-bottom:8px}.c-user-modal .c-user-modal-content .c-user-modal-form .c-user-modal-nav{margin-bottom:12px}.c-user-modal .c-user-modal-content .c-user-modal-form .c-user-modal-submit{font-weight:700;margin-top:12px;margin-bottom:8px}.c-user-modal .c-user-modal-content .c-user-modal-form:hover{color:#4d8ce9}.c-user-modal .c-user-modal-content .c-user-modal-error-container .c-user-modal-error-text{color:#d9534f;font-size:14px;line-height:14px}.c-user-modal .c-user-modal-content .c-user-modal-controls{padding-top:12px;padding-bottom:16px}.c-user-modal .c-user-modal-content .c-user-modal-controls .c-user-modal-control-group{position:relative}.c-user-modal .c-user-modal-content .c-user-modal-controls .c-user-modal-control-group .c-user-modal-error-icon{color:#d9534f;position:absolute;right:2px;top:2px;cursor:pointer;padding:8px}.c-user-modal .c-user-modal-content .c-user-modal-controls .c-user-modal-control-group .c-user-modal-help-inline{background-color:#d9534f;color:#fff;border-top-right-radius:3px;border-top-left-radius:3px;border-bottom-right-radius:3px;border-bottom-left-radius:3px;font-size:12px;line-height:12px;padding:6px;position:absolute;right:36px;top:5px}.c-user-modal .c-user-modal-content .c-user-modal-controls .c-user-modal-terms{margin-top:8px;font-size:12px;line-height:16px;display:block;color:#bdbdbd}.c-user-modal .c-user-modal-content .c-user-modal-controls .c-user-modal-terms a{text-decoration:none;font-size:12px;line-height:12px;display:inline-block;color:#757575;cursor:pointer}.c-user-modal .c-user-modal-content .c-user-modal-controls .c-user-modal-submit{margin-top:0;margin-bottom:16px}.c-user-modal .c-user-modal-footer{border-top:1px solid #d2d2d2;font-family:'HelveticaNeue-light',Arial,sans-serif;cursor:pointer;font-size:18px;line-height:18px;padding-top:16px;padding-bottom:12px}.c-user-modal .c-user-modal-nav-link{text-decoration:underline;color:#428bca}.c-user-modal .c-user-modal-reset{font-size:12px;line-height:12px;color:#757575;font-weight:700}.tooltip.left{opacity:1}.tooltip.left .tooltip-inner{border-top-right-radius:3px;border-top-left-radius:3px;border-bottom-right-radius:3px;border-bottom-left-radius:3px;background-color:#d9534f}.tooltip.left .tooltip-arrow{border-left-color:#d9534f}.c-user-modal-overlay{background-color:rgba(89,89,90,.75)}.collapse{display:none}.collapse.open{display:block}.collapsing{position:relative;height:0;overflow:hidden}.helpwidget-popup{margin-bottom:40px;border:1px solid #ccc;background-color:#fff;text-align:left;display:none;position:relative;color:#3e3e3e;box-shadow:$shadowLoose;width:280px;font-family:$specialSans}.helpwidget-popup .helpwidget-arrow:before{content:\"\";position:absolute;bottom:-15px;right:12px;border-width:15px 15px 0;border-style:solid;border-color:#ccc rgba(0,0,0,0);display:block;width:0}.helpwidget-popup .helpwidget-arrow:after{content:\"\";position:absolute;bottom:-13px;right:14px;border-width:13px 13px 0;border-style:solid;border-color:#fff rgba(0,0,0,0);display:block;width:0}.helpwidget-tab{cursor:pointer;position:fixed;bottom:0;right:40px;color:#fff;padding:5px 10px;background-color:#339a63;font-family:'sofiapro',Arial,sans-serif;border-top:1px solid #cce6d8;border-left:1px solid #cce6d8;border-right:1px solid #cce6d8;font-size:14px}.helpwidget-tab:hover{background-color:#00b351;border-top:1px solid #def4e6;border-left:1px solid #def4e6;border-right:1px solid #def4e6}.helpwidget-top{color:$gray}.helpwidget-top .helpwidget-header{padding:8px 16px;height:36px;border-bottom:1px solid $grayLight;font-family:$specialSansBold;margin-bottom:0}.helpwidget-top .helpwidget-links a{display:block;padding:13px 16px 11px;height:44px;font-family:$specialSansLight;border-bottom:1px solid $grayLight}.helpwidget-top .helpwidget-links a:last-child{border-bottom:none}.helpwidget-top .helpwidget-links a i{float:right;padding-top:4px}.helpwidget-top .helpwidget-links a:hover{background-color:$grayLighter;text-decoration:none}.helpwidget-button{padding:14px;border-top:1px solid $grayLight;color:$grayDark;display:inline-block;width:50%;height:48px;text-align:center}.helpwidget-button:first-child{border-right:1px solid $grayLight}.helpwidget-button:hover{color:$gray;background-color:$grayLighter;text-decoration:none}.c-helpwidget-tab{background-color:#4889ea;border-top-left-radius:3px;border-top-right-radius:3px;border:1px solid #4d8ce9;height:30px;right:20px;z-index:1}.c-helpwidget-tab a{color:#fff}.c-helpwidget-tab:hover{background-color:#37d;border:1px solid #3769b3}.c-helpwidget-tab:active{background-color:#87b5fa;border:1px solid #3769b3}.c-phoenix-template-fullscreen-container .c-helpwidget-tab{-webkit-transform:rotate(90deg);-moz-transform:rotate(90deg);-o-transform:rotate(90deg);-ms-transform:rotate(90deg);transform:rotate(90deg);top:10em;right:-2.7em}#nprogress{pointer-events:none}#nprogress .bar{background:#0367b0;position:fixed;z-index:100;top:0;left:0;width:100%;height:2px}#nprogress .peg{display:block;position:absolute;right:0;width:100px;height:100%;opacity:1;transform:rotate(3deg)translate(0,-4px)}");
